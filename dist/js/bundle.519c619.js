!function e(t,i,a){function n(r,l){if(!i[r]){if(!t[r]){var s="function"==typeof require&&require;if(!l&&s)return s(r,!0);if(o)return o(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[r]={exports:{}};t[r][0].call(c.exports,function(e){var i=t[r][1][e];return n(i?i:e)},c,c.exports,e,t,i,a)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<a.length;r++)n(a[r]);return n}({1:[function(e,t,i){"use strict";var a=e("./herocalc_knockout"),n=e("./herocalc_core");n.prototype.AbilityModel=function(e,t){var i=this;i.hero=t,i.abilityData=n.prototype.abilityData,i.hasScepter=a.observable(!1),i.isShapeShiftActive=a.observable(!1),i.abilities=e,i._abilities=i.abilities();for(var o=0;o<i.abilities().length;o++)i._abilities[o].level=a.observable(0),i._abilities[o].isActive=a.observable(!1),i._abilities[o].isDetail=a.observable(!1),i._abilities[o].baseDamage=a.observable(0),i._abilities[o].baseDamageReductionPct=a.observable(0),i._abilities[o].baseDamageMultiplier=a.observable(0),i._abilities[o].bash=a.observable(0),i._abilities[o].bashBonusDamage=a.observable(0),i._abilities[o].bonusDamage=a.observable(0),i._abilities[o].bonusDamageOrb=a.observable(0),i._abilities[o].bonusDamagePct=a.observable(0),i._abilities[o].bonusDamagePrecisionAura=a.observable(0),i._abilities[o].bonusDamageReduction=a.observable(0),i._abilities[o].bonusHealth=a.observable(0),i._abilities[o].bonusStrength=a.observable(0),i._abilities[o].bonusStrength2=a.observable(0),i._abilities[o].bonusAgility=a.observable(0),i._abilities[o].bonusAgility2=a.observable(0),i._abilities[o].bonusInt=a.observable(0),i._abilities[o].bonusAllStatsReduction=a.observable(0),i._abilities[o].damageAmplification=a.observable(0),i._abilities[o].damageReduction=a.observable(0),i._abilities[o].evasion=a.observable(0),i._abilities[o].magicResist=a.observable(0),i._abilities[o].manaregen=a.observable(0),i._abilities[o].manaregenreduction=a.observable(0),i._abilities[o].missChance=a.observable(0),i._abilities[o].movementSpeedFlat=a.observable(0),i._abilities[o].movementSpeedPct=a.observable(0),i._abilities[o].movementSpeedPctReduction=a.observable(0),i._abilities[o].turnRateReduction=a.observable(0),i._abilities[o].attackrange=a.observable(0),i._abilities[o].attackspeed=a.observable(0),i._abilities[o].attackspeedreduction=a.observable(0),i._abilities[o].armor=a.observable(0),i._abilities[o].armorReduction=a.observable(0),i._abilities[o].healthregen=a.observable(0),i._abilities[o].lifesteal=a.observable(0),i._abilities[o].visionnight=a.observable(0),i._abilities[o].visionday=a.observable(0);i.abilityControlData={},i.abilitySettingsData=function(e,t,a){return void 0==i.abilityControlData[e]?i.processAbility(e,t,a,i.abilityData[e]):i.abilityControlData[e]},i.processAbility=function(e,t,n,o){var r={};r.data=[];for(var l,s=[],u=0;u<o.length;u++)switch(o[u].controlType){case"input":l=a.observable(0).extend({numeric:2}),l.controlValueType=o[u].controlValueType,s.push(l),r.data.push({labelName:o[u].label.toUpperCase()+":",controlVal:l,controlType:o[u].controlType,display:o[u].display});break;case"checkbox":l=a.observable(!1),l.controlValueType=o[u].controlValueType,s.push(l),r.data.push({labelName:o[u].label.toUpperCase()+"?",controlVal:l,controlType:o[u].controlType,display:o[u].display});break;case"radio":l=a.observable(o[u].controlOptions[0].value),l.controlValueType=o[u].controlValueType,s.push(l),r.data.push({labelName:o[u].label.toUpperCase()+"?",controlVal:l,controlType:o[u].controlType,display:o[u].display,controlOptions:o[u].controlOptions});break;case"method":case"text":if(void 0==o[u].controls){if(o[u].noLevel)var c=function(t){return{fn:a.computed(function(){var a=i.abilities().find(function(t){return t.name==e});return i.getAbilityAttributeValue(a.attributes,t,0)})}};else var c=function(t){return{fn:a.computed(function(){var a=i.abilities().find(function(t){return t.name==e});return i.getAbilityAttributeValue(a.attributes,t,a.level())})}};var d=c(o[u].attributeName),p=i.getComputedFunction(l,d.fn,o[u].fn,t,n,i,o[u].returnProperty,void 0,e);if(o[u].ignoreTooltip)var m=o[u].label||o[u].attributeName;else var m=i.getAbilityAttributeTooltip(i.abilities()[n].attributes,o[u].attributeName)||o[u].label||o[u].attributeName;r.data.push({labelName:m.toUpperCase(),controlVal:p,controlType:o[u].controlType,display:o[u].display,clean:d.fn})}else{if(o[u].noLevel)var c=function(e){return{fn:a.computed(function(){return i.getAbilityAttributeValue(i.abilities()[n].attributes,e,0)})}};else var c=function(e){return{fn:a.computed(function(){return i.getAbilityAttributeValue(i.abilities()[n].attributes,e,i.abilities()[n].level())})}};var d=c(o[u].attributeName),p=i.getComputedFunction(s,d.fn,o[u].fn,t,n,i,o[u].returnProperty,o[u].controls,e);if(o[u].ignoreTooltip)var m=o[u].label||o[u].attributeName;else var m=i.getAbilityAttributeTooltip(i.abilities()[n].attributes,o[u].attributeName)||o[u].label||o[u].attributeName;r.data.push({labelName:m.toUpperCase(),controlVal:p,controlType:o[u].controlType,display:o[u].display,clean:d.fn})}"method"==o[u].controlType&&s.push(p)}return i.abilityControlData[e]=r,r},i.getComputedFunction=function(e,t,i,n,o,r,l,s,u){var c=r.abilities().find(function(e){return e.name==u});return a.pureComputed(function(){var a;if(void 0==s)a=void 0==e?e:"boolean"==typeof e()?e():void 0==e.controlValueType?parseFloat(e()):"string"==e.controlValueType?e():parseFloat(e());else{for(var u=[],d=0;d<s.length;d++)switch(typeof e[s[d]]()){case"boolean":case"object":u.push(e[s[d]]());break;default:u.push(parseFloat(e[s[d]]()))}a=u}var p=i.call(this,a,t(),n,o,r,c);return void 0!=l&&c[l](p),p},this)},i.getAbilityLevelByAbilityName=function(e){for(var t=0;t<i.abilities().length;t++)if(i._abilities[t].name==e)return i._abilities[t].level();return-1},i.getAbilityByName=function(e){for(var t=0;t<i.abilities().length;t++)if(i._abilities[t].name==e)return i._abilities[t]},i.getAbilityPropertyValue=function(e,t){return parseFloat(e[t]()[e.level()-1])},i.getAttributeBonusLevel=function(){for(var e=0;e<i.abilities().length;e++)if("attribute_bonus"==i._abilities[e].name)return i._abilities[e].level();return 0},i.getAllStatsReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.bonusAllStatsReduction&&(e+=a.bonusAllStatsReduction());else for(var n=0;n<i._abilities[t].attributes.length;n++){i._abilities[t].attributes[n]}}return e}),i.getStrengthReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.bonusStrength&&"undying_decay"==a.name&&(e-=a.bonusStrength());else for(var n=0;n<i._abilities[t].attributes.length;n++){i._abilities[t].attributes[n]}}return e}),i.getStrength=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0)if(a.name in i.abilityData)void 0!=a.bonusStrength&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1||"invoker_quas"==a.name)&&(e+=a.bonusStrength()),void 0!=a.bonusStrength2&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.bonusStrength2());else if(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var n=0;n<i._abilities[t].attributes.length;n++){i._abilities[t].attributes[n]}}return e}),i.getAgility=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0)if(a.name in i.abilityData)void 0!=a.bonusAgility&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1||"invoker_wex"==a.name)&&(e+=a.bonusAgility()),void 0!=a.bonusAgility2&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.bonusAgility2());else if(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"marksmanship_agility_bonus":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())}}}return e}),i.getIntelligence=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0)if(a.name in i.abilityData)void 0!=a.bonusInt&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1||"invoker_exort"==a.name)&&(e+=a.bonusInt());else if(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];o.name}}return e}),i.getArmor=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.armor&&(e+=a.armor());else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"bonus_armor":"templar_assassin_meld"!=a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()));break;case"warcry_armor":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level());break;case"armor_bonus":"lich_frost_armor"!=a.name&&"ogre_magi_frost_armor"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()))}}}return e}),i.getArmorBaseReduction=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))switch(a.name){case"elder_titan_natural_order":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,"armor_reduction_pct",a.level())/100}}return e}),i.getArmorReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.armorReduction&&(e+=a.armorReduction());else switch(a.name){case"templar_assassin_meld":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,"bonus_armor",a.level());break;case"tidehunter_gush":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,"armor_bonus",a.level());break;case"naga_siren_rip_tide":case"slardar_amplify_damage":case"vengefulspirit_wave_of_terror":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,"armor_reduction",a.level());break;case"nevermore_dark_lord":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,"presence_armor_reduction",a.level())}}return e}),i.getHealth=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.bonusHealth&&(e+=a.bonusHealth());else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"bonus_hp":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level());break;case"true_form_hp_bonus":i.isTrueFormActive()&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()))}}}return e}),i.isTrueFormActive=function(){for(var e=0;e<i.abilities().length;e++){var t=i._abilities[e];if(t.isActive()&&"lone_druid_true_form"==t.name)return!0}return!1},i.getHealthRegen=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.healthregen&&(e+=a.healthregen());else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"bonus_health_regen":case"heath_regen":case"health_regen":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level());break;case"hp_regen":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())}}}return e}),i.getMana=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"bonus_mana":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())}}}return e}),i.getManaRegen=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.manaregen&&(e+=a.manaregen());else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"bonus_mana_regen":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())}}}return e}),i.getManaRegenArcaneAura=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"mana_regen":"crystal_maiden_brilliance_aura"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()))}}}return e}),i.getManaRegenReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&void 0!=a.manaregenreduction&&(e+=a.manaregenreduction())}return e}),i.getAttackRange=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0)if(a.name in i.abilityData)void 0!=a.attackrange&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.attackrange());else if(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1){for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"attack_range_bonus":case"bonus_attack_range":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level());break;case"bonus_range":"terrorblade_metamorphosis"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())),"troll_warlord_berserkers_rage"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()));break;case"bonus_range_scepter":"tiny_grow"==a.name&&i.hasScepter()&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()));break;case"bonus_attack_range_scepter":"enchantress_impetus"==a.name&&i.hasScepter()&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()))}}"lone_druid_true_form"==a.name&&(e-=422)}else if("enchantress_impetus"==a.name&&i.hasScepter())for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"bonus_attack_range_scepter":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())}}}return e}),i.getAttackSpeed=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.attackspeed&&(e+=a.attackspeed());else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"attack_speed":case"attackspeed_bonus":case"leap_speedbonus_as":case"attack_speed_bonus":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level());break;case"attack_speed_bonus_pct":"clinkz_strafe"!=a.name&&"ursa_overpower"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()));break;case"speed_bonus":"axe_culling_blade"!=a.name&&"necronomicon_archer_aoe"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()));break;case"attack_speed_pct":"ancient_apparition_chilling_touch"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()));break;case"bonus_attack_speed":"beastmaster_inner_beast"!=a.name&&"lycan_feral_impulse"!=a.name&&"lone_druid_rabid"!=a.name&&"tiny_grow"!=a.name&&"phantom_assassin_phantom_strike"!=a.name&&"windrunner_focusfire"!=a.name&&"ogre_magi_bloodlust"!=a.name&&"centaur_khan_endurance_aura"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()))}}}return e}),i.getAttackSpeedReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.attackspeedreduction&&(e+=a.attackspeedreduction());else{for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"attackspeed_slow":case"slow_attack_speed":case"slow_attack_speed_pct":case"overload_attack_slow":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level());break;case"speed_bonus":"omniknight_degen_aura"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()));break;case"attack_slow":"crystal_maiden_freezing_field"!=a.name||i.hasScepter()?"tusk_frozen_sigil"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())):e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level());break;case"attack_slow_scepter":"crystal_maiden_freezing_field"==a.name&&i.hasScepter()&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()));break;case"attack_speed_pct":"faceless_void_time_walk"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()));break;case"bonus_attackspeed":"bounty_hunter_jinada"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()));break;case"attack_speed_slow":"brewmaster_thunder_clap"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()));break;case"slow":"medusa_stone_gaze"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()));break;case"attackspeed_bonus":e-=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level());break;case"attack_slow_tooltip":"abaddon_frostmourne"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()))}}"enraged_wildkin_tornado"==a.name&&(e-=15)}}return e}),i.getBash=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.bash&&(e*=1-a.bash()/100);else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"chance":case"proc_chance":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100}}}return e}),i.getBaseDamage=a.computed(function(){for(var e=0,t=1,a={},n=0;n<i.abilities().length;n++){var o=i._abilities[n];if(o.level()>0&&(o.isActive()||o.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(o.name in i.abilityData)void 0!=o.baseDamageMultiplier&&(t+=o.baseDamageMultiplier()/100),void 0!=o.baseDamage&&(e+=o.baseDamage(),a[o.name]={damage:o.baseDamage(),damageType:"physical",displayname:o.displayname});else for(var r=0;r<i._abilities[n].attributes.length;r++){var l=i._abilities[n].attributes[r];switch(l.name){case"bonus_damage":"tiny_grow"!=o.name&&"terrorblade_metamorphosis"!=o.name||(e+=i.getAbilityAttributeValue(i._abilities[n].attributes,l.name,o.level()),a[o.name]={damage:i.getAbilityAttributeValue(i._abilities[n].attributes,l.name,o.level()),damageType:"physical",displayname:o.displayname})}}}return{sources:a,total:e,multiplier:t}}),i.getSelfBaseDamageReductionPct=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"damage_modifier":e*=1+i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100;break;case"focusfire_damage_reduction":i.hasScepter()||(e*=1+i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"focusfire_damage_reduction_scepter":i.hasScepter()&&(e*=1+i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100)}}}return e}),i.getBaseDamageReductionPct=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.baseDamageReductionPct&&(e*=1+a.baseDamageReductionPct()/100);else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"bonus_damage_pct":"vengefulspirit_command_aura"==a.name&&(e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100)}}}return e}),i.getBAT=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"base_attack_time":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())}}}return e}),i.getBonusDamage=a.computed(function(){for(var e=0,t={},a=0;a<i.abilities().length;a++){var n=i._abilities[a];if(n.level()>0&&(n.isActive()||n.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(n.name in i.abilityData)void 0!=n.bonusDamage&&0!=n.bonusDamage()&&(e+=n.bonusDamage(),t[n.name]={damage:n.bonusDamage(),damageType:"spectre_desolate"==n.name?"pure":"physical",displayname:n.displayname});else{for(var o=0;o<i._abilities[a].attributes.length;o++){var r=i._abilities[a].attributes[o];switch(r.name){case"bonus_damage":"broodmother_insatiable_hunger"!=n.name&&"luna_lunar_blessing"!=n.name&&"templar_assassin_refraction"!=n.name&&"templar_assassin_meld"!=n.name&&"troll_warlord_berserkers_rage"!=n.name&&"lone_druid_true_form_battle_cry"!=n.name||(e+=i.getAbilityAttributeValue(i._abilities[a].attributes,r.name,n.level()),t[n.name]={damage:i.getAbilityAttributeValue(i._abilities[a].attributes,r.name,n.level()),damageType:"physical",displayname:n.displayname});break;case"hero_bonus_damage":e+=i.getAbilityAttributeValue(i._abilities[a].attributes,r.name,n.level()),t[n.name]={damage:i.getAbilityAttributeValue(i._abilities[a].attributes,r.name,n.level()),damageType:"physical",displayname:n.displayname}}}"storm_spirit_overload"==n.name&&(e+=i.getAbilityPropertyValue(n,"damage"),t[n.name]={damage:i.getAbilityPropertyValue(n,"damage"),damageType:"magic",displayname:n.displayname})}}return{sources:t,total:e}}),i.getBonusDamagePercent=a.computed(function(){for(var e=0,t={},a=0;a<i.abilities().length;a++){var n=i._abilities[a];if(n.level()>0&&(n.isActive()||n.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(n.name in i.abilityData))for(var o=0;o<i._abilities[a].attributes.length;o++){var r=i._abilities[a].attributes[o];switch(r.name){case"damage_increase_pct":"bloodseeker_bloodrage"==n.name&&(e+=i.getAbilityAttributeValue(i._abilities[a].attributes,r.name,n.level())/100,t[n.name]={damage:i.getAbilityAttributeValue(i._abilities[a].attributes,r.name,n.level())/100,damageType:"physical",displayname:n.displayname});break;case"bonus_damage_pct":"magnataur_empower"!=n.name&&"vengefulspirit_command_aura"!=n.name&&"alpha_wolf_command_aura"!=n.name||(e+=i.getAbilityAttributeValue(i._abilities[a].attributes,r.name,n.level())/100,t[n.name]={damage:i.getAbilityAttributeValue(i._abilities[a].attributes,r.name,n.level())/100,damageType:"physical",displayname:n.displayname});break;case"gods_strength_damage":"sven_gods_strength"==n.name&&void 0!=i.hero&&"sven"==i.hero.heroId()&&(e+=i.getAbilityAttributeValue(i._abilities[a].attributes,r.name,n.level())/100,t[n.name]={damage:i.getAbilityAttributeValue(i._abilities[a].attributes,r.name,n.level())/100,damageType:"physical",displayname:n.displayname});break;case"gods_strength_damage_scepter":"sven_gods_strength"==n.name&&void 0==i.hero&&(e+=i.getAbilityAttributeValue(i._abilities[a].attributes,r.name,n.level())/100,t[n.name]={damage:i.getAbilityAttributeValue(i._abilities[a].attributes,r.name,n.level())/100,damageType:"physical",displayname:n.displayname})}}}return{sources:t,total:e}}),i.getBonusDamageBackstab=a.computed(function(){for(var e=0,t=0,a=[],n=0;n<i.abilities().length;n++){var o=i._abilities[n];if("riki_backstab"==o.name&&o.level()>0&&(o.isActive()||o.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var r=0;r<i._abilities[n].attributes.length;r++){var l=i._abilities[n].attributes[r];switch(l.name){case"damage_multiplier":e+=i.getAbilityAttributeValue(i._abilities[n].attributes,l.name,o.level()),a.push({damage:i.getAbilityAttributeValue(i._abilities[n].attributes,l.name,o.level()),damageType:"physical",displayname:o.displayname})}}}return{sources:a,total:[e,t]}}),i.getBonusDamagePrecisionAura=a.computed(function(){for(var e=0,t=0,a=[],n=0;n<i.abilities().length;n++){var o=i._abilities[n];if("drow_ranger_trueshot"==o.name&&o.level()>0&&(o.isActive()||o.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)){for(var r=0;r<i._abilities[n].attributes.length;r++){var l=i._abilities[n].attributes[r];switch(l.name){case"trueshot_ranged_damage":e+=i.getAbilityAttributeValue(i._abilities[n].attributes,l.name,o.level())/100,a.push({damage:i.getAbilityAttributeValue(i._abilities[n].attributes,l.name,o.level())/100,damageType:"physical",displayname:o.displayname})}}void 0!=o.bonusDamagePrecisionAura&&(t+=o.bonusDamagePrecisionAura(),a.push({damage:o.bonusDamagePrecisionAura(),damageType:"physical",displayname:o.displayname}))}}return{sources:a,total:[e,t]}}),i.getBonusDamageReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.bonusDamageReduction&&(e+=a.bonusDamageReduction());else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"enfeeble_attack_reduction":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())}}}return e}),i.getBonusDamageReductionPct=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"damage_modifier":e*=1+i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100;break;case"focusfire_damage_reduction":i.hasScepter()||(e*=1+i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"focusfire_damage_reduction_scepter":i.hasScepter()&&(e*=1+i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100)}}}return e}),i.getDamageAmplification=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&void 0!=a.damageAmplification&&(e*=1+a.damageAmplification()/100)}return e}),i.getDamageReduction=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.damageReduction&&(e*=1+a.damageReduction()/100);else{for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"damage_increase_pct":"bloodseeker_bloodrage"==a.name&&(e*=1+i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100)}}"kunkka_ghostship"==a.name&&(e*=.5)}}return e}),i.getCritSource=a.computed(function(){for(var e={},t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))switch(a.name){case"phantom_assassin_coup_de_grace":void 0==e[a.name]?e[a.name]={chance:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_bonus",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"brewmaster_drunken_brawler":void 0==e[a.name]?e[a.name]={chance:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_multiplier",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"chaos_knight_chaos_strike":case"lycan_shapeshift":void 0==e[a.name]?e[a.name]={chance:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_multiplier",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"skeleton_king_mortal_strike":void 0==e[a.name]?e[a.name]={chance:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_mult",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"juggernaut_blade_dance":void 0==e[a.name]?e[a.name]={chance:i.getAbilityAttributeValue(i._abilities[t].attributes,"blade_dance_crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i._abilities[t].attributes,"blade_dance_crit_mult",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"alpha_wolf_critical_strike":case"giant_wolf_critical_strike":void 0==e[a.name]?e[a.name]={chance:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_mult",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1}}return e}),i.getCleaveSource=a.computed(function(){for(var e={},t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))switch(a.name){case"magnataur_empower":void 0==e[a.name]?e[a.name]={radius:i.getAbilityAttributeValue(i._abilities[t].attributes,"cleave_radius",a.level()),magnitude:i.getAbilityAttributeValue(i._abilities[t].attributes,"cleave_damage_pct",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"sven_great_cleave":void 0==e[a.name]?e[a.name]={radius:i.getAbilityAttributeValue(i._abilities[t].attributes,"great_cleave_radius",a.level()),magnitude:i.getAbilityAttributeValue(i._abilities[t].attributes,"great_cleave_damage",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"kunkka_tidebringer":void 0==e[a.name]?e[a.name]={radius:i.getAbilityAttributeValue(i._abilities[t].attributes,"radius",a.level()),magnitude:1,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"tiny_grow":i.hasScepter()&&(void 0==e[a.name]?e[a.name]={radius:i.getAbilityAttributeValue(i._abilities[t].attributes,"bonus_cleave_radius_scepter",a.level()),magnitude:i.getAbilityAttributeValue(i._abilities[t].attributes,"bonus_cleave_damage_scepter",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1)}}return e}),i.getCritChance=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){
var o=i._abilities[t].attributes[n];switch(o.name){case"crit_chance":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100}}}return e}),i.getEvasion=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"bonus_evasion":case"dodge_chance":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100}}}return e}),i.getEvasionBacktrack=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"dodge_chance_pct":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100}}}return e}),i.getMissChance=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.missChance&&(e*=1-a.missChance()/100);else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"miss_chance":case"miss_rate":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100}}}return e}),i.getLifesteal=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.lifesteal&&(e+=a.lifesteal());else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"vampiric_aura":case"lifesteal_pct":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())}}}return e}),i.getMagicResist=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.magicResist&&(e*=1-a.magicResist()/100);else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"spell_shield_resistance":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100;break;case"magic_resistance_pct":"phantom_lancer_phantom_edge"==a.name&&(e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"magic_damage_reduction_pct":"rubick_null_field"==a.name&&(e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100)}}}return e}),i.getMagicResistReduction=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"spell_resist_pct":case"bonus_spell_damage_pct":case"resist_debuff":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100;break;case"magic_resistance_pct":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100}}}return e}),i.getMovementSpeedFlat=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.movementSpeedFlat&&(e+=a.movementSpeedFlat());else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"bonus_movespeed":"alchemist_chemical_rage"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()));break;case"bonus_movement_speed":"tiny_grow"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()));break;case"bonus_move_speed":"troll_warlord_berserkers_rage"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level()));break;case"speed_loss":e-=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())}}}return e}),i.getMovementSpeedPercent=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.movementSpeedPct&&(e+=a.movementSpeedPct()/100);else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"move_speed_pct":case"bonus_move_speed_pct":case"leap_speedbonus":case"warcry_movespeed":case"move_speed_bonus_pct":case"movespeed_bonus_pct":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100;break;case"bonus_movespeed":"broodmother_spin_web"!=a.name&&"spectre_spectral_dagger"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"speed_bonus":"axe_culling_blade"!=a.name&&"necronomicon_archer_aoe"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"movement_speed":"nyx_assassin_vendetta"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"bonus_movespeed_pct":"spirit_breaker_empowering_haste"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"bonus_movement_speed":"ogre_magi_bloodlust"!=a.name&&"death_prophet_witchcraft"!=a.name&&"kobold_taskmaster_speed_aura"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"movement_speed_pct":"razor_unstable_current"!=a.name&&"phantom_lancer_doppelwalk"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"bonus_move_speed":"treant_natures_guise"!=a.name&&"lone_druid_rabid"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"movespeed":"wisp_tether"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"movespeed_bonus":"kunkka_ghostship"!=a.name&&"visage_grave_chill"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100)}}}return e}),i.getMovementSpeedPercentReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.movementSpeedPctReduction&&(e+=a.movementSpeedPctReduction()/100);else{for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"movespeed_slow":"crystal_maiden_freezing_field"!=a.name||i.hasScepter()||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"movespeed_slow_scepter":"crystal_maiden_freezing_field"==a.name&&i.hasScepter()&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"slow_pct":e-=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100;break;case"movespeed_slow":"crystal_maiden_freezing_field"!=a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"slow_movement_speed":case"slow_movement_speed_pct":case"frost_arrows_movement_speed":case"blast_slow":case"crush_extra_slow":case"overload_move_slow":case"enemy_movespeed_bonus_pct":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100;break;case"move_slow":"phantom_assassin_stifling_dagger"==a.name?e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100:"tusk_frozen_sigil"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"slow":"medusa_stone_gaze"==a.name?e-=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100:e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100;break;case"bonus_movespeed":"broodmother_incapacitating_bite"==a.name||"bounty_hunter_jinada"==a.name||"winter_wyvern_arctic_burn"==a.name||"winter_wyvern_splinter_blast"==a.name?e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100:"spectre_spectral_dagger"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"speed_bonus":"omniknight_degen_aura"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"movement_speed":"tidehunter_gush"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"bonus_movement_speed":"pugna_decrepify"!=a.name&&"chen_penitence"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"movement_speed_pct":"ancient_apparition_ice_vortex"==a.name||"phantom_lancer_spirit_lance"==a.name||"faceless_void_time_walk"==a.name?e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100:"skywrath_mage_concussive_shot"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"slow_amount":"razor_unstable_current"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"movement_slow":"brewmaster_drunken_haze"==a.name||"brewmaster_thunder_clap"==a.name?e-=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100:"ursa_earthshock"!=a.name&&"treant_leech_seed"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"movespeed":"skeleton_king_reincarnation"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100);break;case"movespeed_bonus":"kunkka_torrent"==a.name?e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100:"visage_grave_chill"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100)}}"satyr_trickster_purge"==a.name?e-=.8:"enraged_wildkin_tornado"==a.name&&(e-=.15)}}return e}),i.getTurnRateReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.turnRateReduction&&(e+=a.turnRateReduction()/100);else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"slow":"medusa_stone_gaze"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100)}}}return e}),i.getVisionRangeNight=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.visionnight&&(e+=a.visionnight());else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"night_vision_bonus":case"bonus_night_vision":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())}}}return e}),i.getVisionRangePctReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"blind_percentage":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,o.name,a.level())/100}}}return e}),i.setEvasion=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&"windrunner_windrun"==a.name)return 1}return e}),i.setMovementSpeed=a.computed(function(){for(var e=522,t=100,a=0,n=0;n<i.abilities().length;n++){var o=i._abilities[n];if(o.level()>0&&(o.isActive()||o.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)){if("spirit_breaker_charge_of_darkness"==o.name)return i.getAbilityAttributeValue(o.attributes,"movement_speed",o.level());if("dark_seer_surge"==o.name)return e;if("centaur_stampede"==o.name)return e;if("lycan_shapeshift"==o.name)return e;if("lion_voodoo"==o.name||"shadow_shaman_voodoo"==o.name)return t}}return a}),i.getBashSource=function(e){for(var t={},a=0;a<i.abilities().length;a++){var n=i._abilities[a];if(n.level()>0&&(n.isActive()||n.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(n.name in i.abilityData)void 0!=n.bashBonusDamage&&(void 0==t[n.name]&&"faceless_void_time_lock"==n.name&&(t[n.name]={chance:n.bash()/100,damage:n.bashBonusDamage(),count:1,damageType:"magic",displayname:n.displayname}),void 0==t[n.name]&&"spirit_breaker_greater_bash"==n.name&&(t[n.name]={chance:n.bash()/100,damage:n.bashBonusDamage()/100,count:1,damageType:"magic",displayname:n.displayname}));else for(var o=0;o<i._abilities[a].attributes.length;o++){var r=i._abilities[a].attributes[o];switch(r.name){case"proc_chance":void 0==t[n.name]&&"sniper_headshot"==n.name&&(t[n.name]={chance:i.getAbilityAttributeValue(n.attributes,r.name,n.level())/100,damage:i.getAbilityPropertyValue(n,"damage"),count:1,damageType:"physical",displayname:n.displayname});break;case"chance":void 0==t[n.name]&&"slardar_bash"==n.name&&(t[n.name]={chance:i.getAbilityAttributeValue(n.attributes,r.name,n.level())/100,damage:i.getAbilityAttributeValue(n.attributes,"bonus_damage",n.level()),count:1,damageType:"physical",displayname:n.displayname})}}}return t},i.getOrbSource=function(){for(var e={},t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.bonusDamageOrb&&void 0==e[a.name]&&"obsidian_destroyer_arcane_orb"==a.name&&(e[a.name]={damage:a.bonusDamageOrb(),damageType:"pure",displayname:a.displayname});else for(var n=0;n<i._abilities[t].attributes.length;n++){var o=i._abilities[t].attributes[n];switch(o.name){case"mana_per_hit":void 0==e[a.name]&&"antimage_mana_break"==a.name&&(e[a.name]={damage:i.getAbilityAttributeValue(a.attributes,o.name,a.level())*i.getAbilityAttributeValue(a.attributes,"damage_per_burn",a.level()),damageType:"physical",displayname:a.displayname});break;case"damage_bonus":void 0==e[a.name]&&"clinkz_searing_arrows"==a.name&&(e[a.name]={damage:i.getAbilityAttributeValue(a.attributes,o.name,a.level()),damageType:"physical",displayname:a.displayname});case"intellect_damage_pct":void 0==e[a.name]&&"silencer_glaives_of_wisdom"==a.name&&(e[a.name]={damage:i.getAbilityAttributeValue(a.attributes,o.name,a.level())/100*i.hero.totalInt(),damageType:"pure",displayname:a.displayname})}}}return e},i.toggleAbility=function(e,t,a){i.abilities()[e()].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(i.abilities()[e()].isActive()?i.abilities()[e()].isActive(!1):i.abilities()[e()].isActive(!0),"lycan_shapeshift"==i.abilities()[e()].name&&i.isShapeShiftActive(i.abilities()[e()].isActive()))}.bind(this),i.toggleAbilityDetail=function(e,t,a){i.abilities()[e()].isDetail()?i.abilities()[e()].isDetail(!1):i.abilities()[e()].isDetail(!0)}.bind(this),i.getAbility=function(e){return i.abilities().find(function(t){return t.name==e})}},n.prototype.AbilityModel.prototype.levelUpAbility=function(e,t,i,a){var n=this;if(n.abilities()[e()].level()<a.getAbilityLevelMax(t)&&a.availableSkillPoints()>0){switch(n.abilities()[e()].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":"invoker"==a.heroId()?(0==n.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=2||1==n.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=7||2==n.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=11||3==n.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=17)&&(n.abilities()[e()].level(n.abilities()[e()].level()+1),a.skillPointHistory.push(e())):"meepo"==a.heroId()?7*n.abilities()[e()].level()+3<=parseInt(a.selectedHeroLevel())&&(n.abilities()[e()].level(n.abilities()[e()].level()+1),a.skillPointHistory.push(e())):5*(n.abilities()[e()].level()+1)+1<=parseInt(a.selectedHeroLevel())&&(n.abilities()[e()].level(n.abilities()[e()].level()+1),a.skillPointHistory.push(e()));break;default:2*n.abilities()[e()].level()+1<=parseInt(a.selectedHeroLevel())&&(n.abilities()[e()].level(n.abilities()[e()].level()+1),a.skillPointHistory.push(e()))}switch(n.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":n.abilities()[e()+1].level(n.abilities()[e()].level());break;case"morphling_morph_str":n.abilities()[e()-1].level(n.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":n.abilities()[e()-1].level(n.abilities()[e()].level()),n.abilities()[e()-2].level(n.abilities()[e()].level());break;case"nevermore_shadowraze1":n.abilities()[e()+1].level(n.abilities()[e()].level()),n.abilities()[e()+2].level(n.abilities()[e()].level());break;case"nevermore_shadowraze2":n.abilities()[e()-1].level(n.abilities()[e()].level()),n.abilities()[e()+1].level(n.abilities()[e()].level());break;case"nevermore_shadowraze3":n.abilities()[e()-1].level(n.abilities()[e()].level()),n.abilities()[e()-2].level(n.abilities()[e()].level());break;case"ember_spirit_fire_remnant":n.abilities()[e()-1].level(n.abilities()[e()].level());break;case"lone_druid_true_form":n.abilities()[e()-1].level(n.abilities()[e()].level())}}},n.prototype.AbilityModel.prototype.levelDownAbility=function(e,t,i,n){var o=a.utils.unwrapObservable(e),r=this;if(r.abilities()[o].level()>0)switch(r.abilities()[o].level(r.abilities()[o].level()-1),n.skillPointHistory.splice(n.skillPointHistory().lastIndexOf(o),1),r.abilities()[o].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":r.abilities()[o+1].level(r.abilities()[o].level());break;case"morphling_morph_str":r.abilities()[o-1].level(r.abilities()[o].level());break;case"keeper_of_the_light_spirit_form":r.abilities()[o-1].level(r.abilities()[o].level()),r.abilities()[o-2].level(r.abilities()[o].level());break;case"nevermore_shadowraze1":r.abilities()[o+1].level(r.abilities()[o].level()),r.abilities()[o+2].level(r.abilities()[o].level());break;case"nevermore_shadowraze2":r.abilities()[o-1].level(r.abilities()[o].level()),r.abilities()[o+1].level(r.abilities()[o].level());break;case"nevermore_shadowraze3":r.abilities()[o-1].level(r.abilities()[o].level()),r.abilities()[o-2].level(r.abilities()[o].level());break;case"ember_spirit_fire_remnant":r.abilities()[o-1].level(r.abilities()[o].level());break;case"lone_druid_true_form":r.abilities()[o-1].level(r.abilities()[o].level())}},n.prototype.AbilityModel.prototype.getAbilityAttributeValue=function(e,t,i){for(var a=0;a<e.length;a++)if(e[a].name==t)return 0==i?parseFloat(e[a].value[0]):i>e[a].value.length?parseFloat(e[a].value[0]):parseFloat(e[a].value[i-1])},n.prototype.AbilityModel.prototype.getAbilityAttributeTooltip=function(e,t){for(var i=0;i<e.length;i++)if(e[i].name==t){if(e[i].hasOwnProperty("tooltip")){var a=e[i].tooltip.replace(/\\n/g,"");return a}return""}return""}},{"./herocalc_core":4,"./herocalc_knockout":10}],2:[function(e,t,i){"use strict";var a=e("./herocalc_core");a.prototype.abilityData={alchemist_acid_spray:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"armor_reduction",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return-t},returnProperty:"armorReduction"}],alchemist_unstable_concoction:[{label:"Brew Time",controlType:"input"},{attributeName:"max_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t/5}},{attributeName:"max_stun",label:"Total Stun",controlType:"text",fn:function(e,t,i,a,n,o){return e*t/5}}],ancient_apparition_cold_feet:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"stun_duration",label:"Total Stun",controlType:"text",fn:function(e,t,i,a,n,o){return t}}],ancient_apparition_ice_blast:[{label:"Duration",controlType:"input"},{attributeName:"dot_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")+e*t}}],antimage_mana_void:[{label:"Enemy Missing Mana",controlType:"input"},{attributeName:"mana_void_damage_per_mana",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],axe_battle_hunger:[{label:"Battle Hungered Enemies",controlType:"input"},{attributeName:"speed_bonus",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(e,t,i,a,n,o){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"slow",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"}],bane_nightmare:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}}],bane_fiends_grip:[{label:"Duration",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"fiend_grip_damage",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,o){return i.inventory.hasScepter()?e[0]*n.getAbilityAttributeValue(o.attributes,"fiend_grip_damage_scepter",o.level()):e[0]*t}},{attributeName:"fiend_grip_mana_drain",label:"Total Mana Drain",controlType:"text",controls:[0,1],noLevel:!0,fn:function(e,t,i,a,n,o){return i.inventory.hasScepter()?e[0]*e[1]*n.getAbilityAttributeValue(o.attributes,"fiend_grip_mana_drain_scepter",o.level())/100:e[0]*e[1]*t/100}}],batrider_sticky_napalm:[{label:"Stacks",controlType:"input"},{attributeName:"damage",label:"Total Bonus Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"bonusDamage"},{attributeName:"movement_speed_pct",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"movementSpeedPctReduction"},{attributeName:"turn_rate_pct",label:"Enemy Turn Rate Slow",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"turnRateReduction"}],batrider_firefly:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],bloodseeker_rupture:[{label:"Enemy Distance Traveled",controlType:"input"},{attributeName:"movement_damage_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")+e*t/100}}],bristleback_viscous_nasal_goo:[{label:"Stacks",controlType:"input"},{attributeName:"armor_per_stack",label:"Enemy Armor Reduction",controlType:"text",fn:function(e,t,i,a,n,o){return-e*t},returnProperty:"armorReduction"},{attributeName:"move_slow_per_stack",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return-(n.getAbilityAttributeValue(o.attributes,"base_move_slow",0)+e*t)},returnProperty:"movementSpeedPctReduction"}],bristleback_quill_spray:[{label:"Stacks",controlType:"input"},{attributeName:"quill_stack_damage",label:"DAMAGE",controlType:"text",fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"quill_base_damage",o.level())+e*t,l=n.getAbilityAttributeValue(o.attributes,"max_damage",0);return r>l&&(r=l),r}}],bristleback_bristleback:[{label:"Damage From",controlType:"radio",controlValueType:"string",controlOptions:[{text:"Back",value:"back"},{text:"Side",value:"side"}]},{attributeName:"back_damage_reduction",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var o=n.abilities().find(function(e){return"bristleback_bristleback"==e.name});if("back"==e)var r=n.getAbilityAttributeValue(o.attributes,"back_damage_reduction",o.level());else var r=n.getAbilityAttributeValue(o.attributes,"side_damage_reduction",o.level());return-r},returnProperty:"damageReduction"}],bristleback_warpath:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"BONUS DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e<1?0:n.getAbilityAttributeValue(o.attributes,"base_damage",o.level())+(e-1)*t}},{attributeName:"move_speed_per_stack",label:"%MOVEMENT:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e<1?0:n.getAbilityAttributeValue(o.attributes,"base_move_speed",o.level())+(e-1)*t},returnProperty:"movementSpeedPct"}],centaur_return:[{label:"Strength",controlType:"input"},{attributeName:"strength_pct",label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityAttributeValue(o.attributes,"return_damage",o.level())+e*t/100}}],centaur_stampede:[{label:"Strength",controlType:"input"},{attributeName:"strength_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,i,a,n,o){return-t},returnProperty:"movementSpeedPctReduction"}],clinkz_death_pact:[{label:"Consumed Unit HP",controlType:"input"},{attributeName:"damage_gain_pct",label:"BASE DAMAGE GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t/100},returnProperty:"baseDamage"},{attributeName:"health_gain_pct",label:"HEALTH GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t/100},returnProperty:"bonusHealth"}],crystal_maiden_frostbite:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}}],dark_seer_ion_shell:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],dazzle_shadow_wave:[{label:"Targets",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}}],dazzle_weave:[{label:"Duration",controlType:"input"},{attributeName:"armor_per_second",label:"ARMOR",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"armor"},{attributeName:"armor_per_second",label:"ARMOR REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return-e*t},returnProperty:"armorReduction"}],death_prophet_exorcism:[{label:"Damage Dealt",controlType:"input"},{attributeName:"heal_percent",label:"Total Armor",controlType:"text",fn:function(e,t,i,a,n,o){return e*t/100}}],disruptor_static_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,o){var r=.25*(130+40*o.level())*.05,l=4*e*(4*e+1)/2;return r*l}}],doom_bringer_scorched_earth:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"bonus_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPct"},{attributeName:"damage_per_second",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"healthregen"}],doom_bringer_doom:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return i.inventory.hasScepter()?e*n.getAbilityAttributeValue(o.attributes,"damage_scepter",o.level()):e*t}}],dragon_knight_elder_dragon_form:[{label:"Duration",controlType:"input"},{attributeName:"bonus_attack_range",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"attackrange"},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedFlat"}],drow_ranger_trueshot:[{label:"Drow's Agility",controlType:"input",display:"buff"},{attributeName:"trueshot_ranged_damage",label:"DAMAGE BONUS:",ignoreTooltip:!0,controlType:"text",display:"buff",fn:function(e,t,i,a,n,o){return e*t/100},returnProperty:"bonusDamagePrecisionAura"}],earth_spirit_rolling_boulder:[{label:"Using Stone",controlType:"checkbox"},{attributeName:"move_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e?-t:0},returnProperty:"movementSpeedPctReduction"}],earthshaker_enchant_totem:[{label:"Activated",controlType:"checkbox"},{attributeName:"totem_damage_percentage",label:"DAMAGE",controlType:"text",fn:function(e,t,i,a,n,o){return e?t:0},returnProperty:"baseDamageMultiplier"}],earthshaker_echo_slam:[{label:"Enemies in Range",controlType:"input"},{attributeName:"echo_slam_echo_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],elder_titan_ancestral_spirit:[{label:"HEROES PASSED THROUGH",controlType:"input"},{label:"CREEPS PASSED THROUGH",controlType:"input"},{attributeName:"damage_creeps",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,o){return e[0]*n.getAbilityAttributeValue(o.attributes,"damage_heroes",o.level())+e[1]*t},returnProperty:"bonusDamage"},{attributeName:"move_pct_creeps",label:"%BONUS SPEED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,o){return e[0]*n.getAbilityAttributeValue(o.attributes,"move_pct_heroes",o.level())+e[1]*t},returnProperty:"movementSpeedPct"}],elder_titan_earth_splitter:[{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t/100}},{attributeName:"slow_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return-t},returnProperty:"movementSpeedPctReduction"}],enchantress_natures_attendants:[{label:"Duration",controlType:"input"},{attributeName:"heal",label:"HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityAttributeValue(o.attributes,"wisp_count",o.level())*e*t}}],enigma_malefice:[{label:"Hits",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"stun_duration",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],enigma_midnight_pulse:[{label:"Duration",controlType:"input"},{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_percent",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,o){return e[0]*e[1]*t/100}}],enigma_black_hole:[{label:"Duration",controlType:"input"},{attributeName:"far_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"near_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],faceless_void_time_lock:[{label:"In Chronosphere",controlType:"checkbox"},{attributeName:"bonus_damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(e,t,i,a,n,o){return e?2*t:t},returnProperty:"bashBonusDamage"},{attributeName:"duration",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t}},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"bash"}],gyrocopter_rocket_barrage:[{label:"Rockets",controlType:"input"},{attributeName:"rockets_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t}},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}}],huskar_burning_spear:[{label:"Stacks",controlType:"input"},{attributeName:"health_cost",label:"Total Damage",controlType:"text",
fn:function(e,t,i,a,n,o){return e*t}},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}}],huskar_berserkers_blood:[{label:"%HP",controlType:"input"},{attributeName:"hp_threshold_max",label:"Health at given %HP:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return i.health()*e/100}},{attributeName:"hp_threshold_max",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t}},{attributeName:"maximum_resistance",label:"MAGIC RESISTANCE BONUS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var e=Math.min(e,100);e=Math.max(e,10);var r=n.getAbilityAttributeValue(o.attributes,"hp_threshold_max",0),l=100-r,s=(e-r)/l;return s=1-s,s*t},returnProperty:"magicResist"},{attributeName:"maximum_attack_speed",label:"ATTACK SPEED BONUS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var e=Math.min(e,100);e=Math.max(e,10);var r=n.getAbilityAttributeValue(o.attributes,"hp_threshold_max",0),l=100-r,s=(e-r)/l;return s=1-s,s*t},returnProperty:"attackspeed"}],huskar_life_break:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"health_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{label:"Huskar Current HP",controlType:"input"},{attributeName:"health_cost_percent",label:"DAMAGE TAKEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"movespeed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"}],invoker_quas:[{label:"Instances",controlType:"input"},{attributeName:"bonus_strength",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"bonusStrength"},{attributeName:"health_regen_per_instance",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"healthregen"}],invoker_wex:[{label:"Instances",controlType:"input"},{attributeName:"bonus_agility",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"bonusAgility"},{attributeName:"move_speed_per_instance",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"attack_speed_per_instance",label:"%ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"attackspeed"}],invoker_exort:[{label:"Instances",controlType:"input"},{attributeName:"bonus_intelligence",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"bonusInt"},{attributeName:"bonus_damage_per_instance",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"bonusDamage"}],invoker_ghost_walk:[{label:"Quas Level",controlType:"input"},{attributeName:"enemy_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return 0==e?0:n.getAbilityAttributeValue(o.attributes,"enemy_slow",e)},returnProperty:"movementSpeedPctReduction"},{label:"Wex Level",controlType:"input",display:"ability"},{attributeName:"self_slow",label:"Total Damage",controlType:"text",display:"ability",fn:function(e,t,i,a,n,o){return 0==e?0:n.getAbilityAttributeValue(o.attributes,"self_slow",e)},returnProperty:"movementSpeedPct"}],invoker_alacrity:[{label:"Wex Level",controlType:"input"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return 0==e?0:n.getAbilityAttributeValue(o.attributes,"bonus_attack_speed",e)},returnProperty:"attackspeed"},{label:"Exort Level",controlType:"input"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return 0==e?0:n.getAbilityAttributeValue(o.attributes,"bonus_damage",e)},returnProperty:"bonusDamage"}],invoker_ice_wall:[{label:"Quas Level",controlType:"input"},{attributeName:"slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return 0==e?0:n.getAbilityAttributeValue(o.attributes,"slow",e)},returnProperty:"movementSpeedPctReduction"},{label:"Exort Level",controlType:"input",display:"ability"},{label:"Duration",controlType:"input",display:"ability"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",display:"ability",controls:[1,2],fn:function(e,t,i,a,n,o){return 0==e[0]?0:n.getAbilityAttributeValue(o.attributes,"damage_per_second",e[0])*e[1]}}],jakiro_dual_breath:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,o){return 2*n.getAbilityPropertyValue(o,"damage")+n.getAbilityAttributeValue(o.attributes,"burn_damage",o.level())*e}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"slow_attack_speed_pct",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"attackspeedreduction"}],jakiro_liquid_fire:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"slow_attack_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"attackspeedreduction"}],jakiro_macropyre:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],juggernaut_blade_fury:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}}],juggernaut_healing_ward:[{label:"Duration",controlType:"input"},{label:"Max Health",controlType:"input"},{attributeName:"healing_ward_heal_amount",label:"HEAL OVER TIME:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,o){return e[0]*e[1]*t/100}}],juggernaut_omni_slash:[{label:"Jumps",controlType:"input"},{label:"MIN DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityAttributeValue(o.attributes,"omni_slash_damage",1)*e}},{label:"MAX DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityAttributeValue(o.attributes,"omni_slash_damage",2)*e}}],keeper_of_the_light_illuminate:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],keeper_of_the_light_mana_leak:[{label:"Distance Moved",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"mana_leak_pct",label:"MANA LEAKED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,o){return e[0]/100*e[1]*t/100}}],legion_commander_duel:[{label:"Duel Wins",controlType:"input"},{attributeName:"reward_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"bonusDamage"}],leshrac_pulse_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"mana_cost_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],lich_chain_frost:[{label:"Bounce Hits",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"slow_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"attackspeedreduction"}],life_stealer_feast:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"hp_leech_percent",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t/100},returnProperty:"bonusDamage"}],life_stealer_open_wounds:[{label:"Duration",controlType:"input"},{attributeName:"heal_percent",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"lifesteal"},{attributeName:"slow_steps",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(e,t,i,a,n,o){return n.getAbilityAttributeValue(o.attributes,"slow_steps",e+1)},returnProperty:"movementSpeedPctReduction"}],lina_fiery_soul:[{label:"Duration",controlType:"input"},{attributeName:"fiery_soul_move_speed_bonus",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"fiery_soul_attack_speed_bonus",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"attackspeed"}],lion_mana_drain:[{label:"Duration",controlType:"input"},{attributeName:"mana_per_second",label:"MANA DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],luna_moon_glaive:[{label:"Damage",controlType:"input"},{attributeName:"damage_reduction_percent",label:"BOUNCE DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){for(var r=[],l=1;l<6;l++)r.push((e*Math.pow(t/100,l)).toFixed(2));return r.join("<br>")}}],luna_eclipse:[{label:"Beam Count",controlType:"input"},{attributeName:"beams",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){var r=n.abilities().find(function(e){return"luna_lucent_beam"==e.name});if(0==r.level())return 0;var l=n.getAbilityPropertyValue(r,"damage");return e*l}}],medusa_mystic_snake:[{label:"Jump Count",controlType:"input"},{attributeName:"snake_damage",label:"Damage Per Jump:",ignoreTooltip:!0,controlType:"method",display:"none",fn:function(e,t,i,a,n,o){for(var r=n.getAbilityAttributeValue(o.attributes,"snake_jumps",o.level()),l=n.getAbilityAttributeValue(o.attributes,"snake_scale",0),s=[],u=0;u<r;u++)s.push(t+t*u*l/100);return s}},{attributeName:"snake_damage",label:"Damage Per Jump:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,o){return e[1].join(" / ")}},{attributeName:"snake_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,o){return e[1].slice(0,e[0]).reduce(function(e,t){return e+t},0)}},{attributeName:"snake_damage",label:"Max Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,o){return e[1].reduce(function(e,t){return e+t},0)}}],medusa_mana_shield:[{label:"Damage",controlType:"input"},{attributeName:"damage_per_mana",label:"MANA USED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return(e/t).toFixed(2)}},{attributeName:"absorption_tooltip",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return-t},returnProperty:"damageReduction"}],meepo_poof:[{label:"Meepo Count",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}}],meepo_geostrike:[{label:"Stacks",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}},{attributeName:"slow",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(e,t,i,a,n,o){return n.getAbilityAttributeValue(o.attributes,"slow",o.level())*e},returnProperty:"movementSpeedPctReduction"}],mirana_arrow:[{label:"Arrow Travel Distance",controlType:"input"},{attributeName:"arrow_max_stun",label:"STUN DURATION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"arrow_min_stun",0),l=n.getAbilityAttributeValue(o.attributes,"arrow_max_stunrange",0),s=Math.min(e,l)/l;return Math.max(r,.1*Math.floor(t*s/.1))}},{attributeName:"arrow_bonus_damage",label:"TOTAL DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var o=o,r=o.damage()[o.level()-1],l=n.getAbilityAttributeValue(o.attributes,"arrow_max_stunrange",0),s=Math.min(e,l)/l,u=2.8*Math.floor(t*s/2.8);return r+" + "+u+" = "+(r+u)}}],morphling_morph_agi:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"AGI SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"bonusAgility"},{attributeName:"points_per_tick",label:"STR SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return-e*t},returnProperty:"bonusStrength"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"bonusAgility2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t*n.getAbilityAttributeValue(o.attributes,"morph_cooldown",o.level())}}],morphling_morph_str:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"STR SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"bonusStrength"},{attributeName:"points_per_tick",label:"AGI SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return-e*t},returnProperty:"bonusAgility"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"bonusStrength2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t*n.getAbilityAttributeValue(o.attributes,"morph_cooldown",o.level())}}],furion_wrath_of_nature:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],necrolyte_heartstopper_aura:[{label:"Duration",controlType:"input"},{label:"Enemy Max Health",controlType:"input"},{attributeName:"aura_damage",label:"HEALTH LOST:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,o){return e[0]*e[1]*t/100}}],necrolyte_sadist:[{label:"Unit Kills",controlType:"input"},{label:"Hero Kills",controlType:"input"},{attributeName:"health_regen",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"hero_multiplier",0);return(e[0]+e[1]*r)*t},returnProperty:"healthregen"},{attributeName:"mana_regen",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"hero_multiplier",0);return(e[0]+e[1]*r)*t},returnProperty:"manaregen"}],night_stalker_crippling_fear:[{label:"Is Night",controlType:"checkbox"},{attributeName:"miss_rate_night",label:"%CHANCE TO MISS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e?n.getAbilityAttributeValue(o.attributes,"miss_rate_night",o.level()):n.getAbilityAttributeValue(o.attributes,"miss_rate_day",o.level())},returnProperty:"missChance"}],night_stalker_hunter_in_the_night:[{label:"Is Night",controlType:"checkbox"},{attributeName:"bonus_attack_speed_night",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e?t:0},returnProperty:"attackspeed"},{attributeName:"bonus_movement_speed_pct_night",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e?t:0},returnProperty:"movementSpeedPct"}],obsidian_destroyer_arcane_orb:[{label:"Current Mana",controlType:"input"},{attributeName:"mana_pool_damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t/100},returnProperty:"bonusDamageOrb"}],ogre_magi_ignite:[{label:"Duration",controlType:"input"},{attributeName:"burn_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"}],pudge_rot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}},{attributeName:"rot_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"}],pudge_flesh_heap:[{label:"Stacks",controlType:"input"},{attributeName:"flesh_heap_strength_buff_amount",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"bonusStrength"},{attributeName:"flesh_heap_magic_resist",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"magicResist"}],pudge_dismember:[{label:"Duration",controlType:"input"},{attributeName:"dismember_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],pugna_nether_ward:[{label:"Enemy Mana Spent",controlType:"input"},{attributeName:"mana_multiplier",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"mana_regen",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"manaregenreduction"}],pugna_life_drain:[{label:"Duration",controlType:"input"},{attributeName:"health_drain",label:"HEALTH DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],queenofpain_shadow_strike:[{label:"Duration",controlType:"input"},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"strike_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"duration_damage",o.level()),l=Math.floor(e/3);return t+r*l}}],razor_plasma_field:[{label:"Distance",controlType:"input"},{attributeName:"radius",label:"MIN DISTANCE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return 200}},{attributeName:"radius",label:"MAX DISTANCE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return 200+t}},{attributeName:"radius",label:"Instance Damage",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=t+200,l=(Math.min(Math.max(e,200),r)-200)/(r-200),s=n.getAbilityAttributeValue(o.attributes,"damage_min",o.level()),u=n.getAbilityAttributeValue(o.attributes,"damage_max",o.level());return s+(u-s)*l}}],razor_static_link:[{label:"Duration",controlType:"input"},{attributeName:"drain_length",label:"Damage Drained:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=Math.floor(4*e)+1,l=Math.min(4*t+1,r),s=n.getAbilityAttributeValue(o.attributes,"drain_rate",o.level());return l*s/4},returnProperty:"bonusDamage"},{attributeName:"drain_length",label:"Enemy Damage Lost:",ignoreTooltip:!0,controlType:"text",display:"hidden",fn:function(e,t,i,a,n,o){var r=Math.floor(4*e)+1,l=Math.min(4*t+1,r),s=n.getAbilityAttributeValue(o.attributes,"drain_rate",o.level());return l*s/4},returnProperty:"bonusDamageReduction"}],razor_eye_of_the_storm:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],rubick_fade_bolt:[{label:"Jumps",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t*(1-e*n.getAbilityAttributeValue(o.attributes,"jump_damage_reduction_pct",o.level())/100)}},{attributeName:"hero_attack_damage_reduction",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"bonusDamageReduction"}],sandking_sand_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}}],sandking_epicenter:[{label:"Pulses",controlType:"input"},{attributeName:"epicenter_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"epicenter_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"epicenter_slow_as",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"attackspeedreduction"}],shadow_demon_shadow_poison:[{label:"Duration",controlType:"input"},{attributeName:"stack_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){var r=[1,2,4,8];return e>4?t*r[3]+50*(e-4):e<=0?0:t*r[e-1]}}],nevermore_necromastery:[{label:"Souls",controlType:"input"},{attributeName:"necromastery_damage_per_soul",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"bonusDamage"}],nevermore_requiem:[{label:"Line Hit Count",controlType:"input"},{attributeName:"requiem_reduction_damage",label:"Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}},{label:"Return Line Hit Count (Scepter)",controlType:"input"},{attributeName:"requiem_damage_pct_scepter",label:"Damage/Heal:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e*t/100}},{attributeName:"requiem_damage_pct_scepter",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,o){var r=n.getAbilityPropertyValue(o,"damage");return r*e[0]+r*e[1]*t/100}},{attributeName:"requiem_reduction_damage",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"baseDamageReductionPct"},{attributeName:"requiem_reduction_ms",label:"%DAMAGE REDUCTION:",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"}],shadow_shaman_shackles:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}}],silencer_curse_of_the_silent:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return Math.floor(e)*t}},{attributeName:"movespeed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"}],skywrath_mage_mystic_flare:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],slark_essence_shift:[{label:"Attacks",controlType:"input"},{attributeName:"agi_gain",label:"Total Damage",controlType:"text",display:"ability",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"bonusAgility"},{attributeName:"stat_loss",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return-e*t},returnProperty:"bonusAllStatsReduction"}],slark_shadow_dance:[{label:"Duration",controlType:"input"},{attributeName:"bonus_regen_pct",label:"TOTAL HEALTH REGENERATED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*i.health()*t/100}},{attributeName:"bonus_regen_pct",label:"HEALTH GAINED PER SECOND:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return i.health()*t/100},returnProperty:"healthregen"},{attributeName:"bonus_movement_speed",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPct"}],sniper_shrapnel:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}},{attributeName:"building_damage",label:"BUILDING DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"}],spectre_desolate:[{label:"Enemy Alone",controlType:"checkbox"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e?t:0},returnProperty:"bonusDamage"}],spectre_dispersion:[{label:"Damage Taken",controlType:"input"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",controlType:"text",fn:function(e,t,i,a,n,o){return-t},returnProperty:"damageReduction"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t/100}}],storm_spirit_ball_lightning:[{label:"MAX MANA",controlType:"input"},{label:"Distance",controlType:"input"},{attributeName:"ball_lightning_initial_mana_base",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")/100*e[1]}},{attributeName:"ball_lightning_initial_mana_base",label:"FLAT MANA COST:",ignoreTooltip:!0,controlType:"method",controls:[0,1],fn:function(e,t,i,a,n,o){var r=Math.floor(e[1]/100),l=n.getAbilityAttributeValue(o.attributes,"ball_lightning_travel_cost_base",0);return t+r*l}},{attributeName:"ball_lightning_initial_mana_percentage",label:"%MAX MANA COST:",ignoreTooltip:!0,controlType:"method",controls:[0,1],fn:function(e,t,i,a,n,o){var r=Math.floor(e[1]/100),l=n.getAbilityAttributeValue(o.attributes,"ball_lightning_travel_cost_percent",0);return t+r*l}},{attributeName:"ball_lightning_initial_mana_base",label:"TOTAL MANA COST:",ignoreTooltip:!0,controlType:"text",controls:[0,1,2,3],fn:function(e,t,i,a,n,o){return e[2]+" + "+e[3]/100*e[0]+" ("+e[3]+"% of max) = "+(e[2]+e[3]/100*e[0])}}],templar_assassin_psionic_trap:[{label:"Charge Time",controlType:"input"},{attributeName:"movement_speed_min_tooltip",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"movement_speed_max_tooltip",0),l=(r-t)/40;return-(t+l*Math.min(Math.max(0,e),4)*10)},returnProperty:"movementSpeedPctReduction"}],shredder_reactive_armor:[{label:"Stacks",controlType:"input"},{attributeName:"bonus_armor",label:"Total Armor Bonus",controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"armor"},{attributeName:"bonus_hp_regen",label:"Total HP Regen Bonus",controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"healthregen"}],shredder_chakram:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"damage_interval",0),l=Math.floor(e/r);return t*r*l}},{attributeName:"mana_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"damage_interval",0),l=Math.floor(e/r);return t*r*l}},{label:"ENEMY %HP",controlType:"input"},{attributeName:"slow",label:"MANA COST:",controlType:"text",fn:function(e,t,i,a,n,o){var r=20-Math.floor(Math.min(Math.max(e-1,0),99)/5);return-t*r},returnProperty:"movementSpeedPctReduction"}],spirit_breaker_greater_bash:[{label:"Bash Proc",controlType:"checkbox"},{attributeName:"damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(e,t,i,a,n,o){return e?t:0},returnProperty:"bashBonusDamage"},{attributeName:"bonus_movespeed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e?t:0},returnProperty:"movementSpeedPct"},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"bash"}],techies_land_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=i.enemy().totalArmorPhysicalReduction(),l=i.enemy().totalMagicResistance();return(e*t*(1-r/100)*(1-l/100)).toFixed(2)}}],techies_suicide:[{attributeName:"damage",label:"FULL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=i.enemy().totalArmorPhysicalReduction(),l=i.enemy().totalMagicResistance();return(t*(1-r/100)*(1-l/100)).toFixed(2)}},{attributeName:"partial_damage",label:"PARTIAL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=i.enemy().totalArmorPhysicalReduction(),l=i.enemy().totalMagicResistance();return(t*(1-r/100)*(1-l/100)).toFixed(2)}},{attributeName:"damage",label:"RESPAWN TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return(i.respawnTime()/2).toFixed(0)+" seconds"}}],techies_remote_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=i.enemy().totalMagicResistance();return(e*t*(1-r/100)).toFixed(2)}}],tinker_march_of_the_machines:[{label:"Robot Explosions",controlType:"input"},{attributeName:"machines_per_sec",label:"TOTAL DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}}],treant_leech_seed:[{label:"Pulses",controlType:"input"},{attributeName:"leech_damage",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"}],troll_warlord_fervor:[{label:"Stacks",controlType:"input"},{attributeName:"attack_speed",label:"ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"attackspeed"}],undying_decay:[{label:"Stacks",controlType:"input"},{attributeName:"str_steal",label:"STRENGTH STOLEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){if(i.inventory.hasScepter()){var r=n.getAbilityAttributeValue(o.attributes,"str_steal_scepter",0);return e*r}return e*t},returnProperty:"bonusStrength"}],undying_soul_rip:[{label:"Units",controlType:"input"},{attributeName:"damage_per_unit",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],undying_flesh_golem:[{label:"Distance",controlType:"input"},{attributeName:"max_speed_slow",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"min_speed_slow",0),l=n.getAbilityAttributeValue(o.attributes,"radius",0),s=n.getAbilityAttributeValue(o.attributes,"full_power_radius",0),u=Math.min(Math.max(e,s),l),c=1-(u-s)/(l-s);return-Math.max(c*t,r)},returnProperty:"movementSpeedPctReduction"},{attributeName:"max_damage_amp",label:"%DAMAGE AMP:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"min_damage_amp",0),l=n.getAbilityAttributeValue(o.attributes,"radius",0),s=n.getAbilityAttributeValue(o.attributes,"full_power_radius",0),u=Math.min(Math.max(e,s),l),c=1-(u-s)/(l-s);return Math.max(c*t,r)},returnProperty:"damageAmplification"},{label:"MAX HP",controlType:"input"},{label:"Hero Death Count",controlType:"input"},{label:"Creep Death Count",controlType:"input"},{attributeName:"death_heal",label:"DEATH HEAL (HEROES):",ignoreTooltip:!0,controlType:"method",controls:[1,2],fn:function(e,t,i,a,n,o){return e[0]*e[1]*t/100}},{attributeName:"death_heal_creep",label:"DEATH HEAL (CREEPS):",ignoreTooltip:!0,controlType:"method",controls:[1,3],fn:function(e,t,i,a,n,o){return e[0]*e[1]*t/100}},{attributeName:"death_heal_creep",label:"TOTAL DEATH HEAL:",ignoreTooltip:!0,controlType:"text",controls:[4,5],fn:function(e,t,i,a,n,o){return e[0]+e[1]}}],ursa_fury_swipes:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){var r=n.abilities().find(function(e){return"ursa_enrage"==e.name});if(r.isActive()&&r.level()>0){var l=n.getAbilityAttributeValue(r.attributes,"enrage_multiplier",r.level());
return e*t*l}return e*t},returnProperty:"bonusDamage"}],ursa_enrage:[{attributeName:"damage_reduction",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return-t},returnProperty:"damageReduction"}],venomancer_venomous_gale:[{label:"Duration",controlType:"input"},{attributeName:"tick_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityAttributeValue(o.attributes,"strike_damage",o.level())+Math.floor(e/3)*t}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"}],venomancer_poison_sting:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"}],venomancer_poison_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],viper_poison_attack:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"attackspeedreduction"}],viper_corrosive_skin:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"attackspeedreduction"},{attributeName:"bonus_magic_resistance",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"magicResist"}],viper_viper_strike:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"attackspeedreduction"}],visage_soul_assumption:[{label:"Charges",controlType:"input"},{attributeName:"soul_charge_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"soul_base_damage",0),l=n.getAbilityAttributeValue(o.attributes,"stack_limit",o.level());return l=Math.max(Math.min(e,l),0),r+l*t}}],visage_gravekeepers_cloak:[{label:"Layers",controlType:"input"},{attributeName:"bonus_armor",label:"ARMOR:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"armor"},{attributeName:"bonus_resist",label:"%RESIST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t},returnProperty:"magicResist"}],warlock_shadow_word:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}}],warlock_upheaval:[{label:"Channel Duration",controlType:"input"},{attributeName:"slow_rate_duration",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"max_slow",0),l=r/(t-.5)/2,s=Math.max(Math.floor(2*e)-1,0);return-Math.min(s*l,r)},returnProperty:"movementSpeedPctReduction"}],weaver_the_swarm:[{label:"Attacks",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"armor_reduction",label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,o){return-e*t},returnProperty:"armorReduction"}],windrunner_powershot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return n.getAbilityPropertyValue(o,"damage")*e}}],winter_wyvern_cold_embrace:[{label:"Duration",controlType:"input"},{label:"Ally Max Health",controlType:"input"},{attributeName:"heal_percentage",label:"TOTAL HEAL:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"heal_additive",o.level());return(r+e[1]*t/100)*e[0]}}],wisp_spirits:[{label:"Collision Count",controlType:"input"},{attributeName:"hero_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"creep_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],wisp_overcharge:[{label:"Current HP",controlType:"input"},{attributeName:"drain_pct",label:"HP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{label:"Current MP",controlType:"input"},{attributeName:"drain_pct",label:"MP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t}},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"attackspeed"},{attributeName:"bonus_damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return t},returnProperty:"damageReduction"}],witch_doctor_paralyzing_cask:[{label:"Hero Bounce Count",controlType:"input"},{attributeName:"hero_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"bounces",o.level());return Math.min(Math.max(e,0),r)*t}},{label:"Creep Bounce Count",controlType:"input"},{attributeName:"hero_damage",label:"CREEP DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"bounces",o.level()),l=n.getAbilityPropertyValue(o,"damage");return Math.min(Math.max(e,0),r)*l}}],witch_doctor_voodoo_restoration:[{label:"Duration",controlType:"input"},{attributeName:"heal",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"heal_interval",o.level()),l=t*r,s=Math.max(Math.floor(e/r)-1,0);return l*s}},{attributeName:"mana_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"heal_interval",o.level()),l=t*r,s=Math.max(Math.floor(e/r)-1,0);return l*s}}],witch_doctor_maledict:[{label:"damage 0-4s",controlType:"input"},{label:"damage 4-8s",controlType:"input"},{label:"damage 8-12s",controlType:"input"},{attributeName:"bonus_damage",label:"Dot Damage after 3s:",ignoreTooltip:!0,controlType:"method",fn:function(e,t,i,a,n,o){var r=n.getAbilityPropertyValue(o,"damage");return 3*r}},{attributeName:"bonus_damage",label:"Burst Damage at 4s:",ignoreTooltip:!0,controlType:"method",controls:[0,3],fn:function(e,t,i,a,n,o){var r=(n.getAbilityPropertyValue(o,"damage"),e.reduce(function(e,t){return e+t},0));return Math.max(r,0)*t/100}},{attributeName:"bonus_damage",label:"Dot Damage after 7s:",ignoreTooltip:!0,controlType:"method",fn:function(e,t,i,a,n,o){var r=n.getAbilityPropertyValue(o,"damage");return 7*r}},{attributeName:"bonus_damage",label:"Burst Damage at 8s:",ignoreTooltip:!0,controlType:"method",controls:[0,1,4,5],fn:function(e,t,i,a,n,o){var r=(n.getAbilityPropertyValue(o,"damage"),e.reduce(function(e,t){return e+t},0));return Math.max(r,0)*t/100}},{attributeName:"bonus_damage",label:"Dot Damage after 11s:",ignoreTooltip:!0,controlType:"method",fn:function(e,t,i,a,n,o){var r=n.getAbilityPropertyValue(o,"damage");return 11*r}},{attributeName:"bonus_damage",label:"Burst Damage at 12s:",ignoreTooltip:!0,controlType:"method",controls:[0,1,2,4,6,7],fn:function(e,t,i,a,n,o){var r=(n.getAbilityPropertyValue(o,"damage"),e.reduce(function(e,t){return e+t},0));return Math.max(r,0)*t/100}},{attributeName:"bonus_damage",label:"Total Burst Damage:",ignoreTooltip:!0,controlType:"method",controls:[4,6,8],fn:function(e,t,i,a,n,o){return e.reduce(function(e,t){return e+t},0)}},{attributeName:"bonus_damage",label:"Total Maledict Damage:",ignoreTooltip:!0,controlType:"method",controls:[9],fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"duration_tooltip",0),l=n.getAbilityPropertyValue(o,"damage");return l*r+e[0]}},{label:"Duration",controlType:"input"},{attributeName:"bonus_damage",label:"DOT Damage",controlType:"text",fn:function(e,t,i,a,n,o){var r=n.getAbilityAttributeValue(o.attributes,"duration_tooltip",0);return n.getAbilityPropertyValue(o,"damage")*Math.min(Math.max(e,0),r)}}],witch_doctor_death_ward:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,o){return e*t}}],zuus_static_field:[{label:"Enemy HP",controlType:"input"},{attributeName:"damage_health_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,o){return e*t/100}}]}},{"./herocalc_core":4}],3:[function(e,t,i){"use strict";var a=e("./herocalc_knockout"),n=e("./herocalc_core");n.prototype.BuffOption=function(e,t){this.buffName=t,void 0==n.prototype.heroData["npc_dota_hero_"+e]?(this.hero=e,this.abilityData=n.prototype.findWhere(n.prototype.unitData[e].abilities,{name:t}),this.buffDisplayName=n.prototype.unitData[e].displayname+" - "+this.abilityData.displayname):(this.hero="npc_dota_hero_"+e,this.abilityData=n.prototype.findWhere(n.prototype.heroData["npc_dota_hero_"+e].abilities,{name:t}),this.buffDisplayName=n.prototype.heroData["npc_dota_hero_"+e].displayname+" - "+this.abilityData.displayname,"sven_gods_strength"==t&&(this.buffDisplayName+=" (Aura for allies)"))},n.prototype.ItemBuffOption=function(e){this.buffName=e,void 0==n.prototype.heroData["npc_dota_hero_"+hero]?(this.hero=hero,this.abilityData=n.prototype.findWhere(n.prototype.unitData[hero].abilities,{name:e}),this.buffDisplayName=n.prototype.unitData[hero].displayname+" - "+this.abilityData.displayname):(this.hero="npc_dota_hero_"+hero,this.abilityData=n.prototype.findWhere(n.prototype.heroData["npc_dota_hero_"+hero].abilities,{name:e}),this.buffDisplayName=n.prototype.heroData["npc_dota_hero_"+hero].displayname+" - "+this.abilityData.displayname)},n.prototype.BuffViewModel=function(e){var t=new n.prototype.AbilityModel(a.observableArray([]));return t.availableBuffs=a.observableArray(n.prototype.availableBuffs),t.availableDebuffs=a.observableArray(n.prototype.availableDebuffs),t.selectedBuff=a.observable(t.availableBuffs()[0]),t.buffs=a.observableArray([]),t.itemBuffs=new n.prototype.InventoryViewModel,t.addBuff=function(e,i){if(void 0==n.prototype.findWhere(t.buffs(),{name:t.selectedBuff().buffName})){var o=JSON.parse(JSON.stringify(t.selectedBuff().abilityData));switch(o.level=a.observable(0),o.isActive=a.observable(!1),o.isDetail=a.observable(!1),o.baseDamage=a.observable(0),o.bash=a.observable(0),o.bashBonusDamage=a.observable(0),o.bonusDamage=a.observable(0),o.bonusDamageOrb=a.observable(0),o.bonusDamagePct=a.observable(0),o.bonusDamagePrecisionAura=a.observable(0),o.bonusDamageReduction=a.observable(0),o.bonusHealth=a.observable(0),o.bonusStrength=a.observable(0),o.bonusStrength2=a.observable(0),o.bonusAgility=a.observable(0),o.bonusAgility2=a.observable(0),o.bonusInt=a.observable(0),o.bonusAllStatsReduction=a.observable(0),o.damageAmplification=a.observable(0),o.damageReduction=a.observable(0),o.evasion=a.observable(0),o.magicResist=a.observable(0),o.manaregen=a.observable(0),o.manaregenreduction=a.observable(0),o.missChance=a.observable(0),o.movementSpeedFlat=a.observable(0),o.movementSpeedPct=a.observable(0),o.movementSpeedPctReduction=a.observable(0),o.turnRateReduction=a.observable(0),o.attackrange=a.observable(0),o.attackspeed=a.observable(0),o.attackspeedreduction=a.observable(0),o.armor=a.observable(0),o.armorReduction=a.observable(0),o.healthregen=a.observable(0),o.lifesteal=a.observable(0),o.visionnight=a.observable(0),o.visionday=a.observable(0),o.name){case"invoker_cold_snap":case"invoker_ghost_walk":case"invoker_tornado":case"invoker_emp":case"invoker_alacrity":case"invoker_chaos_meteor":case"invoker_sun_strike":case"invoker_forge_spirit":case"invoker_ice_wall":case"invoker_deafening_blast":o.level(1)}t.abilities.push(o),t.buffs.push({name:t.selectedBuff().buffName,hero:t.selectedBuff().hero,data:o})}},t.removeBuff=function(e,i,a){if(void 0!=n.prototype.findWhere(t.buffs(),{name:a})){if(t.buffs.remove(n.prototype.findWhere(t.buffs(),{name:a})),void 0!=t.abilityControlData[a]){for(var o=0;o<t.abilityControlData[a].data.length;o++)void 0!=t.abilityControlData[a].data[o].controlVal.dispose&&t.abilityControlData[a].data[o].controlVal.dispose(),void 0!=t.abilityControlData[a].data[o].clean&&t.abilityControlData[a].data[o].clean.dispose();t.abilityControlData[a]=void 0}for(var o=0;o<t.abilities().length;o++)if(t.abilities()[o].name==a){t.abilities()[o].level(0),t.abilities.remove(t.abilities()[o]);break}}},t.toggleBuff=function(e,i,a){t.buffs()[e()].data.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(t.buffs()[e()].data.isActive()?(t.buffs()[e()].data.isActive(!1),t.abilities()[e()].isActive(!1)):(t.buffs()[e()].data.isActive(!0),t.abilities()[e()].isActive(!0)))}.bind(this),t.toggleBuffDetail=function(e,i,a){t.buffs()[e()].data.isDetail()?t.buffs()[e()].data.isDetail(!1):t.buffs()[e()].data.isDetail(!0)}.bind(this),t.levelUpAbility=function(e,i,a,n){if(t.abilities()[e()].level()<n.getAbilityLevelMax(i)){switch(t.abilities()[e()].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":t.abilities()[e()].level(t.abilities()[e()].level()+1);break;default:t.abilities()[e()].level(t.abilities()[e()].level()+1)}switch(t.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"morphling_morph_str":t.abilities()[e()-1].level(t.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()-2].level(t.abilities()[e()].level());case"nevermore_shadowraze1":t.abilities()[e()+1].level(t.abilities()[e()].level()),t.abilities()[e()+2].level(t.abilities()[e()].level());break;case"nevermore_shadowraze2":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"nevermore_shadowraze3":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()-2].level(t.abilities()[e()].level())}}},t.levelDownAbility=function(e,i,a,n){if(t.abilities()[e()].level()>0)switch(t.abilities()[e()].level(t.abilities()[e()].level()-1),t.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"morphling_morph_str":t.abilities()[e()-1].level(t.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()-2].level(t.abilities()[e()].level());case"nevermore_shadowraze1":t.abilities()[e()+1].level(t.abilities()[e()].level()),t.abilities()[e()+2].level(t.abilities()[e()].level());break;case"nevermore_shadowraze2":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"nevermore_shadowraze3":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()-2].level(t.abilities()[e()].level());break;case"ember_spirit_fire_remnant":t.abilities()[e()-1].level(t.abilities()[e()].level());break;case"lone_druid_true_form":t.abilities()[e()-1].level(t.abilities()[e()].level())}},t}},{"./herocalc_core":4,"./herocalc_knockout":10}],4:[function(e,t,i){"use strict";function a(){}e("./polyfill");var n=a;n.prototype.heroData={},n.prototype.itemData={},n.prototype.unitData={},n.prototype.abilityData={},n.prototype.HeroOptions=[],n.prototype.HeroOption=function(e,t,i){this.heroName=e,this.heroDisplayName=t,this.hero=i},n.prototype.idCounter=0,n.prototype.uniqueId=function(e){var t=++n.prototype.idCounter+"";return e?e+t:t},n.prototype.findWhere=function(e,t){e:for(var i=0;i<e.length;i++){for(var a in t)if(e[i][a]!=t[a])continue e;return e[i]}},n.prototype.uniques=function(e){for(var t=[],i=0,a=e.length;i<a;i++)t.indexOf(e[i])===-1&&""!==e[i]&&t.push(e[i]);return t},n.prototype.union=function(e,t){var i=e.concat(t);return n.prototype.uniques(i)},n.prototype.totalResources=3,n.prototype.numResourcesLoaded=0,n.prototype.onResourceLoaded=function(e){if(n.prototype.numResourcesLoaded++,n.prototype.numResourcesLoaded==n.prototype.totalResources){n.prototype.availableBuffs=[new n.prototype.BuffOption("abaddon","abaddon_frostmourne"),new n.prototype.BuffOption("axe","axe_culling_blade"),new n.prototype.BuffOption("beastmaster","beastmaster_inner_beast"),new n.prototype.BuffOption("bloodseeker","bloodseeker_bloodrage"),new n.prototype.BuffOption("bounty_hunter","bounty_hunter_track"),new n.prototype.BuffOption("centaur","centaur_stampede"),new n.prototype.BuffOption("crystal_maiden","crystal_maiden_brilliance_aura"),new n.prototype.BuffOption("dark_seer","dark_seer_surge"),new n.prototype.BuffOption("dazzle","dazzle_weave"),new n.prototype.BuffOption("drow_ranger","drow_ranger_trueshot"),new n.prototype.BuffOption("invoker","invoker_alacrity"),new n.prototype.BuffOption("wisp","wisp_tether"),new n.prototype.BuffOption("wisp","wisp_overcharge"),new n.prototype.BuffOption("kunkka","kunkka_ghostship"),new n.prototype.BuffOption("lich","lich_frost_armor"),new n.prototype.BuffOption("life_stealer","life_stealer_open_wounds"),new n.prototype.BuffOption("luna","luna_lunar_blessing"),new n.prototype.BuffOption("lycan","lycan_howl"),new n.prototype.BuffOption("magnataur","magnataur_empower"),new n.prototype.BuffOption("mirana","mirana_leap"),new n.prototype.BuffOption("ogre_magi","ogre_magi_bloodlust"),new n.prototype.BuffOption("omniknight","omniknight_guardian_angel"),new n.prototype.BuffOption("rubick","rubick_null_field"),new n.prototype.BuffOption("skeleton_king","skeleton_king_vampiric_aura"),new n.prototype.BuffOption("spirit_breaker","spirit_breaker_empowering_haste"),new n.prototype.BuffOption("sven","sven_warcry"),new n.prototype.BuffOption("sven","sven_gods_strength"),new n.prototype.BuffOption("treant","treant_living_armor"),new n.prototype.BuffOption("troll_warlord","troll_warlord_battle_trance"),new n.prototype.BuffOption("vengefulspirit","vengefulspirit_command_aura"),new n.prototype.BuffOption("npc_dota_neutral_alpha_wolf","alpha_wolf_critical_strike"),new n.prototype.BuffOption("npc_dota_neutral_alpha_wolf","alpha_wolf_command_aura"),new n.prototype.BuffOption("npc_dota_neutral_polar_furbolg_ursa_warrior","centaur_khan_endurance_aura"),new n.prototype.BuffOption("npc_dota_neutral_giant_wolf","giant_wolf_critical_strike"),new n.prototype.BuffOption("npc_dota_neutral_kobold_taskmaster","kobold_taskmaster_speed_aura"),new n.prototype.BuffOption("npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new n.prototype.BuffOption("npc_dota_neutral_satyr_hellcaller","satyr_hellcaller_unholy_aura"),new n.prototype.BuffOption("npc_dota_neutral_enraged_wildkin","enraged_wildkin_toughness_aura"),new n.prototype.BuffOption("npc_dota_necronomicon_archer_1","necronomicon_archer_aoe")],n.prototype.availableDebuffs=[new n.prototype.BuffOption("abaddon","abaddon_frostmourne"),new n.prototype.BuffOption("alchemist","alchemist_acid_spray"),new n.prototype.BuffOption("ancient_apparition","ancient_apparition_ice_vortex"),new n.prototype.BuffOption("axe","axe_battle_hunger"),new n.prototype.BuffOption("bane","bane_enfeeble"),new n.prototype.BuffOption("batrider","batrider_sticky_napalm"),new n.prototype.BuffOption("beastmaster","beastmaster_primal_roar"),new n.prototype.BuffOption("bounty_hunter","bounty_hunter_jinada"),new n.prototype.BuffOption("brewmaster","brewmaster_thunder_clap"),new n.prototype.BuffOption("brewmaster","brewmaster_drunken_haze"),new n.prototype.BuffOption("bristleback","bristleback_viscous_nasal_goo"),new n.prototype.BuffOption("broodmother","broodmother_incapacitating_bite"),new n.prototype.BuffOption("centaur","centaur_stampede"),new n.prototype.BuffOption("chen","chen_penitence"),new n.prototype.BuffOption("crystal_maiden","crystal_maiden_crystal_nova"),new n.prototype.BuffOption("crystal_maiden","crystal_maiden_freezing_field"),new n.prototype.BuffOption("dazzle","dazzle_weave"),new n.prototype.BuffOption("drow_ranger","drow_ranger_frost_arrows"),new n.prototype.BuffOption("earth_spirit","earth_spirit_rolling_boulder"),new n.prototype.BuffOption("elder_titan","elder_titan_natural_order"),new n.prototype.BuffOption("elder_titan","elder_titan_earth_splitter"),new n.prototype.BuffOption("enchantress","enchantress_untouchable"),new n.prototype.BuffOption("enchantress","enchantress_enchant"),new n.prototype.BuffOption("faceless_void","faceless_void_time_walk"),new n.prototype.BuffOption("huskar","huskar_life_break"),new n.prototype.BuffOption("invoker","invoker_ghost_walk"),new n.prototype.BuffOption("invoker","invoker_ice_wall"),new n.prototype.BuffOption("wisp","wisp_tether"),new n.prototype.BuffOption("jakiro","jakiro_dual_breath"),new n.prototype.BuffOption("jakiro","jakiro_liquid_fire"),new n.prototype.BuffOption("keeper_of_the_light","keeper_of_the_light_blinding_light"),new n.prototype.BuffOption("kunkka","kunkka_torrent"),new n.prototype.BuffOption("lich","lich_frost_nova"),new n.prototype.BuffOption("lich","lich_frost_armor"),new n.prototype.BuffOption("lich","lich_chain_frost"),new n.prototype.BuffOption("life_stealer","life_stealer_open_wounds"),new n.prototype.BuffOption("lion","lion_voodoo"),new n.prototype.BuffOption("magnataur","magnataur_skewer"),new n.prototype.BuffOption("medusa","medusa_stone_gaze"),new n.prototype.BuffOption("meepo","meepo_geostrike"),new n.prototype.BuffOption("naga_siren","naga_siren_rip_tide"),new n.prototype.BuffOption("night_stalker","night_stalker_void"),new n.prototype.BuffOption("night_stalker","night_stalker_crippling_fear"),new n.prototype.BuffOption("night_stalker","night_stalker_darkness"),new n.prototype.BuffOption("ogre_magi","ogre_magi_ignite"),new n.prototype.BuffOption("omniknight","omniknight_degen_aura"),new n.prototype.BuffOption("phantom_assassin","phantom_assassin_stifling_dagger"),new n.prototype.BuffOption("phantom_lancer","phantom_lancer_spirit_lance"),new n.prototype.BuffOption("pudge","pudge_rot"),new n.prototype.BuffOption("pugna","pugna_decrepify"),new n.prototype.BuffOption("queenofpain","queenofpain_shadow_strike"),new n.prototype.BuffOption("riki","riki_smoke_screen"),new n.prototype.BuffOption("rubick","rubick_fade_bolt"),new n.prototype.BuffOption("sand_king","sandking_epicenter"),new n.prototype.BuffOption("nevermore","nevermore_dark_lord"),new n.prototype.BuffOption("shadow_shaman","shadow_shaman_voodoo"),new n.prototype.BuffOption("skeleton_king","skeleton_king_hellfire_blast"),new n.prototype.BuffOption("skeleton_king","skeleton_king_reincarnation"),new n.prototype.BuffOption("skywrath_mage","skywrath_mage_concussive_shot"),new n.prototype.BuffOption("skywrath_mage","skywrath_mage_ancient_seal"),new n.prototype.BuffOption("slardar","slardar_slithereen_crush"),new n.prototype.BuffOption("slardar","slardar_amplify_damage"),new n.prototype.BuffOption("slark","slark_essence_shift"),new n.prototype.BuffOption("sniper","sniper_shrapnel"),new n.prototype.BuffOption("spectre","spectre_spectral_dagger"),new n.prototype.BuffOption("storm_spirit","storm_spirit_overload"),new n.prototype.BuffOption("templar_assassin","templar_assassin_meld"),new n.prototype.BuffOption("tidehunter","tidehunter_gush"),new n.prototype.BuffOption("tinker","tinker_laser"),new n.prototype.BuffOption("treant","treant_leech_seed"),new n.prototype.BuffOption("tusk","tusk_frozen_sigil"),new n.prototype.BuffOption("undying","undying_flesh_golem"),new n.prototype.BuffOption("ursa","ursa_earthshock"),new n.prototype.BuffOption("vengefulspirit","vengefulspirit_wave_of_terror"),new n.prototype.BuffOption("vengefulspirit","vengefulspirit_command_aura"),new n.prototype.BuffOption("venomancer","venomancer_venomous_gale"),new n.prototype.BuffOption("venomancer","venomancer_poison_sting"),new n.prototype.BuffOption("viper","viper_poison_attack"),new n.prototype.BuffOption("viper","viper_corrosive_skin"),new n.prototype.BuffOption("viper","viper_viper_strike"),new n.prototype.BuffOption("visage","visage_grave_chill"),new n.prototype.BuffOption("warlock","warlock_upheaval"),new n.prototype.BuffOption("weaver","weaver_the_swarm"),new n.prototype.BuffOption("windrunner","windrunner_windrun"),new n.prototype.BuffOption("winter_wyvern","winter_wyvern_arctic_burn"),new n.prototype.BuffOption("winter_wyvern","winter_wyvern_splinter_blast"),new n.prototype.BuffOption("npc_dota_neutral_ghost","ghost_frost_attack"),new n.prototype.BuffOption("npc_dota_neutral_polar_furbolg_ursa_warrior","polar_furbolg_ursa_warrior_thunder_clap"),new n.prototype.BuffOption("npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new n.prototype.BuffOption("npc_dota_neutral_satyr_trickster","satyr_trickster_purge"),new n.prototype.BuffOption("npc_dota_neutral_enraged_wildkin","enraged_wildkin_tornado")],n.prototype.itemOptionsArr=[];for(var t=0;t<n.prototype.validItems.length;t++)n.prototype.itemOptionsArr.push(new n.prototype.ItemInput(n.prototype.validItems[t],n.prototype.itemData["item_"+n.prototype.validItems[t]].displayname));var i=["assault","ancient_janggo","headdress","mekansm","pipe","ring_of_aquila","vladmir","ring_of_basilius","buckler","solar_crest"];n.prototype.itemBuffOptions=i.map(function(e){return new n.prototype.ItemInput(e,n.prototype.itemData["item_"+e].displayname)});var a=[{item:"assault",debuff:null},{item:"shivas_guard",debuff:null},{item:"desolator",debuff:null},{item:"medallion_of_courage",debuff:null},{item:"radiance",debuff:null},{item:"sheepstick",debuff:null},{item:"veil_of_discord",debuff:null},{item:"solar_crest",debuff:null},{item:"silver_edge",debuff:{id:"shadow_walk",name:"Shadow Walk"}},{item:"silver_edge",debuff:{id:"maim",name:"Lesser Maim"}}];n.prototype.itemDebuffOptions=a.map(function(e){return new n.prototype.ItemInput(e.item,n.prototype.itemData["item_"+e.item].displayname,e.debuff)}),e&&e()}},n.prototype.init=function(e,t,i,a){n.prototype.numResourcesLoaded=0,n.prototype.getJSON(e,function(e){n.prototype.heroData=e,n.prototype.heroData.npc_dota_hero_chen.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),n.prototype.heroData.npc_dota_hero_nevermore.abilities[1].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),n.prototype.heroData.npc_dota_hero_nevermore.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),n.prototype.heroData.npc_dota_hero_morphling.abilities[3].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),n.prototype.heroData.npc_dota_hero_ogre_magi.abilities[3].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),n.prototype.heroData.npc_dota_hero_techies.abilities[4].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),n.prototype.heroData.npc_dota_hero_beastmaster.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE");var t=n.prototype.heroData.npc_dota_hero_lone_druid.abilities[3].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_HIDDEN");n.prototype.heroData.npc_dota_hero_lone_druid.abilities[3].behavior.splice(t,1),t=n.prototype.heroData.npc_dota_hero_abaddon.abilities[2].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"),n.prototype.heroData.npc_dota_hero_abaddon.abilities[2].behavior.splice(t,1),t=n.prototype.heroData.npc_dota_hero_riki.abilities[2].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"),n.prototype.heroData.npc_dota_hero_riki.abilities[2].behavior.splice(t,1);for(var i in n.prototype.heroData)n.prototype.HeroOptions.push(new n.prototype.HeroOption(i.replace("npc_dota_hero_",""),n.prototype.heroData[i].displayname));n.prototype.onResourceLoaded(a)}),n.prototype.getJSON(t,function(e){n.prototype.itemData=e,n.prototype.onResourceLoaded(a)}),n.prototype.getJSON(i,function(e){n.prototype.unitData=e,n.prototype.onResourceLoaded(a)})},n.prototype.extend=function(e){e=e||{};for(var t=1;t<arguments.length;t++){var i=arguments[t];if(i)for(var a in i)i.hasOwnProperty(a)&&("object"==typeof i[a]?e[a]=n.prototype.extend(e[a],i[a]):e[a]=i[a])}return e},n.prototype.getJSON=function(e,t,i){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=function(){if(a.status>=200&&a.status<400){var e=JSON.parse(a.responseText);t(e)}else i()},a.onerror=function(){i()},a.send()},t.exports=a},{"./polyfill":13}],5:[function(e,t,i){"use strict";var a=e("./herocalc_knockout"),n=e("./herocalc_core");n.prototype.illusionData={chaos_knight_phantasm:{hero:"chaos_knight",displayName:"Chaos Knight Phantasm",use_selected_hero:!1,max_level:3,outgoing_damage:"outgoing_damage",incoming_damage:"incoming_damage"},naga_siren_mirror_image:{hero:"naga_siren",displayName:"Naga Siren Mirror Image",use_selected_hero:!1,max_level:4,outgoing_damage:"outgoing_damage",incoming_damage:"incoming_damage"},dark_seer_wall_of_replica:{hero:"dark_seer",displayName:"Dark Seer Wall of Replica",use_selected_hero:!0,max_level:3,outgoing_damage:"replica_damage_outgoing",incoming_damage:"replica_damage_incoming",outgoing_damage_scepter:"replica_damage_outgoing_scepter"},morphling_replicate:{hero:"morphling",displayName:"Morphling Replicate",use_selected_hero:!0,max_level:3,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_doppelwalk:{hero:"phantom_lancer",displayName:"Phantom Lancer Doppelwalk",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_juxtapose:{hero:"phantom_lancer",displayName:"Phantom Lancer Juxtapose",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_spirit_lance:{hero:"phantom_lancer",displayName:"Phantom Lancer Spirit Lance",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},shadow_demon_disruption:{hero:"shadow_demon",displayName:"Shadow Demon Disruption",use_selected_hero:!0,max_level:4,outgoing_damage:"illusion_outgoing_damage",incoming_damage:"illusion_incoming_damage"},spectre_haunt:{hero:"spectre",displayName:"Spectre Haunt",use_selected_hero:!1,max_level:3,outgoing_damage:"illusion_damage_outgoing",incoming_damage:"illusion_damage_incoming"},terrorblade_conjure_image:{hero:"terrorblade",displayName:"Terrorblade Conjure Image",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_outgoing_damage",incoming_damage:"illusion_incoming_damage"},terrorblade_reflection:{hero:"terrorblade",displayName:"Terrorblade Reflection",use_selected_hero:!0,max_level:4,outgoing_damage:"illusion_outgoing_damage"},item_manta:{hero:"",is_item:!0,displayName:"Manta Style Illusion",use_selected_hero:!0,max_level:1,outgoing_damage_melee:"images_do_damage_percent_melee",incoming_damage_melee:"images_take_damage_percent_melee",outgoing_damage_ranged:"images_do_damage_percent_ranged",incoming_damage_ranged:"images_take_damage_percent_ranged"}},n.prototype.IllusionViewModel=function(e,t,i){var o=new n.prototype.HeroCalculatorModel(0);return o.parent=t,o.inventory=o.parent.inventory,o.illusionType=a.observable(o.parent.selectedIllusion().illusionName),o.illusionDisplayName=a.observable(o.parent.selectedIllusion().illusionDisplayName),o.illusionAbilityLevel(i),o.illusionAbilityMaxLevel=a.observable(n.prototype.illusionData[o.parent.selectedIllusion().illusionName].max_level),
n.prototype.illusionData[o.illusionType()].use_selected_hero?o.selectedHero(o.parent.selectedHero()):o.selectedHero(n.prototype.findWhere(o.availableHeroes(),{heroName:o.parent.selectedIllusion().baseHero})),o.selectedHeroLevel(o.parent.selectedHeroLevel()),o.hero=a.computed(function(){return a.wrap.fromJS(n.prototype.heroData["npc_dota_hero_"+o.selectedHero().heroName])}),o.ability().getAttributeBonusLevel=o.parent.ability().getAttributeBonusLevel,o.totalAgi=a.computed(function(){return(o.heroData().attributebaseagility+o.heroData().attributeagilitygain*(o.selectedHeroLevel()-1)+o.inventory.getAttributes("agi")+2*o.ability().getAttributeBonusLevel()+o.ability().getAgility()+o.enemy().ability().getAllStatsReduction()+o.debuffs.getAllStatsReduction()).toFixed(2)}),o.intStolen=a.observable(0).extend({numeric:0}),o.totalInt=a.computed(function(){return(o.heroData().attributebaseintelligence+o.heroData().attributeintelligencegain*(o.selectedHeroLevel()-1)+o.inventory.getAttributes("int")+2*o.ability().getAttributeBonusLevel()+o.ability().getIntelligence()+o.enemy().ability().getAllStatsReduction()+o.debuffs.getAllStatsReduction()+o.intStolen()).toFixed(2)}),o.totalStr=a.computed(function(){return(o.heroData().attributebasestrength+o.heroData().attributestrengthgain*(o.selectedHeroLevel()-1)+o.inventory.getAttributes("str")+2*o.ability().getAttributeBonusLevel()+o.ability().getStrength()+o.enemy().ability().getAllStatsReduction()+o.debuffs.getAllStatsReduction()).toFixed(2)}),o.getAbilityAttributeValue=function(e,t,i,a){if("item_manta"==t)var o=n.prototype.itemData[t];else var o=n.prototype.findWhere(n.prototype.heroData["npc_dota_hero_"+e].abilities,{name:t});var r=n.prototype.findWhere(o.attributes,{name:i});return 0==a?parseFloat(r.value[0]):a>r.length?parseFloat(r.value[0]):parseFloat(r.value[a-1])},o.getIncomingDamageMultiplier=function(e,t,i){return"item_manta"==e?"DOTA_UNIT_CAP_MELEE_ATTACK"==i?1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].incoming_damage_melee,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].incoming_damage_ranged,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].incoming_damage,o.illusionAbilityLevel())/100},o.getOutgoingDamageMultiplier=function(e,t,i){return"item_manta"==e?"DOTA_UNIT_CAP_MELEE_ATTACK"==i?1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].outgoing_damage_melee,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].outgoing_damage_ranged,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].outgoing_damage,o.illusionAbilityLevel())/100},o.baseDamage=a.computed(function(){return[Math.floor(n.prototype.heroData["npc_dota_hero_"+o.selectedHero().heroName].attackdamagemin+o.totalAttribute(o.primaryAttribute())+o.ability().getBaseDamage().total)*o.getOutgoingDamageMultiplier(o.illusionType(),!1,o.hero().attacktype()),Math.floor(n.prototype.heroData["npc_dota_hero_"+o.selectedHero().heroName].attackdamagemax+o.totalAttribute(o.primaryAttribute())+o.ability().getBaseDamage().total)*o.getOutgoingDamageMultiplier(o.illusionType(),!1,o.hero().attacktype())]}),o.damage=a.computed(function(){return[o.baseDamage()[0],o.baseDamage()[1]]}),o.ehpPhysical=a.computed(function(){var e=o.health()*(1+.06*o.totalArmorPhysical())/(1-(1-o.inventory.getEvasion()*o.ability().getEvasion()));return e*=o.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,e*=1/o.getIncomingDamageMultiplier(o.illusionType(),!1,o.hero().attacktype()),e.toFixed(2)}),o.ehpMagical=a.computed(function(){var e=o.health()/o.totalMagicResistanceProduct();return e*=1/o.getIncomingDamageMultiplier(o.illusionType(),!1,o.hero().attacktype()),e.toFixed(2)}),o.totalArmorPhysical=a.computed(function(){return(o.enemy().ability().getArmorBaseReduction()*o.debuffs.getArmorBaseReduction()*(n.prototype.heroData["npc_dota_hero_"+o.selectedHero().heroName].armorphysical+.14*o.totalAgi())+o.ability().getArmor()+o.enemy().ability().getArmorReduction()+o.buffs.getArmor()+o.debuffs.getArmorReduction()).toFixed(2)}),o.ias=a.computed(function(){var e=parseFloat(o.totalAgi())+o.ability().getAttackSpeed()+o.enemy().ability().getAttackSpeedReduction()+o.buffs.getAttackSpeed()+o.debuffs.getAttackSpeedReduction()+o.unit().ability().getAttackSpeed();return e<-80?-80:e>400?400:e.toFixed(2)}),o}},{"./herocalc_core":4,"./herocalc_knockout":10}],6:[function(e,t,i){"use strict";var a=e("./herocalc_knockout"),n=e("./herocalc_core");e("./herocalc_hero_damage"),n.prototype.totalExp=[0,200,500,900,1400,2e3,2600,3400,4400,5400,6e3,8200,9e3,10400,11900,13500,15200,17e3,18900,20900,23e3,25200,27500,29900,32400],n.prototype.nextLevelExp=[200,300,400,500,600,600,800,1e3,1e3,600,2200,800,1400,1500,1600,1700,1800,1900,2e3,2100,2200,2300,2400,2500,"&mdash;"],n.prototype.diffProperties=["totalAgi","totalInt","totalStr","health","healthregen","mana","manaregen","totalArmorPhysical","totalArmorPhysicalReduction","totalMovementSpeed","totalTurnRate","baseDamage","bonusDamage","bonusDamageReduction","damage","totalMagicResistanceProduct","totalMagicResistance","bat","ias","attackTime","attacksPerSecond","evasion","ehpPhysical","ehpMagical","bash","critChance","missChance","totalattackrange","visionrangeday","visionrangenight","lifesteal"],n.prototype.IllusionOption=function(e,t,i){this.illusionName=e,this.illusionDisplayName=t,this.baseHero=i},n.prototype.createIllusionOptions=function(){var e=[];for(var t in n.prototype.illusionData)e.push(new n.prototype.IllusionOption(t,n.prototype.illusionData[t].displayName,n.prototype.illusionData[t].hero));return e},n.prototype.HeroModel=function(e){var t=this;t.heroId=a.observable(e),t.selectedHeroLevel=a.observable(1),t.inventory=new n.prototype.InventoryViewModel(t),t.selectedInventory=a.observable(-1),t.buffs=new n.prototype.BuffViewModel,t.buffs.hasScepter=t.inventory.hasScepter,t.debuffs=new n.prototype.BuffViewModel,t.heroData=a.computed(function(){return n.prototype.heroData["npc_dota_hero_"+t.heroId()]}),t.heroCompare=a.observable(t),t.enemy=a.observable(t),t.unit=a.observable(t),t.clone=a.observable(t),t.illusions=a.observableArray([]),t.availableIllusions=a.observableArray(n.prototype.createIllusionOptions()),t.selectedIllusion=a.observable(t.availableIllusions()[0]),t.illusionAbilityLevel=a.observable(1),t.illusionAbilityMaxLevel=a.computed(function(){return n.prototype.illusionData[t.selectedIllusion().illusionName].max_level}),t.skillPointHistory=a.observableArray(),t.ability=a.computed(function(){var e=new n.prototype.AbilityModel(a.observableArray(JSON.parse(JSON.stringify(t.heroData().abilities))),t);switch(t.heroId()){case"earth_spirit":case"ogre_magi":e._abilities[3].level(1);break;case"invoker":for(var i=6;i<16;i++)e._abilities[i].level(1)}return t.skillPointHistory.removeAll(),e.hasScepter=t.inventory.hasScepter,e}),t.availableSkillPoints=a.computed(function(){for(var e=t.selectedHeroLevel(),i=0;i<t.ability().abilities().length;i++)switch(t.ability().abilities()[i].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":if("invoker"===t.heroId())for(;1==t.ability().abilities()[i].level()&&parseInt(t.selectedHeroLevel())<2||2==t.ability().abilities()[i].level()&&parseInt(t.selectedHeroLevel())<7||3==t.ability().abilities()[i].level()&&parseInt(t.selectedHeroLevel())<11||4==t.ability().abilities()[i].level()&&parseInt(t.selectedHeroLevel())<17;)t.ability().levelDownAbility(i,null,null,t);else if("meepo"===t.heroId())for(;7*(t.ability().abilities()[i].level()-1)+3>parseInt(t.selectedHeroLevel());)t.ability().levelDownAbility(i,null,null,t);else for(;5*t.ability().abilities()[i].level()+1>parseInt(t.selectedHeroLevel());)t.ability().levelDownAbility(i,null,null,t);break;default:for(;2*t.ability().abilities()[i].level()-1>parseInt(t.selectedHeroLevel());)t.ability().levelDownAbility(i,null,null,t)}for(;t.skillPointHistory().length>e;)t.ability().levelDownAbility(t.skillPointHistory()[t.skillPointHistory().length-1],null,null,t);return e-t.skillPointHistory().length},this),t.primaryAttribute=a.pureComputed(function(){var e=t.heroData().attributeprimary;return"DOTA_ATTRIBUTE_AGILITY"===e?"agi":"DOTA_ATTRIBUTE_INTELLECT"===e?"int":"DOTA_ATTRIBUTE_STRENGTH"===e?"str":""}),t.totalExp=a.pureComputed(function(){return n.prototype.totalExp[t.selectedHeroLevel()-1]}),t.nextLevelExp=a.pureComputed(function(){return n.prototype.nextLevelExp[t.selectedHeroLevel()-1]}),t.startingArmor=a.pureComputed(function(){return(.14*t.heroData().attributebaseagility+t.heroData().armorphysical).toFixed(2)}),t.respawnTime=a.pureComputed(function(){return 5+3.8*t.selectedHeroLevel()}),t.totalAttribute=function(e){return"agi"===e?parseFloat(t.totalAgi()):"int"===e?parseFloat(t.totalInt()):"str"===e?parseFloat(t.totalStr()):0},t.totalAgi=a.pureComputed(function(){return(t.heroData().attributebaseagility+t.heroData().attributeagilitygain*(t.selectedHeroLevel()-1)+t.inventory.getAttributes("agi")+2*t.ability().getAttributeBonusLevel()+t.ability().getAgility()+t.enemy().ability().getAllStatsReduction()+t.debuffs.getAllStatsReduction()).toFixed(2)}),t.intStolen=a.observable(0).extend({numeric:0}),t.totalInt=a.pureComputed(function(){return(t.heroData().attributebaseintelligence+t.heroData().attributeintelligencegain*(t.selectedHeroLevel()-1)+t.inventory.getAttributes("int")+2*t.ability().getAttributeBonusLevel()+t.ability().getIntelligence()+t.enemy().ability().getAllStatsReduction()+t.debuffs.getAllStatsReduction()+t.intStolen()).toFixed(2)}),t.totalStr=a.pureComputed(function(){return(t.heroData().attributebasestrength+t.heroData().attributestrengthgain*(t.selectedHeroLevel()-1)+t.inventory.getAttributes("str")+2*t.ability().getAttributeBonusLevel()+t.ability().getStrength()+t.enemy().ability().getStrengthReduction()+t.enemy().ability().getAllStatsReduction()+t.debuffs.getAllStatsReduction()).toFixed(2)}),t.health=a.pureComputed(function(){return(t.heroData().statushealth+20*Math.floor(t.totalStr())+t.inventory.getHealth()+t.ability().getHealth()).toFixed(2)}),t.healthregen=a.pureComputed(function(){var e=[t.inventory.getHealthRegenAura,t.buffs.itemBuffs.getHealthRegenAura].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]});return(t.heroData().statushealthregen+.03*t.totalStr()+t.inventory.getHealthRegen()+t.ability().getHealthRegen()+t.buffs.getHealthRegen()+e.value).toFixed(2)}),t.mana=a.pureComputed(function(){return(t.heroData().statusmana+12*t.totalInt()+t.inventory.getMana()+t.ability().getMana()).toFixed(2)}),t.manaregen=a.pureComputed(function(){return((t.heroData().statusmanaregen+.04*t.totalInt()+t.ability().getManaRegen())*(1+t.inventory.getManaRegenPercent())+("crystal_maiden"===t.heroId()?2*t.ability().getManaRegenArcaneAura():t.buffs.getManaRegenArcaneAura())+t.inventory.getManaRegenBloodstone()+t.inventory.getManaRegen()-t.enemy().ability().getManaRegenReduction()).toFixed(2)}),t.totalArmorPhysical=a.pureComputed(function(){var e=[t.inventory.getArmorAura,t.buffs.itemBuffs.getArmorAura].reduce(function(e,t){var i=t(e.attributes);return i},{value:0,attributes:[]}),i=[t.enemy().inventory.getArmorReduction,t.debuffs.itemBuffs.getArmorReduction].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]});return(t.enemy().ability().getArmorBaseReduction()*t.debuffs.getArmorBaseReduction()*(t.heroData().armorphysical+.14*t.totalAgi())+t.inventory.getArmor()+t.ability().getArmor()+t.enemy().ability().getArmorReduction()+t.buffs.getArmor()+t.buffs.itemBuffs.getArmor()+t.debuffs.getArmorReduction()+e.value+i.value).toFixed(2)}),t.totalArmorPhysicalReduction=a.pureComputed(function(){var e=t.totalArmorPhysical();return e>=0?(.06*t.totalArmorPhysical()/(1+.06*t.totalArmorPhysical())*100).toFixed(2):-(.06*-t.totalArmorPhysical()/(1+.06*-t.totalArmorPhysical())*100).toFixed(2)}),t.totalMovementSpeed=a.pureComputed(function(){var e=100,i=t.ability().setMovementSpeed()>0?t.ability().setMovementSpeed():t.buffs.setMovementSpeed();if(i>0)return i;var a=[t.inventory.getMovementSpeedPercent,t.buffs.itemBuffs.getMovementSpeedPercent].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]}),n=[t.enemy().inventory.getMovementSpeedPercentReduction,t.debuffs.itemBuffs.getMovementSpeedPercentReduction].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]});return Math.max(t.enemy().inventory.isSheeped()||t.debuffs.itemBuffs.isSheeped()?140:(t.heroData().movementspeed+t.inventory.getMovementSpeedFlat()+t.ability().getMovementSpeedFlat())*(1+a.value+n.value+t.ability().getMovementSpeedPercent()+t.enemy().ability().getMovementSpeedPercentReduction()+t.buffs.getMovementSpeedPercent()+t.debuffs.getMovementSpeedPercentReduction()+t.unit().ability().getMovementSpeedPercent()),e).toFixed(2)}),t.totalTurnRate=a.pureComputed(function(){return(t.heroData().movementturnrate*(1+t.enemy().ability().getTurnRateReduction()+t.debuffs.getTurnRateReduction())).toFixed(2)}),t.baseDamage=a.pureComputed(function(){var e=t.totalAttribute(t.primaryAttribute()),i=t.ability().getBaseDamage(),a=t.heroData().attackdamagemin,n=t.heroData().attackdamagemax;return[Math.floor((a+e+i.total)*t.ability().getSelfBaseDamageReductionPct()*t.enemy().ability().getBaseDamageReductionPct()*t.debuffs.getBaseDamageReductionPct()*t.debuffs.itemBuffs.getBaseDamageReductionPct()*i.multiplier),Math.floor((n+e+i.total)*t.ability().getSelfBaseDamageReductionPct()*t.enemy().ability().getBaseDamageReductionPct()*t.debuffs.getBaseDamageReductionPct()*t.debuffs.itemBuffs.getBaseDamageReductionPct()*i.multiplier)]}),t.baseDamageAvg=a.pureComputed(function(){return(t.baseDamage()[0]+t.baseDamage()[1])/2}),t.baseDamageMin=a.pureComputed(function(){return t.baseDamage()[0]}),t.baseDamageMax=a.pureComputed(function(){return t.baseDamage()[1]}),t.bonusDamage=a.pureComputed(function(){return(t.inventory.getBonusDamage().total+t.ability().getBonusDamage().total+t.buffs.getBonusDamage().total+Math.floor((t.baseDamage()[0]+t.baseDamage()[1])/2*(t.buffs.itemBuffs.getBonusDamagePercent(t.inventory.getBonusDamagePercent()).total+t.ability().getBonusDamagePercent().total+t.buffs.getBonusDamagePercent().total))+Math.floor("DOTA_UNIT_CAP_RANGED_ATTACK"==t.heroData().attacktype?"drow_ranger"==t.heroId()?t.ability().getBonusDamagePrecisionAura().total[0]*t.totalAgi():t.buffs.getBonusDamagePrecisionAura().total[1]:0)+Math.floor("riki"==t.heroId()?t.ability().getBonusDamageBackstab().total[0]*t.totalAgi():0))*t.ability().getSelfBaseDamageReductionPct()*t.enemy().ability().getBaseDamageReductionPct()*t.debuffs.itemBuffs.getBaseDamageReductionPct()}),t.bonusDamageReduction=a.pureComputed(function(){return Math.abs(t.enemy().ability().getBonusDamageReduction()+t.debuffs.getBonusDamageReduction())}),t.damageAvg=a.pureComputed(function(){return(t.baseDamage()[0]+t.baseDamage()[1])/2+t.bonusDamage()}),t.damageMin=a.pureComputed(function(){return t.baseDamage()[0]+t.bonusDamage()}),t.damageMax=a.pureComputed(function(){return t.baseDamage()[1]+t.bonusDamage()}),t.damage=a.pureComputed(function(){return[t.baseDamage()[0]+t.bonusDamage(),t.baseDamage()[1]+t.bonusDamage()]}),t.totalMagicResistanceProduct=a.pureComputed(function(){return(1-t.heroData().magicalresistance/100)*t.inventory.getMagicResist()*t.ability().getMagicResist()*t.buffs.getMagicResist()*t.inventory.getMagicResistReductionSelf()*t.enemy().inventory.getMagicResistReduction()*t.enemy().ability().getMagicResistReduction()*t.debuffs.getMagicResistReduction()*t.debuffs.itemBuffs.getMagicResistReduction()}),t.totalMagicResistance=a.pureComputed(function(){return(100*(1-t.totalMagicResistanceProduct())).toFixed(2)}),t.bat=a.pureComputed(function(){var e=t.ability().getBAT();return e>0?e:t.heroData().attackrate}),t.ias=a.pureComputed(function(){var e=[t.inventory.getAttackSpeed,t.buffs.itemBuffs.getAttackSpeed].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]}),i=[t.enemy().inventory.getAttackSpeedReduction,t.debuffs.itemBuffs.getAttackSpeedReduction].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]}),a=parseFloat(t.totalAgi())+e.value+i.value+t.ability().getAttackSpeed()+t.enemy().ability().getAttackSpeedReduction()+t.buffs.getAttackSpeed()+t.debuffs.getAttackSpeedReduction()+t.unit().ability().getAttackSpeed();return a<-80?-80:a>500?500:a.toFixed(2)}),t.attackTime=a.pureComputed(function(){return(t.bat()/(1+t.ias()/100)).toFixed(2)}),t.attacksPerSecond=a.pureComputed(function(){return((1+t.ias()/100)/t.bat()).toFixed(2)}),t.evasion=a.pureComputed(function(){if(t.enemy().inventory.isSheeped()||t.debuffs.itemBuffs.isSheeped())return 0;var e=t.ability().setEvasion();return e?(100*e).toFixed(2):(100*(1-t.inventory.getEvasion()*t.ability().getEvasion()*t.ability().getEvasionBacktrack()*t.buffs.itemBuffs.getEvasion())).toFixed(2)}),t.ehpPhysical=a.pureComputed(function(){var e=t.enemy().inventory.isSheeped()||t.debuffs.itemBuffs.isSheeped()?1:t.inventory.getEvasion()*t.ability().getEvasion()*t.buffs.itemBuffs.getEvasion();if(t.totalArmorPhysical()>=0)var i=t.health()*(1+.06*t.totalArmorPhysical());else var i=t.health()*(1-.06*t.totalArmorPhysical())/(1-.12*t.totalArmorPhysical());return i/=1-(1-e*t.ability().getEvasionBacktrack()),i/=1-parseFloat(t.enemy().missChance())/100,i*=t.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,i*=1/t.ability().getDamageReduction(),i*=1/t.buffs.getDamageReduction(),i*=1/t.enemy().ability().getDamageAmplification(),i*=1/t.debuffs.getDamageAmplification(),i.toFixed(2)}),t.ehpMagical=a.pureComputed(function(){var e=t.health()/t.totalMagicResistanceProduct();return e*=t.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,e*=1/t.ability().getDamageReduction(),e*=1/t.buffs.getDamageReduction(),e*=1/t.ability().getEvasionBacktrack(),e*=1/t.enemy().ability().getDamageAmplification(),e*=1/t.debuffs.getDamageAmplification(),e.toFixed(2)}),t.bash=a.pureComputed(function(){var e=t.heroData().attacktype;return(100*(1-t.inventory.getBash(e)*t.ability().getBash())).toFixed(2)}),t.critChance=a.pureComputed(function(){return(100*(1-t.inventory.getCritChance()*t.ability().getCritChance())).toFixed(2)}),n.prototype.HeroDamageMixin(t),t.missChance=a.pureComputed(function(){var e=[t.enemy().inventory.getMissChance,t.debuffs.itemBuffs.getMissChance].reduce(function(e,t){var i=t(e.excludeList);return i.value*=e.value,i},{value:1,excludeList:[]});return(100*(1-t.enemy().ability().getMissChance()*t.debuffs.getMissChance()*e.value)).toFixed(2)}),t.totalattackrange=a.pureComputed(function(){var e=t.heroData().attacktype;return t.heroData().attackrange+t.ability().getAttackRange()+t.inventory.getAttackRange(e).value}),t.visionrangeday=a.pureComputed(function(){return t.heroData().visiondaytimerange*(1+t.enemy().ability().getVisionRangePctReduction()+t.debuffs.getVisionRangePctReduction())}),t.visionrangenight=a.pureComputed(function(){return(t.heroData().visionnighttimerange+t.inventory.getVisionRangeNight()+t.ability().getVisionRangeNight())*(1+t.enemy().ability().getVisionRangePctReduction()+t.debuffs.getVisionRangePctReduction())}),t.lifesteal=a.pureComputed(function(){var e=t.inventory.getLifesteal()+t.ability().getLifesteal()+t.buffs.getLifesteal();if("DOTA_UNIT_CAP_MELEE_ATTACK"==t.heroData().attacktype){var i=[t.inventory.getLifestealAura,t.buffs.itemBuffs.getLifestealAura].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]});e+=i.value}return e.toFixed(2)}),t.addIllusion=function(e,i){t.illusions.push(a.observable(new n.prototype.IllusionViewModel(0,t,t.illusionAbilityLevel())))},t.diffProperties=n.prototype.diffProperties,t.diff={};for(var i=0;i<t.diffProperties.length;i++){var o=i;t.diff[t.diffProperties[o]]=t.getDiffFunction(t.diffProperties[o])}},n.prototype.HeroModel.prototype.getDiffFunction=function(e){var t=this;return a.computed(function(){return"baseDamage"==e?[t[e]()[0]-t.heroCompare()[e]()[0],t[e]()[1]-t.heroCompare()[e]()[1]]:t[e]()-t.heroCompare()[e]()},this,{deferEvaluation:!0})},n.prototype.HeroModel.prototype.getAbilityLevelMax=function(e){return"DOTA_ABILITY_TYPE_ATTRIBUTES"===e.abilitytype?10:"invoker_quas"===e.name||"invoker_wex"===e.name||"invoker_exort"===e.name?7:"invoker_invoke"===e.name?4:"earth_spirit_stone_caller"===e.name||"ogre_magi_unrefined_fireblast"===e.name?1:"DOTA_ABILITY_TYPE_ULTIMATE"===e.abilitytype||"keeper_of_the_light_recall"===e.name||"keeper_of_the_light_blinding_light"===e.name||"ember_spirit_activate_fire_remnant"===e.name||"lone_druid_true_form_battle_cry"===e.name?3:"puck_ethereal_jaunt"===e.name||"shadow_demon_shadow_poison_release"===e.name||"templar_assassin_trap"===e.name||"spectre_reality"===e.name?0:"invoker_cold_snap"===e.name||"invoker_ghost_walk"===e.name||"invoker_tornado"===e.name||"invoker_emp"===e.name||"invoker_alacrity"===e.name||"invoker_chaos_meteor"===e.name||"invoker_sun_strike"===e.name||"invoker_forge_spirit"===e.name||"invoker_ice_wall"===e.name||"invoker_deafening_blast"===e.name?0:"techies_minefield_sign"===e.name||"techies_focused_detonate"===e.name?0:4}},{"./herocalc_core":4,"./herocalc_hero_damage":8,"./herocalc_knockout":10}],7:[function(e,t,i){"use strict";var a=e("./herocalc_knockout"),n=e("./herocalc_core");n.prototype.CloneOption=function(e,t,i,n,o){this.heroName=a.computed(function(){return i>0?e+(o()<=i?o():1):e}),this.heroDisplayName=t,this.image=n,this.levels=i},n.prototype.CloneModel=function(e,t){var i=this;return n.prototype.HeroModel.call(this,e),i.parent=t,i},n.prototype.CloneModel.prototype=Object.create(n.prototype.HeroModel.prototype),n.prototype.CloneModel.prototype.constructor=n.prototype.CloneModel},{"./herocalc_core":4,"./herocalc_knockout":10}],8:[function(e,t,i){"use strict";var a=e("./herocalc_knockout"),n=e("./herocalc_core");n.prototype.DamageTypeColor={physical:"#979aa2",pure:"goldenrod",magic:"#428bca",default:"#979aa2"},n.prototype.HeroDamageMixin=function(e){e.critInfo=a.pureComputed(function(){function t(e,t){return e.multiplier<t.multiplier?1:e.multiplier>t.multiplier?-1:0}var i=e.inventory.getCritSource();n.prototype.extend(i,e.ability().getCritSource()),n.prototype.extend(i,e.buffs.getCritSource());var a=[];for(var o in i){var r=i[o];r.name=o,a.push(r)}a.sort(t);for(var l=[],s=0,u=0;u<a.length;u++){for(var c=1,d=0;d<u;d++)for(var p=0;p<a[d].count;p++)c*=1-a[d].chance;for(var m=1,p=0;p<a[u].count;p++)m*=1-a[u].chance;c*=1-m,s+=c,a[u].count>1?l.push({name:a[u].displayname+" x"+a[u].count,chance:a[u].chance,multiplier:a[u].multiplier,count:a[u].count,totalChance:c}):l.push({name:a[u].displayname,chance:a[u].chance,multiplier:a[u].multiplier,count:a[u].count,totalChance:c})}return{sources:l,total:s}}),e.cleaveInfo=a.pureComputed(function(){function t(e,t){return e.radius<t.radius?1:e.radius>t.radius?-1:0}var i=e.inventory.getCleaveSource();n.prototype.extend(i,e.ability().getCleaveSource()),n.prototype.extend(i,e.buffs.getCleaveSource());var a=[];for(var o in i){var r=i[o];r.name=o,a.push(r)}a.sort(t);for(var l={},s=0;s<a.length;s++){for(var u=0,c=0;c<a.length;c++)a[c].radius>=a[s].radius&&(u+=a[c].magnitude*a[c].count);l[a[s].radius]=u}var d=[];for(var o in l)d.push({radius:o,magnitude:l[o]});return d}),e.bashInfo=a.pureComputed(function(){var t=e.heroData().attacktype,i=e.inventory.getBashSource(t);n.prototype.extend(i,e.ability().getBashSource());var a=[];for(var o in i){var r=i[o];r.name=o,a.push(r)}for(var l=[],s=0,u=0;u<a.length;u++){for(var c=1,d=0;d<u;d++)for(var p=0;p<a[d].count;p++)c*=1-a[d].chance;for(var m=1,p=0;p<a[u].count;p++)m*=1-a[u].chance;if(c*=1-m,s+=c,"spirit_breaker_greater_bash"===a[u].name)var h=a[u].damage*e.totalMovementSpeed();else var h=a[u].damage;a[u].count>1?l.push({name:a[u].displayname,chance:a[u].chance,damage:h,count:a[u].count,damageType:a[u].damageType,totalChance:c}):l.push({name:a[u].displayname,chance:a[u].chance,damage:h,count:a[u].count,damageType:a[u].damageType,totalChance:c})}return{sources:l,total:s}}),e.orbProcInfo=a.pureComputed(function(){function t(e,t){return e.priority>t.priority?1:e.priority<t.priority?-1:e.damage<t.damage?1:e.damage>t.damage?-1:0}var i=(e.heroData().attacktype,e.inventory.getOrbProcSource()),a=[];for(var n in i){var o=i[n];o.name=n,a.push(o)}a.sort(t);for(var r=[],l=0,s=0;s<a.length;s++){for(var u=1,c=0;c<s;c++)for(var d=0;d<a[c].count;d++)u*=1-a[c].chance;for(var p=1,d=0;d<a[s].count;d++)p*=1-a[s].chance;u*=1-p,l+=u,a[s].count>1?r.push({name:a[s].displayname+" x"+a[s].count,chance:a[s].chance,damage:a[s].damage,count:a[s].count,damageType:a[s].damageType,totalChance:u}):r.push({name:a[s].displayname,chance:a[s].chance,damage:a[s].damage,count:a[s].count,damageType:a[s].damageType,totalChance:u})}return{sources:r,total:l}}),e.getReducedDamage=function(t,i){var a=t;switch(i){case"physical":a=t*(1-.06*e.enemy().totalArmorPhysical()/(1+.06*Math.abs(e.enemy().totalArmorPhysical())));break;case"magic":a=t*(1-e.enemy().totalMagicResistance()/100);break;case"pure":a=t;break;case"composite":a=t*(1-.06*e.enemy().totalArmorPhysical()/(1+.06*Math.abs(e.enemy().totalArmorPhysical()))),a*=1-e.enemy().totalMagicResistance()/100}return a*=e.ability().getDamageAmplification()*e.debuffs.getDamageAmplification(),a*=e.enemy().ability().getDamageReduction()*e.enemy().buffs.getDamageReduction()},e.damageTotalInfo=a.pureComputed(function(){var t=[e.ability().getBonusDamage().sources,e.buffs.getBonusDamage().sources],i=[e.ability().getBonusDamagePercent().sources,e.buffs.getBonusDamagePercent().sources],o=e.inventory.getBonusDamage().sources,r=e.buffs.itemBuffs.getBonusDamagePercent(e.inventory.getBonusDamagePercent()).sources,l=e.critInfo(),s=e.ability().getOrbSource(),u=e.inventory.getOrbSource(),c=e.orbProcInfo(),d=e.bashInfo(),p=[];if(p.push({name:"Base Attack",cooldown:1}),"weaver"===e.heroId()){var m=e.ability().abilities().find(function(e){return"weaver_geminate_attack"===e.name});if(m&&m.level()>0){var h=m.cooldown[m.level()-1];p.push({name:m.displayname,cooldown:1/h})}}var b=e.inventory.items().find(function(e){return"echo_sabre"===e.item&&e.enabled()});if(b&&"DOTA_UNIT_CAP_MELEE_ATTACK"===e.heroData().attacktype){var f=n.prototype.itemData.item_echo_sabre;p.push({name:f.displayname,cooldown:1/f.cooldown})}var g=p.map(function(p){var m=(e.baseDamage()[0]+e.baseDamage()[1])/2,h=0,b=0,f=0,g={damage:0,damageReduced:0,cooldown:6,active:!1},_=({damage:0,damageReduced:0,cooldown:n.prototype.itemData.item_echo_sabre.cooldown[0],active:!1},{pure:0,physical:0,magic:0}),v=[],y=[];v.push({name:"Base Damage",damage:m,damageType:"physical",damageReduced:e.getReducedDamage(m,"physical"),enabled:a.observable(!0)}),h+=m,b+=m,_.physical+=m;for(k in o){var A=o[k].damage*o[k].count*e.ability().getSelfBaseDamageReductionPct()*e.enemy().ability().getBaseDamageReductionPct()*e.debuffs.itemBuffs.getBaseDamageReductionPct();v.push({name:o[k].displayname+(o[k].count>1?" x"+o[k].count:""),damage:A,damageType:o[k].damageType,damageReduced:e.getReducedDamage(A,o[k].damageType),enabled:a.observable(!0)}),h+=A,b+=A,_[o[k].damageType]+=A}for(k in r){var A=m*r[k].damage;v.push({name:r[k].displayname,damage:A,damageType:r[k].damageType,damageReduced:e.getReducedDamage(A,r[k].damageType),enabled:a.observable(!0)}),h+=A,b+=A,_[r[k].damageType]+=A}for(var k=0;k<t.length;k++)for(x in t[k]){var A=t[k][x].damage;v.push({name:t[k][x].displayname,damage:A,damageType:t[k][x].damageType,damageReduced:e.getReducedDamage(A,t[k][x].damageType),enabled:a.observable(!0)}),h+=A,b+=A,_[t[k][x].damageType]+=A}for(var k=0;k<i.length;k++)for(x in i[k]){var A=m*i[k][x].damage;v.push({name:i[k][x].displayname,damage:A,damageType:i[k][x].damageType,damageReduced:e.getReducedDamage(A,i[k][x].damageType),enabled:a.observable(!0)}),h+=A,b+=A,_[i[k][x].damageType]+=A}if("DOTA_UNIT_CAP_RANGED_ATTACK"===e.heroData().attacktype){if("drow_ranger"===e.heroId())var T=e.ability().getBonusDamagePrecisionAura().sources,w=0;else var T=e.buffs.getBonusDamagePrecisionAura().sources,w=1;if(void 0!=T[w]){if("drow_ranger"===e.heroId())var A=T[w].damage*e.totalAgi();else var A=T[w].damage;v.push({name:T[w].displayname,damage:A,damageType:"physical",damageReduced:e.getReducedDamage(A,"physical"),enabled:a.observable(!0)}),h+=A,b+=A,_.physical+=A}}if("riki"===e.heroId())var T=e.ability().getBonusDamageBackstab().sources,w=0;else var T=e.buffs.getBonusDamageBackstab().sources,w=1;if(void 0!=T[w]){if("riki"===e.heroId())var A=T[w].damage*e.totalAgi();else var A=T[w].damage;v.push({name:T[w].displayname,damage:A,damageType:"physical",damageReduced:e.getReducedDamage(A,"physical"),enabled:a.observable(!0)}),h+=A,_.physical+=A}for(var k=0;k<d.sources.length;k++){var D=d.sources[k],A=d.sources[k].damage,I=e.attacksPerSecond();D.cooldown&&(I=Math.max(1/D.cooldown,I));for(var x=0;x<d.sources[k].count;x++)v.push({name:d.sources[k].name,damage:A,damageType:d.sources[k].damageType,damageReduced:e.getReducedDamage(A,d.sources[k].damageType),dps:A*I*d.sources[k].chance,dpsReduced:e.getReducedDamage(A,d.sources[k].damageType)*I*d.sources[k].chance,enabled:a.observable(!0)}),h+=A,_[d.sources[k].damageType]+=A}for(var k=0;k<c.sources.length;k++){var A=c.sources[k].damage*(1-Math.pow(1-c.sources[k].chance,c.sources[k].count));v.push({name:c.sources[k].name,damage:A,damageType:c.sources[k].damageType,damageReduced:e.getReducedDamage(A,c.sources[k].damageType),enabled:a.observable(!0)}),h+=A,_[c.sources[k].damageType]+=A}for(var S in s){var A=s[S].damage*(1-c.total);v.push({name:s[S].displayname,damage:A,damageType:s[S].damageType,damageReduced:e.getReducedDamage(A,s[S].damageType),enabled:a.observable(!0)}),h+=A,_[s[S].damageType]+=A}if(0===Object.keys(s).length)for(var S in u){var A=u[S].damage*(1-c.total);v.push({name:u[S].displayname,damage:A,damageType:u[S].damageType,damageReduced:e.getReducedDamage(A,u[S].damageType),enabled:a.observable(!0)}),h+=A,_[u[S].damageType]+=A}for(var k=0;k<l.sources.length;k++){var A=b*(l.sources[k].multiplier-1);y.push({name:l.sources[k].name+", "+l.sources[k].multiplier+"x, "+(100*l.sources[k].totalChance).toFixed(1)+"%",damage:A,damageType:"physical",damageReduced:e.getReducedDamage(A,"physical"),enabled:a.observable(!0),chance:l.sources[k].totalChance}),f+=A}var O=e.getReducedDamage(_.pure,"pure")+e.getReducedDamage(_.physical,"physical")+e.getReducedDamage(_.magic,"magic"),P=e.getReducedDamage(f,"physical"),E={base:h*e.attacksPerSecond(),crit:f*e.attacksPerSecond(),geminateAttack:g.active?g.damage/g.cooldown:0,reduced:{base:O*e.attacksPerSecond(),crit:P*e.attacksPerSecond(),geminateAttack:g.active?e.getReducedDamage(g.damage,"physical")/g.cooldown:0}};y.forEach(function(t){t.dps||(t.dps=t.damage*(t.cooldown||e.attacksPerSecond())*t.chance),t.dpsReduced||(t.dpsReduced=t.damageReduced*(t.cooldown||e.attacksPerSecond())*t.chance)}),v.forEach(function(t){t.dps||(t.dps=t.damage*(t.cooldown||e.attacksPerSecond())),t.dpsReduced||(t.dpsReduced=t.damageReduced*(t.cooldown||e.attacksPerSecond()))});var R=y.reduce(function(e,t){return e+t.chance},0),C=a.computed(function(){var e=y.find(function(e){return e.enabled()});return e?e.damage:0}),B=a.computed(function(){var e=y.find(function(e){return e.enabled()});return e?e.damageReduced:0}),N=a.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dps},0)}),V=a.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,t){
return e+t.dpsReduced},0)}),M=a.computed(function(){return v.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.damage},0)+C()}),H=a.computed(function(){return v.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.damageReduced},0)+B()}),L=a.computed(function(){return(v.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dps},0)+N())*p.cooldown}),z=a.computed(function(){return(v.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dpsReduced},0)+V())*p.cooldown}),j=[C,B,N,V],F=[M,H,L,z];return{name:p.name+" Subtotal",cooldown:p.cooldown,enabled:a.observable(!0),visible:a.observable(!0),totalCritChance:R,totalCritRow:j,totalRow:F,sources:v,sourcesCrit:y,total:h,totalCrit:f,totalGeminateAttack:h+g.damage,totalGeminateAttackReduced:O+g.damageReduced,geminateAttack:g,totalCritReduced:P,totalReduced:O,sumTotal:h+f,sumTotalReduced:O+P,dps:{base:E.base,crit:E.base+E.crit,geminateAttack:E.base+E.geminateAttack,total:E.base+E.crit+E.geminateAttack,reduced:{base:E.reduced.base,crit:E.reduced.base+E.reduced.crit,geminateAttack:E.reduced.base+E.reduced.geminateAttack,total:E.reduced.base+E.reduced.crit+E.reduced.geminateAttack}}}}),_=a.computed(function(){return g.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[0]()},0)}),v=a.computed(function(){return g.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[1]()},0)}),y=a.computed(function(){return g.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[2]()},0)}),A=a.computed(function(){return g.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[3]()},0)});return{attacks:g,totalRow:[_,v,y,A]}}),e.getDamageTypeColor=function(e){return n.prototype.DamageTypeColor[e]||n.prototype.DamageTypeColor.default}}},{"./herocalc_core":4,"./herocalc_knockout":10}],9:[function(e,t,i){"use strict";var a=e("./herocalc_knockout"),n=e("./herocalc_core");n.prototype.stackableItems=["clarity","flask","dust","ward_observer","ward_sentry","tango","tpscroll","smoke_of_deceit"],n.prototype.levelitems=["necronomicon","dagon","diffusal_blade","travel_boots"],n.prototype.validItems=["abyssal_blade","ultimate_scepter","courier","arcane_boots","armlet","assault","boots_of_elves","bfury","belt_of_strength","black_king_bar","blade_mail","blade_of_alacrity","blades_of_attack","blink","bloodstone","boots","travel_boots","bottle","bracer","broadsword","buckler","butterfly","chainmail","circlet","clarity","claymore","cloak","lesser_crit","greater_crit","dagon","demon_edge","desolator","diffusal_blade","rapier","ancient_janggo","dust","eagle","energy_booster","ethereal_blade","cyclone","skadi","flying_courier","force_staff","gauntlets","gem","ghost","gloves","hand_of_midas","headdress","flask","heart","heavens_halberd","helm_of_iron_will","helm_of_the_dominator","hood_of_defiance","hyperstone","branches","javelin","sphere","maelstrom","magic_stick","magic_wand","manta","mantle","mask_of_madness","medallion_of_courage","mekansm","mithril_hammer","mjollnir","monkey_king_bar","lifesteal","mystic_staff","necronomicon","null_talisman","oblivion_staff","ward_observer","ogre_axe","orb_of_venom","orchid","pers","phase_boots","pipe","platemail","point_booster","poor_mans_shield","power_treads","quarterstaff","quelling_blade","radiance","reaver","refresher","ring_of_aquila","ring_of_basilius","ring_of_health","ring_of_protection","ring_of_regen","robe","rod_of_atos","relic","sobi_mask","sange","sange_and_yasha","satanic","sheepstick","ward_sentry","shadow_amulet","invis_sword","shivas_guard","basher","slippers","smoke_of_deceit","soul_booster","soul_ring","staff_of_wizardry","stout_shield","talisman_of_evasion","tango","tpscroll","tranquil_boots","ultimate_orb","urn_of_shadows","vanguard","veil_of_discord","vitality_booster","vladmir","void_stone","wraith_band","yasha","crimson_guard","enchanted_mango","lotus_orb","glimmer_cape","guardian_greaves","moon_shard","silver_edge","solar_crest","octarine_core","aether_lens","faerie_fire","iron_talon","dragon_lance","echo_sabre","infused_raindrop","blight_stone","wind_lace","tome_of_knowledge","bloodthorn","hurricane_pike"],n.prototype.itemsWithActive=["solar_crest","heart","smoke_of_deceit","dust","ghost","tranquil_boots","phase_boots","power_treads","buckler","medallion_of_courage","ancient_janggo","mekansm","pipe","veil_of_discord","rod_of_atos","orchid","sheepstick","armlet","invis_sword","ethereal_blade","shivas_guard","manta","mask_of_madness","diffusal_blade","mjollnir","satanic","ring_of_basilius","ring_of_aquila","butterfly","moon_shard","silver_edge","bloodthorn","hurricane_pike"],n.prototype.ItemInput=function(e,t,i){if(n.prototype.itemData["item_"+e].ItemAliases instanceof Array)var o=n.prototype.itemData["item_"+e].ItemAliases.join(" ");else var o=n.prototype.itemData["item_"+e].ItemAliases;this.value=a.observable(e),this.debuff=a.observable(i),this.debuff()?(this.value=a.observable(e+"|"+i.id),this.name=a.observable(t+" ("+i.name+")"),this.displayname=a.observable(t+" ("+i.name+') <span style="display:none">;'+o+"</span>")):(this.value=a.observable(e),this.name=a.observable(t),this.displayname=a.observable(t+' <span style="display:none">;'+o+"</span>"))},n.prototype.BasicInventoryViewModel=function(e){var t=this;t.items=a.observableArray([]),t.activeItems=a.observableArray([]),t.addItem=function(e,i){if(void 0!=e.selectedItem()){var n={item:e.selectedItem().split("|")[0],state:a.observable(0),size:e.itemInputValue(),enabled:a.observable(!0)};switch(n.item){case"dagon":n.size=Math.min(n.size,5);break;case"travel_boots":case"diffusal_blade":n.size=Math.min(n.size,2);break;case"necronomicon":n.size=Math.min(n.size,3)}t.items.push(n),"ring_of_aquila"!==e.selectedItem()&&"ring_of_basilius"!==e.selectedItem()&&"heart"!==e.selectedItem()||t.toggleItem(void 0,n,void 0)}},t.toggleItem=function(e,i,a){if(n.prototype.itemsWithActive.indexOf(i.item)>=0)switch(t.activeItems.indexOf(i)<0?t.activeItems.push(i):t.activeItems.remove(i),i.item){case"power_treads":i.state()<2?i.state(i.state()+1):i.state(0);break;default:0==i.state()?i.state(1):i.state(0)}}.bind(this),t.removeItem=function(e){t.activeItems.remove(e),t.items.remove(e)}.bind(this),t.toggleMuteItem=function(e){e.enabled(!e.enabled())}.bind(this),t.removeAll=function(){t.activeItems.removeAll(),t.items.removeAll()}.bind(this)},n.prototype.BasicInventoryViewModel.prototype.getItemImage=function(e){var t=a.utils.unwrapObservable(e.state);switch(e.item){case"power_treads":return 0==t?"/media/images/items/"+e.item+"_str.png":1==t?"/media/images/items/"+e.item+"_int.png":"/media/images/items/"+e.item+"_agi.png";case"tranquil_boots":case"ring_of_basilius":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"armlet":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"ring_of_aquila":return 0==t?"/media/images/items/"+e.item+"_active.png":"/media/images/items/"+e.item+".png";case"dagon":case"diffusal_blade":case"travel_boots":case"necronomicon":return e.size>1?"/media/images/items/"+e.item+"_"+e.size+".png":"/media/images/items/"+e.item+".png";default:return"/media/images/items/"+e.item+".png"}},n.prototype.BasicInventoryViewModel.prototype.getItemSizeLabel=function(e){return n.prototype.stackableItems.indexOf(e.item)!=-1?'<span style="font-size:10px">Qty: </span>'+e.size:n.prototype.levelitems.indexOf(e.item)!=-1?'<span style="font-size:10px">Lvl: </span>'+e.size:"bloodstone"==e.item?'<span style="font-size:10px">Charges: </span>'+e.size:""},n.prototype.BasicInventoryViewModel.prototype.getActiveBorder=function(e){switch(e.item){case"power_treads":case"tranquil_boots":case"ring_of_basilius":case"ring_of_aquila":case"armlet":return 0;default:return a.utils.unwrapObservable(e.state)}},n.prototype.BasicInventoryViewModel.prototype.getItemAttributeValue=function(e,t,i){for(var a=0;a<e.length;a++)if(e[a].name==t)return 0==i?parseFloat(e[a].value[0]):i>e[a].value.length?parseFloat(e[a].value[0]):parseFloat(e[a].value[i-1])},n.prototype.InventoryViewModel=function(e){var t=new n.prototype.BasicInventoryViewModel;return t.hero=e,t.hasInventory=a.observable(!0),t.items=a.observableArray([]),t.activeItems=a.observableArray([]),t.hasScepter=a.computed(function(){for(var e=0;e<t.items().length;e++){var i=t.items()[e].item;if("ultimate_scepter"===i&&t.items()[e].enabled())return!0}return!1},this),t.isEthereal=a.computed(function(){for(var e=0;e<t.items().length;e++){var i=t.items()[e].item,a=t.activeItems.indexOf(t.items()[e])>=0;if(("ghost"===i||"ethereal_blade"===i)&&t.items()[e].enabled()&&a)return!0}return!1},this),t.isSheeped=a.computed(function(){for(var e=0;e<t.items().length;e++){var i=t.items()[e].item,a=t.activeItems.indexOf(t.items()[e])>=0;if("sheepstick"===i&&t.items()[e].enabled()&&a)return!0}return!1},this),t.totalCost=a.computed(function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item;if(t.items()[i].enabled())if(n.prototype.stackableItems.indexOf(a)!=-1)e+=n.prototype.itemData["item_"+a].itemcost*t.items()[i].size;else if(n.prototype.levelitems.indexOf(a)!=-1)switch(a){case"diffusal_blade":e+=n.prototype.itemData["item_"+a].itemcost+700*(t.items()[i].size-1);break;case"necronomicon":case"dagon":e+=n.prototype.itemData["item_"+a].itemcost+1250*(t.items()[i].size-1);break;default:e+=n.prototype.itemData["item_"+a].itemcost}else e+=n.prototype.itemData["item_"+a].itemcost}return e},this),t.addItemBuff=function(e,i){if(t.hasInventory()&&void 0!=t.selectedItemBuff()){var n={item:t.selectedItemBuff(),state:a.observable(0),size:1,enabled:a.observable(!0)};t.items.push(n),"ring_of_aquila"!==t.selectedItemBuff()&&"ring_of_basilius"!==t.selectedItemBuff()||t.toggleItem(void 0,n,void 0)}},t.addItemDebuff=function(e,i){if(t.hasInventory()&&void 0!=t.selectedItemDebuff()){var n={item:t.selectedItemDebuff().split("|")[0],state:a.observable(0),size:1,enabled:a.observable(!0)};2==t.selectedItemDebuff().split("|").length&&(n.debuff=t.selectedItemDebuff().split("|")[1]),t.items.push(n),"ring_of_aquila"!==t.selectedItemDebuff()&&"ring_of_basilius"!==t.selectedItemDebuff()||t.toggleItem(void 0,n,void 0)}},t.getAttributes=function(e){for(var i=0,a=0;a<t.items().length;a++){var o=t.items()[a].item,r=t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled())for(var l=t.items()[a].size,s=0;s<n.prototype.itemData["item_"+o].attributes.length;s++){var u=n.prototype.itemData["item_"+o].attributes[s];switch(u.name){case"bonus_all_stats":i+=parseInt(u.value[0]);break;case"bonus_stats":i+=parseInt(u.value[0])}switch(e){case"agi":"bonus_agility"==u.name&&(i+="diffusal_blade"==o?parseInt(u.value[l-1]):parseInt(u.value[0])),"bonus_stat"==u.name&&2==t.items()[a].state()&&(i+=parseInt(u.value[0])),"bonus_agi"==u.name&&(i+=parseInt(u.value[0]));break;case"int":"bonus_intellect"==u.name&&(i+="necronomicon"==o?parseInt(u.value[l-1]):"diffusal_blade"==o?parseInt(u.value[l-1]):"dagon"==o?parseInt(u.value[l-1]):parseInt(u.value[0])),"bonus_intelligence"==u.name&&(i+=parseInt(u.value[0])),"bonus_int"==u.name&&(i+=parseInt(u.value[0])),"bonus_stat"==u.name&&1==t.items()[a].state()&&(i+=parseInt(u.value[0]));break;case"str":"bonus_strength"==u.name&&(i+="necronomicon"==o?parseInt(u.value[l-1]):parseInt(u.value[0])),"bonus_stat"==u.name&&0==t.items()[a].state()&&(i+=parseInt(u.value[0])),"bonus_str"==u.name&&(i+=parseInt(u.value[0])),"unholy_bonus_strength"==u.name&&r&&(i+=parseInt(u.value[0]))}}}return i},t.getBash=function(e){for(var i=1,a=0;a<t.items().length;a++){var o=t.items()[a].item;if(t.items()[a].enabled())for(var r=0;r<n.prototype.itemData["item_"+o].attributes.length;r++){var l=n.prototype.itemData["item_"+o].attributes[r];switch(l.name){case"bash_chance":i*=1-parseInt(l.value[0])/100;break;case"bash_chance_melee":"DOTA_UNIT_CAP_MELEE_ATTACK"==e&&(i*=1-parseInt(l.value[0])/100);break;case"bash_chance_ranged":"DOTA_UNIT_CAP_RANGED_ATTACK"==e&&(i*=1-parseInt(l.value[0])/100)}}}return i},t.getCritChance=function(){for(var e=1,i=0;i<t.items().length;i++){var a=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"crit_chance":e*=1-parseInt(r.value[0])/100}}}return e},t.getCritSource=function(){for(var e={},i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled()){switch(a){case"lesser_crit":case"greater_crit":case"bloodthorn":void 0==e[a]?e[a]={chance:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"crit_chance",0)/100,multiplier:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"crit_multiplier",0)/100,count:1,displayname:n.prototype.itemData["item_"+a].displayname}:e[a].count+=1}"bloodthorn"===a&&o&&(void 0==e.soul_rend?e.soul_rend={chance:1,multiplier:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"target_crit_multiplier",0)/100,count:1,displayname:"Soul Rend"}:e.soul_rend.count+=1)}}return e},t.getCleaveSource=function(){for(var e={},i=0;i<t.items().length;i++){var a=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled())switch(a){case"bfury":void 0==e[a]?e[a]={radius:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"cleave_radius",0),magnitude:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"cleave_damage_percent",0)/100,count:1,displayname:n.prototype.itemData["item_"+a].displayname}:e[a].count+=1}}return e},t.getBashSource=function(e){for(var i={},a=0;a<t.items().length;a++){var o=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled())switch(o){case"javelin":void 0==i[o]?i[o]={damage:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bonus_chance_damage",1),damageType:"magic",count:1,chance:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bonus_chance",1)/100,displayname:n.prototype.itemData["item_"+o].displayname+" Pierce"}:i[o].count+=1;break;case"monkey_king_bar":void 0==i[o]?i[o]={item:o,chance:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bash_chance",0)/100,damage:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bash_damage",0),duration:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bash_stun",0),count:1,damageType:"magic",displayname:"Mini-Bash"}:i[o].count+=1;break;case"abyssal_blade":case"basher":i.hasOwnProperty("bash")||(i.bash={item:o,chance:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"DOTA_UNIT_CAP_MELEE_ATTACK"==e?"bash_chance_melee":"bash_chance_ranged",0)/100,damage:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bonus_chance_damage",0),duration:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bash_duration",0),count:1,damageType:"physical",displayname:"Bash"})}}return i},t.getOrbProcSource=function(){for(var e={},i=0;i<t.items().length;i++){var a=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled())switch(a){case"maelstrom":case"mjollnir":void 0==e[a]?e[a]={chance:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"chain_chance",0)/100,damage:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"chain_damage",0),count:1,damageType:"magic",displayname:n.prototype.itemData["item_"+a].displayname}:e[a].count+=1}}return e},t.getOrbSource=function(){for(var e={},i=0;i<t.items().length;i++){var a=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled())switch(a){case"diffusal_blade":void 0==e[a]?e[a]={chance:1,damage:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"feedback_mana_burn",t.items()[i].size),count:1,damageType:"physical",displayname:n.prototype.itemData["item_"+a].displayname}:e[a].count+=1}}return e},t.getHealth=function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"bonus_health":e+=parseInt(r.value[0])}}}return e},t.getHealthRegen=function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled())for(var r=0;r<n.prototype.itemData["item_"+a].attributes.length;r++){var l=n.prototype.itemData["item_"+a].attributes[r];switch(l.name){case"health_regen":case"bonus_regen":e+=parseInt(l.value[0]);break;case"bonus_health_regen":"tranquil_boots"!=a||o?"tranquil_boots"!=a&&(e+=parseInt(l.value[0])):e+=parseInt(l.value[0]);break;case"hp_regen":e+=parseInt(l.value[0]);break;case"health_regen_rate":"heart"==a&&o&&(e+=parseInt(l.value[0])/100*t.hero.health())}}}return e},t.getHealthRegenAura=function(e){for(var i=0,a=e||[],o=0;o<t.items().length;o++){var r=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0;if(t.items()[o].enabled())for(var l=0;l<n.prototype.itemData["item_"+r].attributes.length;l++){var s=n.prototype.itemData["item_"+r].attributes[l];if(!(a.indexOf(r+s.name)>-1))switch(s.name){case"aura_health_regen":i+=parseInt(s.value[0]),a.push(r+s.name)}}}return{value:i,excludeList:a}},t.getMana=function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"bonus_mana":e+=parseInt(r.value[0])}}}return e},t.getManaRegen=function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"aura_mana_regen":case"mana_regen_aura":e+=parseFloat(r.value[0]);break;case"mana_regen":"infused_raindrop"==a&&(e+=parseFloat(r.value[0]))}}}return e},t.getManaRegenPercent=function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"bonus_mana_regen":case"mana_regen":case"bonus_mana_regen_pct":"infused_raindrop"!=a&&(e+=parseFloat(r.value[0]))}}}return e/100},t.getManaRegenBloodstone=function(){for(var e=0;e<t.items().length;e++){var i=t.items()[e].item;if(t.items()[e].enabled()&&i.indexOf("bloodstone")!=-1)return parseInt(t.items()[e].size)}return 0},t.getArmor=function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled())for(var r=0;r<n.prototype.itemData["item_"+a].attributes.length;r++){var l=n.prototype.itemData["item_"+a].attributes[r];switch(l.name){case"bonus_armor":(!o||"medallion_of_courage"!=a&&"solar_crest"!=a)&&(e+=parseInt(l.value[0]));break;case"unholy_bonus_armor":o&&"armlet"==a&&(e+=parseInt(l.value[0]))}}}return e},t.getArmorAura=function(e){for(var i=0,a=e||[],o=0;o<t.items().length;o++){var r=t.items()[o].item,l=t.activeItems.indexOf(t.items()[o])>=0;if(t.items()[o].enabled())for(var s=0;s<n.prototype.itemData["item_"+r].attributes.length;s++){var u=n.prototype.itemData["item_"+r].attributes[s];if(!a.find(function(e){return u.name==e.name}))switch(u.name){case"bonus_aoe_armor":l&&a.push({name:u.name,value:parseInt(u.value[0])});break;case"aura_positive_armor":a.push({name:u.name,value:parseInt(u.value[0])});break;case"aura_bonus_armor":l&&a.push({name:u.name,value:parseInt(u.value[0])});break;case"armor_aura":a.push({name:u.name,value:parseInt(u.value[0])});break;case"heal_bonus_armor":l&&a.push({name:u.name,value:parseInt(u.value[0])})}}}return a.find(function(e){return"heal_bonus_armor"==e.name})&&(a=a.filter(function(e){return"bonus_aoe_armor"!==e.name})),a.find(function(e){return"armor_aura"==e.name})&&(a=a.filter(function(e){return"aura_bonus_armor"!==e.name})),i=a.reduce(function(e,t){return e+=t.value},0),{value:i,attributes:a}},t.getArmorReduction=function(e){for(var i=0,a=e||[],o=0;o<t.items().length;o++){var r=t.items()[o].item,l=t.activeItems.indexOf(t.items()[o])>=0;if(t.items()[o].enabled())for(var s=0;s<n.prototype.itemData["item_"+r].attributes.length;s++){var u=n.prototype.itemData["item_"+r].attributes[s];if(!(a.indexOf(u.name)>-1||a.indexOf(r+"_"+u.name)>-1))switch(u.name){case"armor_reduction":(l||"medallion_of_courage"!=r&&"solar_crest"!=r)&&(i+=parseInt(u.value[0]),a.push(r+"_"+u.name));break;case"aura_negative_armor":i+=parseInt(u.value[0]),a.push(u.name);break;case"corruption_armor":i+=parseInt(u.value[0]),a.push(u.name)}}}return{value:i,excludeList:a}},t.getEvasion=function(){for(var e=1,i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled())for(var r=0;r<n.prototype.itemData["item_"+a].attributes.length;r++){var l=n.prototype.itemData["item_"+a].attributes[r];switch(l.name){case"bonus_evasion":(!o||"butterfly"!=a&&"solar_crest"!=a)&&(e*=1-parseInt(l.value[0])/100)}}}return e},t.getMovementSpeedFlat=function(){for(var e=0,i=!1,a=!1,o=!1,r=["boots","phase_boots","arcane_boots","travel_boots","power_treads","tranquil_boots","guardian_greaves"],l=0;l<t.items().length;l++){var s=t.items()[l].item,u=t.activeItems.indexOf(t.items()[l])>=0;if(t.items()[l].enabled())for(var c=0;c<n.prototype.itemData["item_"+s].attributes.length;c++){var d=n.prototype.itemData["item_"+s].attributes[c];switch(d.name){case"bonus_movement_speed":!i&&r.indexOf(s)>=0?("tranquil_boots"!=s||"tranquil_boots"==s&&!u)&&(e+=parseInt(d.value[0]),i=!0):"cyclone"==s&&(e+=parseInt(d.value[0]),a=!0);break;case"broken_movement_speed":!i&&r.indexOf(s)>=0&&"tranquil_boots"==s&&u&&(e+=parseInt(d.value[0]),i=!0);break;case"bonus_movement":!i&&r.indexOf(s)>=0&&(e+=parseInt(d.value[0]),i=!0);break;case"movement_speed":o||"wind_lace"!=s||(e+=parseInt(d.value[0]),o=!0)}}}return e},t.getMovementSpeedPercent=function(e){for(var i=0,a=e||[],o=!1,r=!1,l=!1,s=!1,u=!1,c=!1,d=!1,p=["manta","yasha","sange_and_yasha"],m=0;m<t.items().length;m++){var h=t.items()[m].item,b=t.activeItems.indexOf(t.items()[m])>=0;if(t.items()[m].enabled())for(var f=0;f<n.prototype.itemData["item_"+h].attributes.length;f++){var g=n.prototype.itemData["item_"+h].attributes[f];if(!(a.indexOf(g.name)>-1))switch(g.name){case"movement_speed_percent_bonus":!o&&p.indexOf(h)>=0&&(i+=parseInt(g.value[0]),o=!0);break;case"bonus_aura_movement_speed_pct":r||"ancient_janggo"!=h||(i+=parseInt(g.value[0]),r=!0,a.push(g.name));break;case"phase_movement_speed":b&&!s&&(i+=parseInt(g.value[0]),s=!0);break;case"bonus_movement_speed_pct":b&&!l&&"ancient_janggo"==h&&(i+=parseInt(g.value[0]),l=!0,a.push(g.name));break;case"windwalk_movement_speed":!b||u||"invis_sword"!=h&&"silver_edge"!=h||(i+=parseInt(g.value[0]),u=!0);break;case"berserk_bonus_movement_speed":b&&!d&&"mask_of_madness"==h&&(i+=parseInt(g.value[0]),d=!0);break;case"bonus_movement_speed":o||"manta"!=h?"smoke_of_deceit"==h&&b&&(i+=parseInt(g.value[0])):(i+=parseInt(g.value[0]),o=!0);break;case"bonus_move_speed":b&&!c&&"butterfly"==h&&(i+=parseInt(g.value[0]),c=!0)}}}return{value:i/100,excludeList:a}},t.getMovementSpeedPercentReduction=function(e){for(var i=0,a=e||[],o=0;o<t.items().length;o++){var r=t.items()[o].item,l=t.activeItems.indexOf(t.items()[o])>=0;if(t.items()[o].enabled())for(var s=0;s<n.prototype.itemData["item_"+r].attributes.length;s++){var u=n.prototype.itemData["item_"+r].attributes[s];if(!(a.indexOf(u.name)>-1))switch(u.name){case"movespeed":"dust"==r&&l&&(i+=parseInt(u.value[0]));case"blast_movement_speed":"shivas_guard"==r&&l&&(i+=parseInt(u.value[0]),a.push(u.name));case"cold_movement_speed":"skadi"==r&&(i+=parseInt(u.value[0]));break;case"maim_movement_speed":t.items()[o].debuff&&"maim"==t.items()[o].debuff&&(i+=parseInt(u.value[0]),a.push(u.name))}}}return{value:i/100,excludeList:a}},t.getBonusDamage=function(){for(var e=0,i={},a=0;a<t.items().length;a++){var o=t.items()[a].item,r=t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled())for(var l=0;l<n.prototype.itemData["item_"+o].attributes.length;l++){var s=n.prototype.itemData["item_"+o].attributes[l];switch(s.name){case"bonus_damage":e+=parseInt(s.value[0]),void 0==i[o]?i[o]={damage:parseInt(s.value[0]),damageType:"physical",count:1,displayname:n.prototype.itemData["item_"+o].displayname}:i[o].count+=1;break;case"unholy_bonus_damage":r&&(e+=parseInt(s.value[0]),void 0==i[o+"_active"]?i[o+"_active"]={damage:parseInt(s.value[0]),damageType:"physical",count:1,displayname:n.prototype.itemData["item_"+o].displayname+" Unholy Strength"}:i[o].count+=1)}}}return{sources:i,total:e}},t.getBonusDamagePercent=function(e){e=e||{sources:{},total:0};for(var i=e.total||0,a=e.sources||{},o=0;o<t.items().length;o++){var r=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0;if(t.items()[o].enabled())for(var l=0;l<n.prototype.itemData["item_"+r].attributes.length;l++){var s=n.prototype.itemData["item_"+r].attributes[l];switch(s.name){case"damage_aura":void 0==a[r]&&(i+=parseInt(s.value[0])/100,a[r]={damage:parseInt(s.value[0])/100,damageType:"physical",count:1,displayname:n.prototype.itemData["item_"+r].displayname})}}}return{sources:a,total:i}},t.getAttackSpeed=function(e){for(var i=0,a=!1,o=e||[],r=0;r<t.items().length;r++){var l=t.items()[r].item,s=t.activeItems.indexOf(t.items()[r])>=0;if(t.items()[r].enabled())for(var u=0;u<n.prototype.itemData["item_"+l].attributes.length;u++){var c=n.prototype.itemData["item_"+l].attributes[u];if(!(o.indexOf(c.name)>-1))switch(c.name){case"bonus_attack_speed":"power_treads"==l?a||(i+=parseInt(c.value[0]),a=!0):"moon_shard"==l?s||(i+=parseInt(c.value[0])):"hurricane_pike"==l?s&&(i+=parseInt(c.value[0])):i+=parseInt(c.value[0]);break;case"consumed_bonus":"moon_shard"==l&&s&&(i+=parseInt(c.value[0]));break;case"bonus_speed":i+=parseInt(c.value[0]);break;case"aura_attack_speed":"shivas_guard"!=l&&(i+=parseInt(c.value[0]));break;case"bonus_aura_attack_speed_pct":i+=parseInt(c.value[0]),o.push(c.name);break;case"bonus_attack_speed_pct":s&&(i+=parseInt(c.value[0]),o.push(c.name));break;case"unholy_bonus_attack_speed":s&&(i+=parseInt(c.value[0]));break;case"berserk_bonus_attack_speed":s&&(i+=parseInt(c.value[0]))}}}return{value:i,excludeList:o}},t.getAttackSpeedReduction=function(e){for(var i=0,a=e||[],o=0;o<t.items().length;o++){var r=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0;if(t.items()[o].enabled())for(var l=0;l<n.prototype.itemData["item_"+r].attributes.length;l++){var s=n.prototype.itemData["item_"+r].attributes[l];if(!(a.indexOf(s.name)>-1))switch(s.name){case"aura_attack_speed":"shivas_guard"==r&&(i+=parseInt(s.value[0]),a.push(s.name));break;case"cold_attack_speed":"skadi"==r&&(i+=parseInt(s.value[0]),a.push(s.name));break;case"maim_attack_speed":t.items()[o].debuff&&"maim"==t.items()[o].debuff&&(i+=parseInt(s.value[0]),a.push(s.name))}}}return{value:i,excludeList:a}},t.getLifesteal=function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled())for(var r=0;r<n.prototype.itemData["item_"+a].attributes.length;r++){var l=n.prototype.itemData["item_"+a].attributes[r];switch(l.name){case"lifesteal_percent":if("satanic"!=a)return parseInt(l.value[0]);if(!o)return parseInt(l.value[0]);break;case"unholy_lifesteal_percent":if(o)return parseInt(l.value[0])}}}return e},t.getLifestealAura=function(e){for(var i=0,a=e||[],o=0;o<t.items().length;o++){var r=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0;if(t.items()[o].enabled())for(var l=0;l<n.prototype.itemData["item_"+r].attributes.length;l++){var s=n.prototype.itemData["item_"+r].attributes[l];if(!(a.indexOf(s.name)>-1))switch(s.name){case"vampiric_aura":i+=parseInt(s.value[0]),a.push(s.name)}}}return{value:i,excludeList:a}},t.getMagicResist=function(){for(var e=1,i=0;i<t.items().length;i++){var a=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"bonus_magical_armor":e*=1-parseInt(r.value[0])/100;break;case"bonus_spell_resist":e*=1-parseInt(r.value[0])/100;break;case"magic_resistance":e*=1-parseInt(r.value[0])/100}}}return e},t.getMagicResistReductionSelf=function(){for(var e=1,i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled()&&o)for(var r=0;r<n.prototype.itemData["item_"+a].attributes.length;r++){var l=n.prototype.itemData["item_"+a].attributes[r];switch(l.name){case"extra_spell_damage_percent":case"ethereal_damage_bonus":return 1-parseInt(l.value[0])/100}}}return e},t.getMagicResistReduction=function(){for(var e=1,i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled()&&o)for(var r=0;r<n.prototype.itemData["item_"+a].attributes.length;r++){var l=n.prototype.itemData["item_"+a].attributes[r];switch(l.name){case"ethereal_damage_bonus":t.isEthereal()||(e*=1-parseInt(l.value[0])/100);case"resist_debuff":e*=1-parseInt(l.value[0])/100}}}return e},t.getVisionRangeNight=a.computed(function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled())for(var r=0;r<n.prototype.itemData["item_"+a].attributes.length;r++){var l=n.prototype.itemData["item_"+a].attributes[r];switch(l.name){case"bonus_night_vision":"moon_shard"==a&&o||(e+=parseInt(l.value[0]))}}}return e}),t.getAttackRange=function(e,i){for(var a=0,o=i||[],r=0;r<t.items().length;r++){var l=t.items()[r].item;t.activeItems.indexOf(t.items()[r])>=0;if(t.items()[r].enabled())for(var s=0;s<n.prototype.itemData["item_"+l].attributes.length;s++){var u=n.prototype.itemData["item_"+l].attributes[s];if(!o.find(function(e){return u.name==e.name}))switch(u.name){case"base_attack_range":"DOTA_UNIT_CAP_RANGED_ATTACK"==e&&o.push({name:u.name,value:parseInt(u.value[0])})}}}return a=o.reduce(function(e,t){return e+=t.value},0),{value:a,attributes:o}},t.getMissChance=function(e){for(var i=1,a=e||[],o=0;o<t.items().length;o++){var r=t.items()[o].item,l=t.activeItems.indexOf(t.items()[o])>=0;if(t.items()[o].enabled())for(var s=0;s<n.prototype.itemData["item_"+r].attributes.length;s++){var u=n.prototype.itemData["item_"+r].attributes[s];if(!(a.indexOf(u.name)>-1))switch(u.name){case"miss_chance":"solar_crest"===r&&l&&(i*=1-parseInt(u.value[0])/100,a.push(u.name));break;case"blind_pct":i*=1-parseInt(u.value[0])/100,a.push(u.name)}}}return{value:i,excludeList:a}},t.getBaseDamageReductionPct=function(){for(var e=1,i=0;i<t.items().length;i++){var a=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"backstab_reduction":t.items()[i].debuff&&"shadow_walk"==t.items()[i].debuff&&(e*=1+parseInt(r.value[0])/100)}}}return e},t.getBonusDamageReductionPct=function(){for(var e=1,i=0;i<t.items().length;i++){var a=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"backstab_reduction":t.items()[i].debuff&&"shadow_walk"==t.items()[i].debuff&&(e*=1+parseInt(r.value[0])/100)}}}return e},t.itemOptions=a.observableArray(n.prototype.itemOptionsArr),t.itemBuffOptions=a.observableArray(n.prototype.itemBuffOptions),t.selectedItemBuff=a.observable("assault"),t.itemDebuffOptions=a.observableArray(n.prototype.itemDebuffOptions),t.selectedItemDebuff=a.observable("assault"),t}},{"./herocalc_core":4,
"./herocalc_knockout":10}],10:[function(e,t,i){(function(i){"use strict";var a="undefined"!=typeof window?window.ko:"undefined"!=typeof i?i.ko:null;a.mapping=e("../lib/knockout.mapping"),a.wrap=e("../lib/knockout.wrap"),a.extenders.numeric=function(e,t){var i=a.computed({read:e,write:function(i){var a=e(),n=Math.pow(10,t),o=isNaN(i)?0:parseFloat(+i),r=Math.round(o*n)/n;r!==a?e(r):i!==a&&e.notifySubscribers(r)}}).extend({notify:"always"});return i(e()),i},t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/knockout.mapping":14,"../lib/knockout.wrap":15}],11:[function(e,t,i){"use strict";var a=e("./herocalc_knockout"),n=e("./herocalc_core");n.prototype.UnitOption=function(e,t,i,n,o){this.heroName=a.computed(function(){return i>0?e+(o()<=i?o():1):e}),this.heroDisplayName=t,this.image=n,this.levels=i},n.prototype.UnitModel=function(e,t){var i=this;return n.prototype.HeroModel.call(this,"abaddon"),i.parent=t,i.unitId=a.observable(e),i.unitLevel=a.observable(1),i.heroData=a.computed(function(){return n.prototype.unitData[i.unitId()]}),i.getAbilityLevelMax=function(e){return"DOTA_ABILITY_TYPE_ATTRIBUTES"==e.abilitytype?10:"necronomicon_archer_mana_burn"==e.name||"necronomicon_archer_aoe"==e.name||"necronomicon_warrior_mana_burn"==e.name||"necronomicon_warrior_last_will"==e.name?3:"necronomicon_warrior_sight"==e.name?1:4},i.availableSkillPoints.dispose(),i.ability=a.computed(function(){var e=new n.prototype.AbilityModel(a.observableArray(JSON.parse(JSON.stringify(i.heroData().abilities))),i);switch(e.hasScepter=i.inventory.hasScepter,i.unitId()){case"npc_dota_necronomicon_archer_1":case"npc_dota_necronomicon_warrior_1":e.abilities()[0].level(1),e.abilities()[1].level(1);break;case"npc_dota_necronomicon_archer_2":case"npc_dota_necronomicon_warrior_2":e.abilities()[0].level(2),e.abilities()[1].level(2);break;case"npc_dota_necronomicon_archer_3":e.abilities()[0].level(3),e.abilities()[1].level(3);break;case"npc_dota_necronomicon_warrior_3":e.abilities()[0].level(3),e.abilities()[1].level(3),e.abilities()[2].level(1)}return e.levelUpAbility=function(t,i,n,o){var r=a.utils.unwrapObservable(t);switch(e.abilities()[r].name){case"necronomicon_archer_mana_burn":case"necronomicon_archer_aoe":case"necronomicon_warrior_mana_burn":case"necronomicon_warrior_last_will":case"necronomicon_warrior_sight":break;default:e.abilities()[r].level()<o.getAbilityLevelMax(i)&&e.abilities()[r].level(e.abilities()[r].level()+1)}},e.levelDownAbility=function(t,i,n,o){var r=a.utils.unwrapObservable(t);switch(e.abilities()[r].name){case"necronomicon_archer_mana_burn":case"necronomicon_archer_aoe":case"necronomicon_warrior_mana_burn":case"necronomicon_warrior_last_will":case"necronomicon_warrior_sight":break;default:e.abilities()[r].level()>0&&e.abilities()[r].level(e.abilities()[r].level()-1)}},e}),i.primaryAttribute=a.computed(function(){var e=0;return"DOTA_ATTRIBUTE_AGILITY"==e?"agi":"DOTA_ATTRIBUTE_INTELLECT"==e?"int":"DOTA_ATTRIBUTE_STRENGTH"==e?"str":""}),i.totalAttribute=function(e){return"agi"==e?parseFloat(i.totalAgi()):"int"==e?parseFloat(i.totalInt()):"str"==e?parseFloat(i.totalStr()):0},i.totalAgi=a.computed(function(){return(n.prototype.unitData[i.unitId()].attributebaseagility+n.prototype.unitData[i.unitId()].attributeagilitygain*(i.selectedHeroLevel()-1)+2*i.ability().getAttributeBonusLevel()+i.ability().getAgility()+i.enemy().ability().getAllStatsReduction()+i.debuffs.getAllStatsReduction()).toFixed(2)}),i.totalInt=a.computed(function(){return(n.prototype.unitData[i.unitId()].attributebaseintelligence+n.prototype.unitData[i.unitId()].attributeintelligencegain*(i.selectedHeroLevel()-1)+2*i.ability().getAttributeBonusLevel()+i.ability().getIntelligence()+i.enemy().ability().getAllStatsReduction()+i.debuffs.getAllStatsReduction()).toFixed(2)}),i.totalStr=a.computed(function(){return(n.prototype.unitData[i.unitId()].attributebasestrength+n.prototype.unitData[i.unitId()].attributestrengthgain*(i.selectedHeroLevel()-1)+2*i.ability().getAttributeBonusLevel()+i.ability().getStrength()+i.enemy().ability().getAllStatsReduction()+i.debuffs.getAllStatsReduction()).toFixed(2)}),i.baseDamage=a.computed(function(){return[Math.floor(n.prototype.unitData[i.unitId()].attackdamagemin+i.totalAttribute(i.primaryAttribute())+i.ability().getBaseDamage().total),Math.floor(n.prototype.unitData[i.unitId()].attackdamagemax+i.totalAttribute(i.primaryAttribute())+i.ability().getBaseDamage().total)]}),i.totalMagicResistanceProduct=a.computed(function(){return(1-n.prototype.unitData[i.unitId()].magicalresistance/100)*(1-i.inventory.getMagicResist()/100)*(1-i.ability().getMagicResist()/100)*(1-i.buffs.getMagicResist()/100)*i.enemy().inventory.getMagicResistReduction()*i.enemy().ability().getMagicResistReduction()*i.debuffs.getMagicResistReduction()}),i.totalMagicResistance=a.computed(function(){return 1-i.totalMagicResistanceProduct()}),i.bat=a.computed(function(){var e=i.ability().getBAT();return e>0?e:n.prototype.unitData[i.unitId()].attackrate}),i.attackTime=a.computed(function(){return(i.bat()/(1+i.ias()/100)).toFixed(2)}),i.attacksPerSecond=a.computed(function(){return(1+i.ias()/100)/i.bat()}),i.evasion=a.computed(function(){var e=i.ability().setEvasion();return e?(100*e).toFixed(2)+"%":(100*(1-i.inventory.getEvasion()*i.ability().getEvasion())).toFixed(2)+"%"}),i.ehpPhysical=a.computed(function(){return(i.health()*(1+.06*i.totalArmorPhysical())/(1-(1-i.inventory.getEvasion()*i.ability().getEvasion()))).toFixed(2)}),i.ehpMagical=a.computed(function(){return(i.health()/i.totalMagicResistanceProduct()).toFixed(2)}),i.heroId(e),i.unitId.subscribe(function(e){i.heroId(e)}),i},n.prototype.UnitModel.prototype=Object.create(n.prototype.HeroModel.prototype),n.prototype.UnitModel.prototype.constructor=n.prototype.UnitModel},{"./herocalc_core":4,"./herocalc_knockout":10}],12:[function(e,t,i){"use strict";var a=e("./herocalc_core");e("./herocalc_inventory"),e("./herocalc_abilitydata"),e("./herocalc_abilities"),e("./herocalc_buffs"),e("./herocalc_hero"),e("./herocalc_hero.illusion"),e("./herocalc_hero.meepo"),e("./herocalc_unit"),t.exports=a},{"./herocalc_abilities":1,"./herocalc_abilitydata":2,"./herocalc_buffs":3,"./herocalc_core":4,"./herocalc_hero":6,"./herocalc_hero.illusion":5,"./herocalc_hero.meepo":7,"./herocalc_inventory":9,"./herocalc_unit":11}],13:[function(e,t,i){Array.prototype.find||(Array.prototype.find=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),a=i.length>>>0,n=arguments[1],o=0;o<a;o++)if(t=i[o],e.call(n,t,o,i))return t})},{}],14:[function(e,t,i){(function(a){!function(n){"function"==typeof e&&"object"==typeof i&&"object"==typeof t?n("undefined"!=typeof window?window.ko:"undefined"!=typeof a?a.ko:null,i):"function"==typeof define&&define.amd?define(["knockout","exports"],n):n(ko,ko.mapping={})}(function(e,t){function i(e,t){for(var i={},a=e.length-1;a>=0;--a)i[e[a]]=e[a];for(var a=t.length-1;a>=0;--a)i[t[a]]=t[a];var n=[];for(var o in i)n.push(i[o]);return n}function a(e,n){var o;for(var r in n)if(n.hasOwnProperty(r)&&n[r])if(o=t.getType(e[r]),r&&e[r]&&"array"!==o&&"string"!==o)a(e[r],n[r]);else{var l="array"===t.getType(e[r])&&"array"===t.getType(n[r]);l?e[r]=i(e[r],n[r]):e[r]=n[r]}}function n(e,t){var i={};return a(i,e),a(i,t),i}function o(e,t){for(var i=n({},e),a=w.length-1;a>=0;a--){var o=w[a];i[o]&&(i[""]instanceof Object||(i[""]={}),i[""][o]=i[o],delete i[o])}return t&&(i.ignore=r(t.ignore,i.ignore),i.include=r(t.include,i.include),i.copy=r(t.copy,i.copy),i.observe=r(t.observe,i.observe)),i.ignore=r(i.ignore,x.ignore),i.include=r(i.include,x.include),i.copy=r(i.copy,x.copy),i.observe=r(i.observe,x.observe),i.mappedProperties=i.mappedProperties||{},i.copiedProperties=i.copiedProperties||{},i}function r(i,a){return"array"!==t.getType(i)&&(i="undefined"===t.getType(i)?[]:[i]),"array"!==t.getType(a)&&(a="undefined"===t.getType(a)?[]:[a]),e.utils.arrayGetDistinctValues(i.concat(a))}function l(t,i){var a=e.dependentObservable;e.dependentObservable=function(i,a,n){n=n||{},i&&"object"==typeof i&&(n=i);var o=n.deferEvaluation,r=!1,l=function(i){var a=e.dependentObservable;e.dependentObservable=k;var n=e.isWriteableObservable(i);e.dependentObservable=a;var o=k({read:function(){return r||(e.utils.arrayRemoveItem(t,i),r=!0),i.apply(i,arguments)},write:n&&function(e){return i(e)},deferEvaluation:!0});return y&&(o._wrapper=!0),o.__DO=i,o};n.deferEvaluation=!0;var s=new k(i,a,n);return o||(s=l(s),t.push(s)),s},e.dependentObservable.fn=k.fn,e.computed=e.dependentObservable;var n=i();return e.dependentObservable=a,e.computed=e.dependentObservable,n}function s(i,a,o,r,c,b,f){var g="array"===t.getType(e.utils.unwrapObservable(a));if(b=b||"",t.isMapped(i)){var y=e.utils.unwrapObservable(i)[A];o=n(y,o)}var k={data:a,parent:f||c},T=function(){return o[r]&&o[r].create instanceof Function},w=function(t){return l(_,function(){return e.utils.unwrapObservable(c)instanceof Array?o[r].create({data:t||k.data,parent:k.parent,skip:D}):o[r].create({data:t||k.data,parent:k.parent})})},I=function(){return o[r]&&o[r].update instanceof Function},x=function(t,i){var a={data:i||k.data,parent:k.parent,target:e.utils.unwrapObservable(t)};return e.isWriteableObservable(t)&&(a.observable=t),o[r].update(a)},S=v.get(a);if(S)return S;if(r=r||"",g){var O=[],P=!1,E=function(e){return e};o[r]&&o[r].key&&(E=o[r].key,P=!0),e.isObservable(i)||(i=e.observableArray([]),i.mappedRemove=function(e){var t="function"==typeof e?e:function(t){return t===E(e)};return i.remove(function(e){return t(E(e))})},i.mappedRemoveAll=function(t){var a=p(t,E);return i.remove(function(t){return e.utils.arrayIndexOf(a,E(t))!=-1})},i.mappedDestroy=function(e){var t="function"==typeof e?e:function(t){return t===E(e)};return i.destroy(function(e){return t(E(e))})},i.mappedDestroyAll=function(t){var a=p(t,E);return i.destroy(function(t){return e.utils.arrayIndexOf(a,E(t))!=-1})},i.mappedIndexOf=function(t){var a=p(i(),E),n=E(t);return e.utils.arrayIndexOf(a,n)},i.mappedGet=function(e){return i()[i.mappedIndexOf(e)]},i.mappedCreate=function(t){if(i.mappedIndexOf(t)!==-1)throw new Error("There already is an object with the key that you specified.");var a=T()?w(t):t;if(I()){var n=x(a,t);e.isWriteableObservable(a)?a(n):a=n}return i.push(a),a});var R=p(e.utils.unwrapObservable(i),E).sort(),C=p(a,E);P&&C.sort();var B,N,V=e.utils.compareArrays(R,C),M={},H=e.utils.unwrapObservable(a),L={},z=!0;for(B=0,N=H.length;B<N;B++){var j=E(H[B]);if(void 0===j||j instanceof Object){z=!1;break}L[j]=H[B]}var F=[],W=0;for(B=0,N=V.length;B<N;B++){var q,j=V[B],G=b+"["+B+"]";switch(j.status){case"added":var U=z?L[j.value]:d(e.utils.unwrapObservable(a),j.value,E);q=s(void 0,U,o,r,i,G,c),T()||(q=e.utils.unwrapObservable(q));var Y=u(e.utils.unwrapObservable(a),U,M);q===D?W++:F[Y-W]=q,M[Y]=!0;break;case"retained":var U=z?L[j.value]:d(e.utils.unwrapObservable(a),j.value,E);q=d(i,j.value,E),s(q,U,o,r,i,G,c);var Y=u(e.utils.unwrapObservable(a),U,M);F[Y]=q,M[Y]=!0;break;case"deleted":q=d(i,j.value,E)}O.push({event:j.status,item:q})}i(F),o[r]&&o[r].arrayChanged&&e.utils.arrayForEach(O,function(e){o[r].arrayChanged(e.event,e.item)})}else if(h(a)){if(i=e.utils.unwrapObservable(i),!i){if(T()){var $=w();return I()&&($=x($)),$}if(I())return x($);i={}}if(I()&&(i=x(i)),v.save(a,i),I())return i;m(a,function(t){var n=b.length?b+"."+t:t;if(e.utils.arrayIndexOf(o.ignore,n)==-1){if(e.utils.arrayIndexOf(o.copy,n)!=-1)return void(i[t]=a[t]);if("object"!=typeof a[t]&&"array"!=typeof a[t]&&o.observe.length>0&&e.utils.arrayIndexOf(o.observe,n)==-1)return i[t]=a[t],void(o.copiedProperties[n]=!0);var r=v.get(a[t]),l=s(i[t],a[t],o,t,i,n,i),u=r||l;if(o.observe.length>0&&e.utils.arrayIndexOf(o.observe,n)==-1)return i[t]=u(),void(o.copiedProperties[n]=!0);e.isWriteableObservable(i[t])?(u=e.utils.unwrapObservable(u),i[t]()!==u&&i[t](u)):(u=void 0===i[t]?u:e.utils.unwrapObservable(u),i[t]=u),o.mappedProperties[n]=!0}})}else switch(t.getType(a)){case"function":I()?e.isWriteableObservable(a)?(a(x(a)),i=a):i=x(a):i=a;break;default:if(e.isWriteableObservable(i)){if(I()){var K=x(i);return i(K),K}var K=e.utils.unwrapObservable(a);return i(K),K}var J=T()||I();if(i=T()?w():e.observable(e.utils.unwrapObservable(a)),I()&&i(x(i)),J)return i}return i}function u(e,t,i){for(var a=0,n=e.length;a<n;a++)if(i[a]!==!0&&e[a]===t)return a;return null}function c(i,a){var n;return a&&(n=a(i)),"undefined"===t.getType(n)&&(n=i),e.utils.unwrapObservable(n)}function d(t,i,a){t=e.utils.unwrapObservable(t);for(var n=0,o=t.length;n<o;n++){var r=t[n];if(c(r,a)===i)return r}throw new Error("When calling ko.update*, the key '"+i+"' was not found!")}function p(t,i){return e.utils.arrayMap(e.utils.unwrapObservable(t),function(e){return i?c(e,i):e})}function m(e,i){if("array"===t.getType(e))for(var a=0;a<e.length;a++)i(a);else for(var n in e)i(n)}function h(e){var i=t.getType(e);return("object"===i||"array"===i)&&null!==e}function b(e,i,a){var n=e||"";return"array"===t.getType(i)?e&&(n+="["+a+"]"):(e&&(n+="."),n+=a),n}function f(){var t=[],i=[];this.save=function(a,n){var o=e.utils.arrayIndexOf(t,a);o>=0?i[o]=n:(t.push(a),i.push(n))},this.get=function(a){var n=e.utils.arrayIndexOf(t,a),o=n>=0?i[n]:void 0;return o}}function g(){var e={},t=function(t){var i;try{i=t}catch(e){i="$$$"}var a=e[i];return void 0===a&&(a=new f,e[i]=a),a};this.save=function(e,i){t(e).save(e,i)},this.get=function(e){return t(e).get(e)}}var _,v,y=!0,A="__ko_mapping__",k=e.dependentObservable,T=0,w=["create","update","key","arrayChanged"],D={},I={include:["_destroy"],ignore:[],copy:[],observe:[]},x=I;t.isMapped=function(t){var i=e.utils.unwrapObservable(t);return i&&i[A]},t.fromJS=function(e){if(0==arguments.length)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{T++||(_=[],v=new g);var t,i;2==arguments.length&&(arguments[1][A]?i=arguments[1]:t=arguments[1]),3==arguments.length&&(t=arguments[1],i=arguments[2]),i&&(t=n(t,i[A])),t=o(t);var a=s(i,e,t);if(i&&(a=i),!--T)for(;_.length;){var r=_.pop();r&&(r(),r.__DO.throttleEvaluation=r.throttleEvaluation)}return a[A]=n(a[A],t),a}catch(e){throw T=0,e}},t.fromJSON=function(i){var a=e.utils.parseJson(i);return arguments[0]=a,t.fromJS.apply(this,arguments)},t.updateFromJS=function(e){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},t.updateFromJSON=function(e){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},t.toJS=function(i,a){if(x||t.resetDefaultOptions(),0==arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==t.getType(x.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==t.getType(x.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==t.getType(x.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return a=o(a,i[A]),t.visitModel(i,function(t){return e.utils.unwrapObservable(t)},a)},t.toJSON=function(i,a){var n=t.toJS(i,a);return e.utils.stringifyJson(n)},t.defaultOptions=function(){return arguments.length>0?void(x=arguments[0]):x},t.resetDefaultOptions=function(){x={include:I.include.slice(0),ignore:I.ignore.slice(0),copy:I.copy.slice(0)}},t.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},t.visitModel=function(i,a,n){n=n||{},n.visitedObjects=n.visitedObjects||new g;var r,l=e.utils.unwrapObservable(i);if(!h(l))return a(i,n.parentName);n=o(n,l[A]),a(i,n.parentName),r="array"===t.getType(l)?[]:{},n.visitedObjects.save(i,r);var s=n.parentName;return m(l,function(i){if(!n.ignore||e.utils.arrayIndexOf(n.ignore,i)==-1){var o=l[i];if(n.parentName=b(s,l,i),e.utils.arrayIndexOf(n.copy,i)!==-1||e.utils.arrayIndexOf(n.include,i)!==-1||!l[A]||!l[A].mappedProperties||l[A].mappedProperties[i]||!l[A].copiedProperties||l[A].copiedProperties[i]||"array"===t.getType(l)){switch(t.getType(e.utils.unwrapObservable(o))){case"object":case"array":case"undefined":var u=n.visitedObjects.get(o);r[i]="undefined"!==t.getType(u)?u:t.visitModel(o,a,n);break;default:r[i]=a(o,n.parentName)}}}}),r}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,i){(function(a){!function(n){"function"==typeof e&&"object"==typeof i&&"object"==typeof t?n("undefined"!=typeof window?window.ko:"undefined"!=typeof a?a.ko:null,i):"function"==typeof define&&define.amd?define(["knockout","exports"],n):n(ko,ko.wrap={})}(function(e,t){function i(e){var t=typeof e;return"object"===t&&(e?e.constructor==Date?t="date":"[object Array]"==Object.prototype.toString.call(e)&&(t="array"):t="null"),t}function a(t){var i={};for(var a in t){var n=t[a];e.isComputed(n)||(i[a]=o(n))}return i}function n(e){var t=[];if(!e||0==e.length)return t;for(var i=0,a=e.length;i<a;++i)t.push(o(e[i]));return t}function o(t){var r=e.isObservable(t);if(r){var l=t();return o(l)}return"array"==i(t)?n(t):"object"==i(t)?a(t):t}function r(){p=[{obj:null,wrapped:null,lvl:""}]}function l(t,i){for(var a=0;a<p.length;++a)if(p[a].obj===t)return p[a].wrapped;var n={};for(var o in t){var r=t[o];p.push({obj:t,wrapped:n,lvl:u()+"/"+o}),n[o]=c(r,i),p.pop()}return i&&i[u()]&&(n=i[u()](n)),d()&&e.track(n),n}function s(t,i){var a=e.observableArray();if(!t||0==t.length)return a;for(var n=0,o=t.length;n<o;++n)a.push(c(t[n],i));return a}function u(){return p[p.length-1].lvl}function c(t,a){if("array"==i(t))return s(t,a);if("object"==i(t))return l(t,a);if(d()||"function"==typeof t)return t;var n=e.observable();return n(t),n}function d(){return null!=e.track}t.fromJS=function(e,t){return r(),c(e,t)},t.updateFromJS=function(t,i,a){return r(),t(e.utils.unwrapObservable(c(i,a)))},t.fromJSON=function(i,a){var n=e.utils.parseJson(i);return arguments[0]=n,t.fromJS.apply(this,a)},t.toJS=function(e){return o(e)},t.toJSON=function(i){var a=t.toJS(i);return e.utils.stringifyJson(a)};var p})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,a){return!!e.data(t,a[3])}})})},{}],17:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})})},{}],18:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){function t(e){for(var t=e.css("visibility");"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}return e.ui.focusable=function(i,a){var n,o,r,l,s,u=i.nodeName.toLowerCase();return"area"===u?(n=i.parentNode,o=n.name,!(!i.href||!o||"map"!==n.nodeName.toLowerCase())&&(r=e("img[usemap='#"+o+"']"),r.length>0&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(u)?(l=!i.disabled,l&&(s=e(i).closest("fieldset")[0],s&&(l=!s.disabled))):l="a"===u?i.href||a:a,l&&e(i).is(":visible")&&t(e(i)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}}),e.ui.focusable})},{}],19:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})},{}],20:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})},{}],21:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.plugin={add:function(t,i,a){var n,o=e.ui[t].prototype;for(n in a)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,a[n]])},call:function(e,t,i,a){var n,o=e.plugins[t];if(o&&(a||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;n<o.length;n++)e.options[o[n][0]]&&o[n][1].apply(e.element,i)}}})},{}],22:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return function(){function t(e,t,i){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function a(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var n,o=Math.max,r=Math.abs,l=/left|center|right/,s=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,d=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,a=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=a.children()[0];return e("body").append(a),t=o.offsetWidth,a.css("overflow","scroll"),i=o.offsetWidth,t===i&&(i=a[0].clientWidth),a.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),a=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,o="scroll"===a||"auto"===a&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),a=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!a&&!n;return{element:i,isWindow:a,isDocument:n,offset:o?e(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return p.apply(this,arguments);n=e.extend({},n);var d,m,h,b,f,g,_=e(n.of),v=e.position.getWithinInfo(n.within),y=e.position.getScrollInfo(v),A=(n.collision||"flip").split(" "),k={};return g=a(_),_[0].preventDefault&&(n.at="left top"),m=g.width,h=g.height,b=g.offset,f=e.extend({},b),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):s.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=s.test(i[1])?i[1]:"center",e=u.exec(i[0]),t=u.exec(i[1]),k[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===A.length&&(A[1]=A[0]),"right"===n.at[0]?f.left+=m:"center"===n.at[0]&&(f.left+=m/2),"bottom"===n.at[1]?f.top+=h:"center"===n.at[1]&&(f.top+=h/2),d=t(k.at,m,h),f.left+=d[0],f.top+=d[1],this.each(function(){var a,l,s=e(this),u=s.outerWidth(),c=s.outerHeight(),p=i(this,"marginLeft"),g=i(this,"marginTop"),T=u+p+i(this,"marginRight")+y.width,w=c+g+i(this,"marginBottom")+y.height,D=e.extend({},f),I=t(k.my,s.outerWidth(),s.outerHeight());"right"===n.my[0]?D.left-=u:"center"===n.my[0]&&(D.left-=u/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=I[0],D.top+=I[1],a={marginLeft:p,marginTop:g},e.each(["left","top"],function(t,i){e.ui.position[A[t]]&&e.ui.position[A[t]][i](D,{targetWidth:m,targetHeight:h,elemWidth:u,elemHeight:c,collisionPosition:a,collisionWidth:T,collisionHeight:w,offset:[d[0]+I[0],d[1]+I[1]],my:n.my,at:n.at,within:v,elem:s})}),n.using&&(l=function(e){var t=b.left-D.left,i=t+m-u,a=b.top-D.top,l=a+h-c,d={target:{element:_,left:b.left,top:b.top,width:m,height:h},element:{element:s,left:D.left,top:D.top,width:u,height:c},horizontal:i<0?"left":t>0?"right":"center",vertical:l<0?"top":a>0?"bottom":"middle"};m<u&&r(t+i)<m&&(d.horizontal="center"),h<c&&r(a+l)<h&&(d.vertical="middle"),o(r(t),r(i))>o(r(a),r(l))?d.important="horizontal":d.important="vertical",n.using.call(this,e,d)}),s.offset(e.extend(D,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,a=t.within,n=a.isWindow?a.scrollLeft:a.offset.left,r=a.width,l=e.left-t.collisionPosition.marginLeft,s=n-l,u=l+t.collisionWidth-r-n;t.collisionWidth>r?s>0&&u<=0?(i=e.left+s+t.collisionWidth-r-n,e.left+=s-i):u>0&&s<=0?e.left=n:s>u?e.left=n+r-t.collisionWidth:e.left=n:s>0?e.left+=s:u>0?e.left-=u:e.left=o(e.left-l,e.left)},top:function(e,t){var i,a=t.within,n=a.isWindow?a.scrollTop:a.offset.top,r=t.within.height,l=e.top-t.collisionPosition.marginTop,s=n-l,u=l+t.collisionHeight-r-n;t.collisionHeight>r?s>0&&u<=0?(i=e.top+s+t.collisionHeight-r-n,e.top+=s-i):u>0&&s<=0?e.top=n:s>u?e.top=n+r-t.collisionHeight:e.top=n:s>0?e.top+=s:u>0?e.top-=u:e.top=o(e.top-l,e.top)}},flip:{left:function(e,t){var i,a,n=t.within,o=n.offset.left+n.scrollLeft,l=n.width,s=n.isWindow?n.scrollLeft:n.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-s,d=u+t.collisionWidth-l-s,p="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,m="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0];c<0?(i=e.left+p+m+h+t.collisionWidth-l-o,(i<0||i<r(c))&&(e.left+=p+m+h)):d>0&&(a=e.left-t.collisionPosition.marginLeft+p+m+h-s,(a>0||r(a)<d)&&(e.left+=p+m+h))},top:function(e,t){var i,a,n=t.within,o=n.offset.top+n.scrollTop,l=n.height,s=n.isWindow?n.scrollTop:n.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-s,d=u+t.collisionHeight-l-s,p="top"===t.my[1],m=p?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,b=-2*t.offset[1];c<0?(a=e.top+m+h+b+t.collisionHeight-l-o,(a<0||a<r(c))&&(e.top+=m+h+b)):d>0&&(i=e.top-t.collisionPosition.marginTop+m+h+b-s,(i>0||r(i)<d)&&(e.top+=m+h+b))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position})},{}],23:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}})},{}],24:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")}})},{}],25:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.scrollParent=function(t){var i=this.css("position"),a="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!a||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:e(this[0].ownerDocument||document)}})},{}],26:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./version","./focusable"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{tabbable:function(t){var i=e.attr(t,"tabindex"),a=null!=i;return(!a||i>=0)&&e.ui.focusable(t,a)}})})},{}],27:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}})})},{}],28:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"})},{}],29:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){var t=0,i=Array.prototype.slice;return e.cleanData=function(t){return function(i){var a,n,o;for(o=0;null!=(n=i[o]);o++)try{a=e._data(n,"events"),a&&a.remove&&e(n).triggerHandler("remove")}catch(e){}t(i)}}(e.cleanData),e.widget=function(t,i,a){var n,o,r,l={},s=t.split(".")[0];t=t.split(".")[1];var u=s+"-"+t;return a||(a=i,i=e.Widget),e.isArray(a)&&(a=e.extend.apply(null,[{}].concat(a))),e.expr[":"][u.toLowerCase()]=function(t){return!!e.data(t,u)},e[s]=e[s]||{},n=e[s][t],o=e[s][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,n,{version:a.version,_proto:e.extend({},a),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(a,function(t,a){return e.isFunction(a)?void(l[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function n(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=n,t=a.apply(this,arguments),this._super=i,this._superApply=o,t}}()):void(l[t]=a)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:n?r.widgetEventPrefix||t:t},l,{constructor:o,namespace:s,widgetName:t,widgetFullName:u}),n?(e.each(n._childConstructors,function(t,i){var a=i.prototype;e.widget(a.namespace+"."+a.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var a,n,o=i.call(arguments,1),r=0,l=o.length;r<l;r++)for(a in o[r])n=o[r][a],o[r].hasOwnProperty(a)&&void 0!==n&&(e.isPlainObject(n)?t[a]=e.isPlainObject(t[a])?e.widget.extend({},t[a],n):e.widget.extend({},n):t[a]=n);return t},e.widget.bridge=function(t,a){var n=a.prototype.widgetFullName||t;e.fn[t]=function(o){var r="string"==typeof o,l=i.call(arguments,1),s=this;return r?this.length||"instance"!==o?this.each(function(){var i,a=e.data(this,n);return"instance"===o?(s=a,!1):a?e.isFunction(a[o])&&"_"!==o.charAt(0)?(i=a[o].apply(a,l),i!==a&&void 0!==i?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):s=void 0:(l.length&&(o=e.widget.extend.apply(null,[o].concat(l))),this.each(function(){var t=e.data(this,n);t?(t.option(o||{}),t._init&&t._init()):e.data(this,n,new a(o,this))})),s}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,a){a=e(a||this.defaultElement||this)[0],this.element=e(a),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},a!==this&&(e.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===a&&this.destroy()}}),this.document=e(a.style?a.ownerDocument:a.document||a),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){
t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var a,n,o,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},a=t.split("."),t=a.shift(),a.length){for(n=r[t]=e.widget.extend({},this.options[t]),o=0;o<a.length-1;o++)n[a[o]]=n[a[o]]||{},n=n[a[o]];if(t=a.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,a,n;for(i in t)n=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&n&&n.length&&(a=e(n.get()),this._removeClass(n,i),a.addClass(this._classes({element:a,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function i(i,o){var r,l;for(l=0;l<i.length;l++)r=n.classesElementLookup[i[l]]||e(),r=e(t.add?e.unique(r.get().concat(t.element.get())):r.not(t.element).get()),n.classesElementLookup[i[l]]=r,a.push(i[l]),o&&t.classes[i[l]]&&a.push(t.classes[i[l]])}var a=[],n=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&i(t.keys.match(/\S+/g)||[],!0),t.extra&&i(t.extra.match(/\S+/g)||[]),a.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(a,n){e.inArray(t.target,n)!==-1&&(i.classesElementLookup[a]=e(n.not(t.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,a){a="boolean"==typeof a?a:i;var n="string"==typeof e||null===e,o={extra:n?t:i,keys:n?e:t,element:n?this.element:e,add:a};return o.element.toggleClass(this._classes(o),a),this},_on:function(t,i,a){var n,o=this;"boolean"!=typeof t&&(a=i,i=t,t=!1),a?(i=n=e(i),this.bindings=this.bindings.add(i)):(a=i,i=this.element,n=this.widget()),e.each(a,function(a,r){function l(){if(t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof r?o[r]:r).apply(o,arguments)}"string"!=typeof r&&(l.guid=r.guid=r.guid||l.guid||e.guid++);var s=a.match(/^([\w:-]*)\s*(.*)$/),u=s[1]+o.eventNamespace,c=s[2];c?n.on(u,c,l):i.on(u,l)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?a[e]:e).apply(a,arguments)}var a=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,a){var n,o,r=this.options[t];if(a=a||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,a),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(a))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(a,n,o){"string"==typeof n&&(n={effect:n});var r,l=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),r=!e.isEmptyObject(n),n.complete=o,n.delay&&a.delay(n.delay),r&&e.effects&&e.effects.effect[l]?a[t](n):l!==t&&a[l]?a[l](n.duration,n.easing,o):a.queue(function(i){e(this)[t](),o&&o.call(a[0]),i()})}}),e.widget})},{}],30:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./menu","../keycode","../position","../safe-active-element","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,a,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,r="input"===n;this.isMultiLine=o||!r&&this._isContentEditable(this.element),this.valueMethod=this.element[o||r?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,a=!0,void(i=!0);t=!1,a=!1,i=!1;var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case o.UP:t=!0,this._keyEvent("previous",n);break;case o.DOWN:t=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(a){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||a.preventDefault());if(!i){var n=e.ui.keyCode;switch(a.keyCode){case n.PAGE_UP:this._move("previousPage",a);break;case n.PAGE_DOWN:this._move("nextPage",a);break;case n.UP:this._keyEvent("previous",a);break;case n.DOWN:this._keyEvent("next",a)}}},input:function(e){return a?(a=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,i){var a,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),a=i.item.attr("aria-label")||n.value,void(a&&e.trim(a).length&&(this.liveRegion.children().hide(),e("<div>").text(a).appendTo(this.liveRegion))))},menuselect:function(t,i){var a=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=a})),!1!==this._trigger("select",t,{item:a})&&this._value(a.value),this.term=this._value(),this.close(t),this.selectedItem=a}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||e.contains(i,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,a=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,a){a(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){a.xhr&&a.xhr.abort(),a.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),a=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||a)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var a=this;e.each(i,function(e,i){a._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<div>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var a=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return a.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete})},{}],31:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./controlgroup","./checkboxradio","../keycode","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),e=this.element[0].disabled,null!=e&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,i){var a="iconPosition"!==t,n=a?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?a&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),a&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,i=void 0===e.icon?this.options.icon:e.icon;t||i||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),e.uiBackCompat!==!1&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){return"text"===e?void this._super("showLabel",t):("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),e.fn.button=function(t){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(e.ui.checkboxradio||e.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(e.fn.button),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),e.ui.button})},{}],32:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./button","./draggable","./mouse","./resizable","../focusable","../keycode","../position","../safe-active-element","../safe-blur","../tabbable","../unique-id","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var a=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),a=!0),a&&!i&&this._trigger("focus",t),a},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(e.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(t){function i(){var t=e.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),a=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==a[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.trigger("focus")}),t.preventDefault()):(this._delay(function(){a.trigger("focus")}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(e.each(i,function(i,a){var n,o;a=e.isFunction(a)?{click:a,text:i}:a,a=e.extend({type:"button"},a),n=a.click,o={icon:a.icon,iconPosition:a.iconPosition,showLabel:a.showLabel,icons:a.icons,text:a.text},delete a.click,delete a.icon,delete a.iconPosition,delete a.showLabel,delete a.icons,"boolean"==typeof a.text&&delete a.text,e("<button></button>",a).button(o).appendTo(t.uiButtonSet).on("click",function(){n.apply(t.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,a=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(a,n){i._addClass(e(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",a,t(n))},drag:function(e,a){i._trigger("drag",e,t(a))},stop:function(n,o){var r=o.offset.left-i.document.scrollLeft(),l=o.offset.top-i.document.scrollTop();a.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(l>=0?"+":"")+l,of:i.window},i._removeClass(e(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,a=this.options,n=a.resizable,o=this.uiDialog.css("position"),r="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:r,start:function(a,n){i._addClass(e(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",a,t(n))},resize:function(e,a){i._trigger("resize",e,t(a))},stop:function(n,o){var r=i.uiDialog.offset(),l=r.left-i.document.scrollLeft(),s=r.top-i.document.scrollTop();a.height=i.uiDialog.height(),a.width=i.uiDialog.width(),a.position={my:"left top",at:"left"+(l>=0?"+":"")+l+" top"+(s>=0?"+":"")+s,of:i.window},i._removeClass(e(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);i!==-1&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,a=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(a=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),a&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,i){var a,n,o=this.uiDialog;"disabled"!==t&&(this._super(t,i),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&(a=o.is(":data(ui-draggable)"),a&&!i&&o.draggable("destroy"),!a&&i&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=o.is(":data(ui-resizable)"),n&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,a=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),a.minWidth>a.width&&(a.width=a.minWidth),e=this.uiDialog.css({height:"auto",width:a.width}).outerHeight(),t=Math.max(0,a.minHeight-e),i="number"==typeof a.maxHeight?Math.max(0,a.maxHeight-e):"none","auto"===a.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,a.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),e.ui.dialog})},{}],33:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../plugin","../safe-active-element","../safe-blur","../scroll-parent","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",
snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=e.ui.safeActiveElement(this.document[0]),a=e(t.target);a.closest(i).length||e.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var a=this._uiHash();if(this._trigger("drag",t,a)===!1)return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=a.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,a=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(a=e.ui.ddmanager.drop(this,t)),this.dropped&&(a=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!a||"valid"===this.options.revert&&a||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,a)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var i=this.options,a=e.isFunction(i.helper),n=a?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),a&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,a,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),a=i[0],void(a&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,a=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,a,n,o,r=this.options,l=this._isRootNode(this.scrollParent[0]),s=e.pageX,u=e.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(a=this.relativeContainer.offset(),i=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(s=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(s=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),r.grid&&(n=r.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,u=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-r.grid[1]:n+r.grid[1]:n,o=r.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,s=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-r.grid[0]:o+r.grid[0]:o),"y"===r.axis&&(s=this.originalPageX),"x"===r.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,a){return a=a||this._uiHash(),e.ui.plugin.call(this,t,[i,a,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),a.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,a)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,a){var n=e.extend({},i,{item:a.element});a.sortables=[],e(a.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(a.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,a){var n=e.extend({},i,{item:a.element});a.cancelHelperRemoval=!1,e.each(a.sortables,function(){var e=this;e.isOver?(e.isOver=0,a.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,a){e.each(a.sortables,function(){var n=!1,o=this;o.positionAbs=a.positionAbs,o.helperProportions=a.helperProportions,o.offset.click=a.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,e.each(a.sortables,function(){return this.positionAbs=a.positionAbs,this.helperProportions=a.helperProportions,this.offset.click=a.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,a._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=a.offset.click.top,o.offset.click.left=a.offset.click.left,o.offset.parent.left-=a.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=a.offset.parent.top-o.offset.parent.top,a._trigger("toSortable",t),a.dropped=o.element,e.each(a.sortables,function(){this.refreshPositions()}),a.currentItem=a.element,o.fromOutside=a),o.currentItem&&(o._mouseDrag(t),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(a._parent),a._refreshOffsets(t),i.position=a._generatePosition(t,!0),a._trigger("fromSortable",t),a.dropped=!1,e.each(a.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,a){var n=e("body"),o=a.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(t,i,a){var n=a.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,a){var n=e(i.helper),o=a.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(t,i,a){var n=a.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,a){var n=a.options,o=!1,r=a.scrollParentNotHidden[0],l=a.document[0];r!==l&&"HTML"!==r.tagName?(n.axis&&"x"===n.axis||(a.overflowOffset.top+r.offsetHeight-t.pageY<n.scrollSensitivity?r.scrollTop=o=r.scrollTop+n.scrollSpeed:t.pageY-a.overflowOffset.top<n.scrollSensitivity&&(r.scrollTop=o=r.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(a.overflowOffset.left+r.offsetWidth-t.pageX<n.scrollSensitivity?r.scrollLeft=o=r.scrollLeft+n.scrollSpeed:t.pageX-a.overflowOffset.left<n.scrollSensitivity&&(r.scrollLeft=o=r.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(l).scrollTop()<n.scrollSensitivity?o=e(l).scrollTop(e(l).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(l).scrollTop())<n.scrollSensitivity&&(o=e(l).scrollTop(e(l).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(l).scrollLeft()<n.scrollSensitivity?o=e(l).scrollLeft(e(l).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(l).scrollLeft())<n.scrollSensitivity&&(o=e(l).scrollLeft(e(l).scrollLeft()+n.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(a,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,a){var n=a.options;a.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==a.element[0]&&a.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,a){var n,o,r,l,s,u,c,d,p,m,h=a.options,b=h.snapTolerance,f=i.offset.left,g=f+a.helperProportions.width,_=i.offset.top,v=_+a.helperProportions.height;for(p=a.snapElements.length-1;p>=0;p--)s=a.snapElements[p].left-a.margins.left,u=s+a.snapElements[p].width,c=a.snapElements[p].top-a.margins.top,d=c+a.snapElements[p].height,g<s-b||f>u+b||v<c-b||_>d+b||!e.contains(a.snapElements[p].item.ownerDocument,a.snapElements[p].item)?(a.snapElements[p].snapping&&a.options.snap.release&&a.options.snap.release.call(a.element,t,e.extend(a._uiHash(),{snapItem:a.snapElements[p].item})),a.snapElements[p].snapping=!1):("inner"!==h.snapMode&&(n=Math.abs(c-v)<=b,o=Math.abs(d-_)<=b,r=Math.abs(s-g)<=b,l=Math.abs(u-f)<=b,n&&(i.position.top=a._convertPositionTo("relative",{top:c-a.helperProportions.height,left:0}).top),o&&(i.position.top=a._convertPositionTo("relative",{top:d,left:0}).top),r&&(i.position.left=a._convertPositionTo("relative",{top:0,left:s-a.helperProportions.width}).left),l&&(i.position.left=a._convertPositionTo("relative",{top:0,left:u}).left)),m=n||o||r||l,"outer"!==h.snapMode&&(n=Math.abs(c-_)<=b,o=Math.abs(d-v)<=b,r=Math.abs(s-f)<=b,l=Math.abs(u-g)<=b,n&&(i.position.top=a._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=a._convertPositionTo("relative",{top:d-a.helperProportions.height,left:0}).top),r&&(i.position.left=a._convertPositionTo("relative",{top:0,left:s}).left),l&&(i.position.left=a._convertPositionTo("relative",{top:0,left:u-a.helperProportions.width}).left)),!a.snapElements[p].snapping&&(n||o||r||l||m)&&a.options.snap.snap&&a.options.snap.snap.call(a.element,t,e.extend(a._uiHash(),{snapItem:a.snapElements[p].item})),a.snapElements[p].snapping=n||o||r||l||m)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,a){var n,o=a.options,r=e.makeArray(e(o.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});r.length&&(n=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,a){var n=e(i.helper),o=a.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(t,i,a){var n=a.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable})},{}],34:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","../keycode","../position","../safe-active-element","../unique-id","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target),a=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&a.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.target).closest(".ui-menu-item"),a=e(t.currentTarget);i[0]===a[0]&&(this._removeClass(a.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,a))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){var i=!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=t.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var i,a,n,o,r=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:r=!1,a=this.previousFilter||"",o=!1,n=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),n===a?o=!0:n=a+n,i=this._filterMenuItems(n),i=o&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}r&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i,a,n,o,r=this,l=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),a=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev(),a=e("<span>").data("ui-menu-submenu-caret",!0);r._addClass(a,"ui-menu-icon","ui-icon "+l),i.attr("aria-haspopup","true").prepend(a),t.attr("aria-labelledby",i.attr("id"))}),this._addClass(a,"ui-menu","ui-widget ui-widget-content ui-front"),t=s.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);r._isDivider(t)&&r._addClass(t,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i,a,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),a=this.active.children(".ui-menu-item-wrapper"),this._addClass(a,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",a.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,a,n,o,r,l;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,a=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-a,o=this.activeMenu.scrollTop(),r=this.activeMenu.height(),l=t.outerHeight(),n<0?this.activeMenu.scrollTop(o+n):n+l>r&&this.activeMenu.scrollTop(o+n-r+l))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var a=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));a.length||(a=this.element),this._close(a),this.blur(t),this._removeClass(a.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=a},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var a;this.active&&(a="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),a&&a.length&&this.active||(a=this.activeMenu.find(this.options.items)[t]()),this.focus(i,a)},nextPage:function(t){var i,a,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(a=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-a-n<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,a,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(a=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-a+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),a=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return a.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))})}})})},{}],35:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var a=this,n=1===i.which,o=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(n&&!o&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return a._mouseMove(e)},this._mouseUpDelegate=function(e){return a._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})},{}],36:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./mouse","../disable-selection","../plugin","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var a=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[a]>0||(t[a]=1,n=t[a]>0,t[a]=0,n)},_create:function(){var t,i=this.options,a=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),
this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),i.autoHide&&e(this.element).on("mouseenter",function(){i.disabled||(a._removeClass("ui-resizable-autohide"),a._handles.show())}).on("mouseleave",function(){i.disabled||a.resizing||(a._addClass("ui-resizable-autohide"),a._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,i,a,n,o,r=this.options,l=this;if(this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),a=this.handles.split(","),this.handles={},i=0;i<a.length;i++)t=e.trim(a[i]),n="ui-resizable-"+t,o=e("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:r.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(o);this._renderAxis=function(t){var i,a,n,o;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:l._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(a=e(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?a.outerHeight():a.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){l.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),l.axis=o&&o[1]?o[1]:"se")}),r.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var i,a,n=!1;for(i in this.handles)a=e(this.handles[i])[0],(a===t.target||e.contains(a,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,a,n,o=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),a=this._num(this.helper.css("top")),o.containment&&(i+=e(o.containment).scrollLeft()||0,a+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:a},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:i,top:a},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,a,n=this.originalMousePosition,o=this.axis,r=t.pageX-n.left||0,l=t.pageY-n.top||0,s=this._change[o];return this._updatePrevProperties(),!!s&&(i=s.apply(this,[t,r,l]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),a=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(a)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,a,n,o,r,l,s,u=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,a=i.length&&/textarea/i.test(i[0].nodeName),n=a&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=a?0:c.sizeDiff.width,r={width:c.helper.width()-o,height:c.helper.height()-n},l=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,s=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(e.extend(r,{top:s,left:l})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,a,n,o,r=this.options;o={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,a=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),a>o.minHeight&&(o.minHeight=a),i<o.maxWidth&&(o.maxWidth=i),n<o.maxHeight&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,a=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===a&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===a&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,a=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,r=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,s=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(e.width=t.minWidth),r&&(e.height=t.minHeight),a&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),o&&u&&(e.left=l-t.minWidth),a&&u&&(e.left=l-t.maxWidth),r&&c&&(e.top=s-t.minHeight),n&&c&&(e.top=s-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],a=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseFloat(a[t])||0,i[t]+=parseFloat(n[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,a=this.originalPosition;return{left:a.left+t,width:i.width-t}},n:function(e,t,i){var a=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:a.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,a){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,a]))},sw:function(t,i,a){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,a]))},ne:function(t,i,a){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,a]))},nw:function(t,i,a){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,a]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),a=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),r=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,l=o?0:i.sizeDiff.width,s={width:i.size.width-l,height:i.size.height-r},u=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(s,c&&u?{top:c,left:u}:{}),{duration:a.animateDuration,easing:a.animateEasing,step:function(){var a={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&e(n[0]).css({width:a.width,height:a.height}),i._updateCache(a),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,a,n,o,r,l,s=e(this).resizable("instance"),u=s.options,c=s.element,d=u.containment,p=d instanceof e?d.get(0):/parent/.test(d)?c.parent().get(0):d;p&&(s.containerElement=e(p),/document/.test(d)||d===document?(s.containerOffset={left:0,top:0},s.containerPosition={left:0,top:0},s.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(p),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,a){i[e]=s._num(t.css("padding"+a))}),s.containerOffset=t.offset(),s.containerPosition=t.position(),s.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},a=s.containerOffset,n=s.containerSize.height,o=s.containerSize.width,r=s._hasScroll(p,"left")?p.scrollWidth:o,l=s._hasScroll(p)?p.scrollHeight:n,s.parentData={element:p,left:a.left,top:a.top,width:r,height:l}))},resize:function(t){var i,a,n,o,r=e(this).resizable("instance"),l=r.options,s=r.containerOffset,u=r.position,c=r._aspectRatio||t.shiftKey,d={top:0,left:0},p=r.containerElement,m=!0;p[0]!==document&&/static/.test(p.css("position"))&&(d=s),u.left<(r._helper?s.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-s.left:r.position.left-d.left),c&&(r.size.height=r.size.width/r.aspectRatio,m=!1),r.position.left=l.helper?s.left:0),u.top<(r._helper?s.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-s.top:r.position.top),c&&(r.size.width=r.size.height*r.aspectRatio,m=!1),r.position.top=r._helper?s.top:0),n=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css("position")),n&&o?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),i=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-d.left:r.offset.left-s.left)),a=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-d.top:r.offset.top-s.top)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,c&&(r.size.height=r.size.width/r.aspectRatio,m=!1)),a+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-a,c&&(r.size.width=r.size.height*r.aspectRatio,m=!1)),m||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,a=t.containerOffset,n=t.containerPosition,o=t.containerElement,r=e(t.helper),l=r.offset(),s=r.outerWidth()-t.sizeDiff.width,u=r.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(o.css("position"))&&e(this).css({left:l.left-n.left-a.left,width:s,height:u}),t._helper&&!i.animate&&/static/.test(o.css("position"))&&e(this).css({left:l.left-n.left-a.left,width:s,height:u})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var a=e(this).resizable("instance"),n=a.options,o=a.originalSize,r=a.originalPosition,l={height:a.size.height-o.height||0,width:a.size.width-o.width||0,top:a.position.top-r.top||0,left:a.position.left-r.left||0};e(n.alsoResize).each(function(){var t=e(this),a=e(this).data("ui-resizable-alsoresize"),n={},o=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var i=(a[t]||0)+(l[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),e.uiBackCompat!==!1&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),a=i.options,n=i.size,o=i.originalSize,r=i.originalPosition,l=i.axis,s="number"==typeof a.grid?[a.grid,a.grid]:a.grid,u=s[0]||1,c=s[1]||1,d=Math.round((n.width-o.width)/u)*u,p=Math.round((n.height-o.height)/c)*c,m=o.width+d,h=o.height+p,b=a.maxWidth&&a.maxWidth<m,f=a.maxHeight&&a.maxHeight<h,g=a.minWidth&&a.minWidth>m,_=a.minHeight&&a.minHeight>h;a.grid=s,g&&(m+=u),_&&(h+=c),b&&(m-=u),f&&(h-=c),/^(se|s|e)$/.test(l)?(i.size.width=m,i.size.height=h):/^(ne)$/.test(l)?(i.size.width=m,i.size.height=h,i.position.top=r.top-p):/^(sw)$/.test(l)?(i.size.width=m,i.size.height=h,i.position.left=r.left-d):((h-c<=0||m-u<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),h-c>0?(i.size.height=h,i.position.top=r.top-p):(h=c-t.height,i.size.height=h,i.position.top=r.top+o.height-h),m-u>0?(i.size.width=m,i.position.left=r.left-d):(m=u-t.width,i.size.width=m,i.position.left=r.left+o.width-m))}}),e.ui.resizable})},{}],37:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery","./button","../version","../keycode","../safe-active-element","../widget"],e):e(jQuery)}(function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}return e.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super(),i=this.element;return e.each(["min","max","step"],function(e,a){var n=i.attr(a);null!=n&&n.length&&(t[a]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var t=this.element[0]===e.ui.safeActiveElement(this.document[0]);t||(this.element.trigger("focus"),this.previous=a,this._delay(function(){this.previous=a}))}var a;a=this.element[0]===e.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return this._start(t)!==!1&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var i=this.options,a=e.ui.keyCode;switch(t.keyCode){case a.UP:return this._repeat(null,1,t),!0;case a.DOWN:return this._repeat(null,-1,t),!0;case a.PAGE_UP:return this._repeat(null,i.page,t),!0;case a.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_start:function(e){return!(!this.spinning&&this._trigger("start",e)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_adjustValue:function(e){var t,i,a=this.options;return t=null!==a.min?a.min:0,i=e-t,i=Math.round(i/a.step)*a.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==a.max&&e>a.max?a.max:null!==a.min&&e<a.min?a.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var i,a,n;return"culture"===e||"numberFormat"===e?(i=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(i))):("max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(a=this.buttons.first().find(".ui-icon"),this._removeClass(a,null,this.options.icons.up),this._addClass(a,null,t.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,t.down)),void this._super(e,t))},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:t(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void t(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.uiBackCompat!==!1&&e.widget("ui.spinner",e.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),e.ui.spinner})},{}],38:[function(e,t,i){(function(e){"use strict";var i="undefined"!=typeof window?window.ko:"undefined"!=typeof e?e.ko:null,a="undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null;i.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:!0}}},i.virtualElements.allowedBindings.stopBinding=!0,i.bindingHandlers.lazyBinding={init:function(e,t,a,n,o){return i.utils.domData.set(e,"isBound",!1),{controlsDescendantBindings:!0}},update:function(e,t,a,n,o){var r=i.unwrap(t()),l=i.utils.domData.get(e,"isBound");r&&!l&&(i.utils.domData.set(e,"isBound",!0),i.applyBindingsToDescendants(o,e))}},i.virtualElements.allowedBindings.lazyBinding=!0,i.bindingHandlers.itemBuildTable={init:function(e,t,n,o,r){var l=i.unwrap(t()),s=(a(e),{});i.utils.domData.set(e,"pressedKeys",s);var u=function(t){var a=i.utils.domData.get(e,"pressedKeys");a[t.which]=!0,i.utils.domData.set(e,"pressedKeys",a)};i.utils.domData.set(e,"keyDownHandler",u);var c=function(t){var n=i.utils.domData.get(e,"pressedKeys");if(n[17]&&n[67]||n[17]&&n[86]){var o=a(e).find(".hover-cursor:hover");1==o.length&&(n[67]?l.copyInventoryToClipBoard(a("tr",a(e)).index(o[0])):l.pasteInventoryFromClipBoard(a("tr",a(e)).index(o[0])),o.fadeOut(50).fadeIn(50))}delete n[t.which],i.utils.domData.set(e,"pressedKeys",n)};i.utils.domData.set(e,"keyUpHandler",c),a(document).bind("keydown",u),a(document).bind("keyup",c),i.utils.domNodeDisposal.addDisposeCallback(e,function(){var t=i.utils.domData.get(e,"keyDownHandler"),n=i.utils.domData.get(e,"keyUpHandler");a(document).unbind("keydown",t),a(document).unbind("keyup",n)})}},i.bindingHandlers.preventBubble={init:function(e,t){var a=i.utils.unwrapObservable(t());i.utils.registerEventHandler(e,a,function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()})}},i.bindingHandlers.toggle={init:function(e,t){var a=t();i.applyBindingsToNode(e,{click:function(){a(!a())}})}},i.bindingHandlers.shopDockStyle={init:function(e,t,a,n,o){i.utils.unwrapObservable(t());o.$data.shopDock()&&!o.$data.shopPopout()?i.applyBindingsToNode(e,{style:{height:o.$data.windowHeight()-52+"px",position:"fixed",right:0,top:"52px","overflow-y":"auto"}}):i.applyBindingsToNode(e,{style:{height:"auto",position:"relative",right:"initial",top:"initial","overflow-y":"initial"}})},update:function(e,t,a,n,o){i.utils.unwrapObservable(t());o.$data.shopDock()&&!o.$data.shopPopout()?i.applyBindingsToNode(e,{style:{height:o.$data.windowHeight()-52+"px",position:"fixed",right:0,top:"52px","overflow-y":"auto"}}):i.applyBindingsToNode(e,{style:{height:"auto",position:"relative",right:"initial",top:"initial","overflow-y":"initial"}})}},i.bindingHandlers.logger={update:function(e,t,a){var n=i.utils.domData.get(e,"_ko_logger")||0,o=i.toJS(t()||a());i.utils.domData.set(e,"_ko_logger",++n),window.console&&console.log&&console.log(n,e,o)}},i.bindingHandlers.tooltip={update:function(e,t,n,o,r){var l,s,u;if(s=i.utils.unwrapObservable(t()),l=a(e),i.isObservable(s.title)){var c=!1;l.on("show.bs.tooltip",function(){c=!0}),l.on("hide.bs.tooltip",function(){c=!1});var d=s.animation||!0;s.title.subscribe(function(){c&&(l.data("bs.tooltip").options.animation=!1,l.tooltip("fixTitle").tooltip("show"),l.data("bs.tooltip").options.animation=d)})}u=l.data("bs.tooltip"),u?a.extend(u.options,s):l.tooltip(s)}},i.bindingHandlers.popover={init:function(e,t,n,o,r){var l=a(e),s=i.utils.unwrapObservable(t()),u=s.template||!1,c=s.options||{title:"popover"},d=s.data||!1;return u!==!1&&(d?c.content="<!-- ko template: { name: template, if: data, data: data } --><!-- /ko -->":c.content=a("#"+u).html(),c.html=!0),l.on("shown.bs.popover",function(e){var t=a(e.target).data(),n=t["bs.popover"].$tip,o=t["bs.popover"].options||{},l=a(e.target),s=l.position(),c={x:l.outerWidth(),y:l.outerHeight()};d&&i.applyBindingsToNode(n[0],{template:{name:u,data:d}},r);var p={x:n.outerWidth(),y:n.outerHeight()};switch(n.find('button[data-dismiss="popover"]').click(function(){l.popover("hide")}),o.placement){case"right":n.css({left:c.x+s.left,top:c.y/2+s.top-p.y/2});break;case"left":n.css({left:s.left-p.x,top:c.y/2+s.top-p.y/2});break;case"top":n.css({left:s.left+(c.x/2-p.x/2),top:s.top-p.y});break;case"bottom":n.css({left:s.left+(c.x/2-p.x/2),top:s.top+c.y})}}),l.popover(c),{controlsDescendantBindings:!0}}},i.bindingHandlers.chart={init:function(e,t,n,o,r){var l=a("<canvas/>"),s=i.utils.unwrapObservable(t()),u=l[0].getContext("2d"),c=n().chartType,d=n().chartOptions||{},p=n().chartContext;a(e).append(l);var m=new Chart(u)[c](s,d);i.utils.domData.set(e,"myChart",m),i.utils.domNodeDisposal.addDisposeCallback(e,function(){var t=i.utils.domData.get(e,"myChart");t.clear(),t.destroy()}),p&&p(u)},update:function(e,t,n,o,r){var l=a("<canvas/>").width(730).height(365),s=i.utils.unwrapObservable(t()),u=l[0].getContext("2d"),c=n().chartType,d=n().chartOptions||{},p=n().chartContext,m=i.utils.domData.get(e,"myChart");m&&(m.clear(),m.destroy()),r.$root.displayShop(),r.$root.sideView(),r.$root.shopDock(),a(e).empty(),a(e).append(l),s.datasets.length>0&&(m=new Chart(u)[c](s,d),i.utils.domData.set(e,"myChart",m)),p&&p(u)}},i.bindingHandlers.spinner={init:function(e,t,n){var o=n().spinnerOptions||{};o.icons=o.icons||{down:"glyphicon glyphicon-triangle-bottom",up:"glyphicon glyphicon-triangle-top"},a(e).spinner(o),i.utils.registerEventHandler(e,"spinchange",function(){var i=t();i(a(e).spinner("value"))}),i.utils.domNodeDisposal.addDisposeCallback(e,function(){a(e).spinner("destroy")})},update:function(e,t){var n=i.utils.unwrapObservable(t()),o=a(e).spinner("value");n!==o&&a(e).spinner("value",n)}},i.bindingHandlers.secondTab={update:function(e,t,a,n,o){var r=o.$root,l=i.utils.unwrapObservable(t());i.applyBindingsToNode(e,{css:{"second-tab":r.isSecondTab(l)&&r.sideView()}})}},i.bindingHandlers.hoverTab={update:function(e,t,a,n,o){var r=o.$root,l=i.utils.unwrapObservable(t());i.utils.registerEventHandler(e,"mouseover",function(){r.highlightTab(l)}),i.utils.registerEventHandler(e,"mouseout",function(){r.unhighlightTab(l)})}},i.bindingHandlers.hoverPaneStyle={init:function(e,t,a,n,o){var r=o.$root,l=i.utils.unwrapObservable(t());i.applyBindingsToNode(e,{style:{opacity:r.sideView()&&r.highlightedTab()!=l&&""!=r.highlightedTab()?.5:1}})},update:function(e,t,a,n,o){var r=o.$root,l=i.utils.unwrapObservable(t());i.applyBindingsToNode(e,{style:{opacity:r.sideView()&&r.highlightedTab()!=l&&""!=r.highlightedTab()?.5:1}})}},i.bindingHandlers.diffStyle={init:function(e,t,a,n){var o=i.utils.unwrapObservable(t());i.applyBindingsToNode(e,{css:{diffPos:o>0,diffNeg:o<0}})},update:function(e,t,a,n){var o=i.utils.unwrapObservable(t());i.applyBindingsToNode(e,{css:{diffPos:o>0,diffNeg:o<0}})}},i.bindingHandlers.diffCss={init:function(e,t,a,n){var o=i.utils.unwrapObservable(t()),r=a().diffCssStat;"attackTime"!=r&&"bat"!=r||(o=-o),i.applyBindingsToNode(e,{css:{diffPos:o>0,diffNeg:o<0}})},update:function(e,t,a,n){var o=i.utils.unwrapObservable(t()),r=a().diffCssStat;"attackTime"!=r&&"bat"!=r||(o=-o),i.applyBindingsToNode(e,{css:{diffPos:o>0,diffNeg:o<0}})}},i.bindingHandlers.jqAuto={init:function(e,t,n,o){function r(e){i.isWriteableObservable(c)?c(e):s._ko_property_writers&&s._ko_property_writers.jqAutoValue&&s._ko_property_writers.jqAutoValue(e)}var l=t()||{},s=n(),u=i.utils.unwrapObservable,c=s.jqAutoValue,d=s.jqAutoSource,p=s.jqAutoSourceValue,m=s.jqAutoSourceInputValue||p,h=s.jqAutoSourceLabel||p;l.select=function(e,t){r(t.item?t.item.actualValue:null)},l.change=function(t,n){var o=a(e).val(),l=i.utils.arrayFirst(u(d),function(e){return u(e[m])===o});l||r(null)};var b=i.dependentObservable(function(){var e=i.utils.arrayMap(u(d),function(e){
var t={};return t.label=h?u(e[h]):u(e).toString(),t.value=m?u(e[m]):u(e).toString(),t.actualValue=p?u(e[p]):e,t});return e});b.subscribe(function(t){a(e).autocomplete("option","source",t)}),l.source=b(),l.minLength=1,a(e).autocomplete(l)},update:function(e,t,n,o){var r=n(),l=i.utils.unwrapObservable,s=l(r.jqAutoValue)||"",u=r.jqAutoSourceValue,c=r.jqAutoSourceInputValue||u;if(u&&c!==u)var d=l(r.jqAutoSource)||[],s=i.utils.arrayFirst(d,function(e){return l(e[u])===s})||{};a(e).val(s&&c!==u?l(s[c]):s.toString())}},i.bindingHandlers.jqAutoCombo={init:function(e,t){var i=a("#"+t());a(e).click(function(){return i.autocomplete("widget").is(":visible")?void i.autocomplete("close"):(i.autocomplete("search"," "),void i.focus())})}},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(e,t,i){(function(t){"use strict";var i="undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null,a=e("dota-hero-calculator-library");a.prototype.itemtooltipdata={},a.prototype.ability_vars={$health:"Health",$mana:"Mana",$armor:"Armor",$damage:"Damage",$str:"Strength",$int:"Intelligence",$agi:"Agility",$all:"All Attributes",$attack:"Attack Speed",$hp_regen:"HP Regeneration",$mana_regen:"Mana Regeneration",$move_speed:"Movement Speed",$evasion:"Evasion",$spell_resist:"Spell Resistance",$selected_attribute:"Selected Attribute",$selected_attrib:"Selected Attribute",$cast_range:"Cast Range",$attack_range:"Attack Range"},a.prototype.abilityTooltipData={},a.prototype.abilityDamageTypes={DAMAGE_TYPE_MAGICAL:"Magical",DAMAGE_TYPE_PURE:"Pure",DAMAGE_TYPE_PHYSICAL:"Physical",DAMAGE_TYPE_COMPOSITE:"Composite",DAMAGE_TYPE_HP_REMOVAL:"HP Removal"},a.prototype.getTooltipItemDescription=function(e){for(var t=e.description,i=0;i<e.attributes.length;i++)if(null!=e.attributes[i].name){for(var a=e.attributes[i].name,n=e.attributes[i].value[0],o=1;o<e.attributes[i].value.length;o++)n+=" / "+e.attributes[i].value[o];var r=new RegExp("%"+a+"%","gi");t=t.replace(r,n)}var r=new RegExp("%%","gi");return t=t.replace(r,"%"),r=new RegExp("\n","gi"),t=t.replace(/\\n/g,"<br>")},a.prototype.getTooltipItemAttributes=function(e){for(var t="",i=0;i<e.attributes.length;i++)if(null!=e.attributes[i].tooltip){for(var n=e.attributes[i].tooltip,o=e.attributes[i].value[0],r=1;r<e.attributes[i].value.length;r++)o+=" / "+e.attributes[i].value[r];var l=n.indexOf("%");0==l&&(o+="%",n=n.slice(1));var s=n.indexOf("$");t=s!=-1?t+n.slice(0,s)+" "+o+" "+a.prototype.ability_vars[n.slice(s)]+"<br>":t+n+" "+o+"<br>"}return t.trim("<br>")},a.prototype.getTooltipItemCooldown=function(e){for(var t="",i=0;i<e.cooldown.length;i++)t=t+" "+e.cooldown[i];return t},a.prototype.getTooltipItemManaCost=function(e){for(var t="",i=0;i<e.manacost.length;i++)e.manacost[i]>0&&(t=t+" "+e.manacost[i]);return t},a.prototype.getItemTooltipData=function(e){if(void 0!=a.prototype.itemData["item_"+e]){if(void 0==a.prototype.itemtooltipdata[e]){var t=a.prototype.itemData["item_"+e],n=i("<div>");n.append(i("<span>").html(t.displayname).addClass("item_field item_name")),n.append(i("<span>").html(t.itemcost).addClass("item_field item_cost")),n.append(i("<hr>")),null!=t.description&&n.append(i("<div>").html(a.prototype.getTooltipItemDescription(t)).addClass("item_field item_description"));var o=a.prototype.getTooltipItemAttributes(t);""!=o&&n.append(i("<div>").html(o).addClass("item_field item_attributes"));var r=a.prototype.getTooltipItemCooldown(t),l=a.prototype.getTooltipItemManaCost(t);if(""!=r||""!=l){var s=i("<div>").addClass("item_cdmana");""!=r&&s.append(i("<span>").html(r).addClass("item_field item_cooldown")),""!=l&&s.append(i("<span>").html(l).addClass("item_field item_manacost")),n.append(s)}return null!=t.lore&&n.append(i("<div>").html(t.lore).addClass("item_field item_lore")),a.prototype.itemtooltipdata[e]=n.html(),n.html()}return a.prototype.itemtooltipdata[e]}},a.prototype.getTooltipAbilityDescription=function(e){for(var t=e.description,i=0;i<e.attributes.length;i++)if(null!=e.attributes[i].name){for(var a=e.attributes[i].name,n=e.attributes[i].value[0],o=1;o<e.attributes[i].value.length;o++)n+=" / "+e.attributes[i].value[o];r=new RegExp("%"+a+"%","gi"),t=t.replace(r,n)}var r=new RegExp("%%","gi");return t=t.replace(r,"%"),r=new RegExp("\n","gi"),t=t.replace(/\\n/g,"<br>")},a.prototype.getTooltipAbilityAttributes=function(e){var t="";if(e.damage.length>0&&e.damage.reduce(function(e,t){return e+t},0)>0){for(var i="DAMAGE: ",a=e.damage[0],n=1;n<e.damage.length;n++)a+=" / "+e.damage[n];t=t+i+" "+a+"<br>"}for(var o=0;o<e.attributes.length;o++)if(null!=e.attributes[o].tooltip){var i=e.attributes[o].tooltip;i=i.replace(/\\n/g,"");for(var a=e.attributes[o].value[0],n=1;n<e.attributes[o].value.length;n++)a+=" / "+e.attributes[o].value[n];var r=i.indexOf("%");if(0==r){if(a.toString().indexOf("/")==-1)a=a.toString().trim()+"%";else{var l=a.split("/"),s=l.map(function(e){return e.trim()});a=s.join("% / ")+"%"}i=i.slice(1)}i.indexOf("$");t=t+i+" "+a+"<br>"}return t.trim("<br>")},a.prototype.getTooltipAbilityManaCost=function(e){var t="";if(0==e.manacost.reduce(function(e,t){return e+t},0))return t;if(e.manacost.every(function(t){return t==e.manacost[0]}))return e.manacost[0].toString();for(var i=0;i<4;i++)null!=e.manacost[i]&&(t=t+" "+e.manacost[i]);return t},a.prototype.getTooltipAbilityCooldown=function(e){var t="";if(0==e.cooldown.reduce(function(e,t){return e+t},0))return t;if(e.cooldown.every(function(t){return t==e.cooldown[0]}))return e.cooldown[0].toString();for(var i=0;i<4;i++)null!=e.cooldown[i]&&(t=t+" "+e.cooldown[i]);return t},a.prototype.getAbilityTooltipData=function(e,t){if(void 0==a.prototype.abilityTooltipData[t]){var n={};if(void 0==a.prototype.heroData["npc_dota_hero_"+e])for(var o=0;o<a.prototype.unitData[e].abilities.length;o++)a.prototype.unitData[e].abilities[o].name==t&&(n=a.prototype.unitData[e].abilities[o]);else for(var o=0;o<a.prototype.heroData["npc_dota_hero_"+e].abilities.length;o++)a.prototype.heroData["npc_dota_hero_"+e].abilities[o].name==t&&(n=a.prototype.heroData["npc_dota_hero_"+e].abilities[o]);var r=i("<div>");r.append(i("<span>").html(n.displayname).addClass("item_field pull-left item_name")),n.abilityunitdamagetype&&r.append(i("<span>").html(a.prototype.abilityDamageTypes[n.abilityunitdamagetype]).addClass("item_field pull-right item_ability_damage_type").css("margin-right","10px")),r.append(i("<hr>").css("clear","both")),null!=n.description&&r.append(i("<div>").html(a.prototype.getTooltipAbilityDescription(n)).addClass("item_field item_description"));var l=a.prototype.getTooltipAbilityAttributes(n);""!=l&&r.append(i("<div>").html(l).addClass("item_field item_attributes"));var s=a.prototype.getTooltipAbilityCooldown(n),u=a.prototype.getTooltipAbilityManaCost(n);if(""!=s||""!=u){var c=i("<div>").addClass("item_cdmana");""!=u&&c.append(i("<span>").html(u.trim()).addClass("item_field item_manacost")),""!=s&&c.append(i("<span>").html(s.trim()).addClass("item_field item_cooldown")),r.append(c)}return null!=n.lore&&r.append(i("<div>").html(n.lore).addClass("item_field item_lore")),a.prototype.abilityTooltipData[t]=r.html(),r.html()}return a.prototype.abilityTooltipData[t]},a.prototype.AbilityModel.prototype.getAbilityTooltipData=a.prototype.getAbilityTooltipData}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"dota-hero-calculator-library":12}],40:[function(e,t,i){(function(e){"use strict";var i="undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null,a={},n={$health:"Health",$mana:"Mana",$armor:"Armor",$damage:"Damage",$str:"Strength",$int:"Intelligence",$agi:"Agility",$all:"All Attributes",$attack:"Attack Speed",$hp_regen:"HP Regeneration",$mana_regen:"Mana Regeneration",$move_speed:"Movement Speed",$evasion:"Evasion",$spell_resist:"Spell Resistance",$selected_attribute:"Selected Attribute",$selected_attrib:"Selected Attribute",$cast_range:"Cast Range",$attack_range:"Attack Range"},o=function(e){for(var t=e.description,i=0;i<e.attributes.length;i++)if(null!=e.attributes[i].name){for(var a=e.attributes[i].name,n=e.attributes[i].value[0],o=1;o<e.attributes[i].value.length;o++)n+=" / "+e.attributes[i].value[o];var r=new RegExp("%"+a+"%","gi");t=t.replace(r,n)}var r=new RegExp("%%","gi");return t=t.replace(r,"%"),r=new RegExp("\n","gi"),t=t.replace(/\\n/g,"<br>")},r=function(e){for(var t="",i=0;i<e.attributes.length;i++)if(null!=e.attributes[i].tooltip){for(var a=e.attributes[i].tooltip,o=e.attributes[i].value[0],r=1;r<e.attributes[i].value.length;r++)o+=" / "+e.attributes[i].value[r];var l=a.indexOf("%");0==l&&(o+="%",a=a.slice(1));var s=a.indexOf("$");t=s!=-1?t+a.slice(0,s)+" "+o+" "+n[a.slice(s)]+"<br>":t+a+" "+o+"<br>"}return t.trim("<br>")},l=function(e){for(var t="",i=0;i<e.cooldown.length;i++)t=t+" "+e.cooldown[i];return t},s=function(e){for(var t="",i=0;i<e.manacost.length;i++)e.manacost[i]>0&&(t=t+" "+e.manacost[i]);return t},u=function(e,t){if(void 0!=e["item_"+t]){if(void 0==a[t]){var n=e["item_"+t],u=i("<div>");u.append(i("<span>").html(n.displayname).addClass("item_field item_name")),u.append(i("<span>").html(n.itemcost).addClass("item_field item_cost")),u.append(i("<hr>")),null!=n.description&&u.append(i("<div>").html(o(n)).addClass("item_field item_description"));var c=r(n);""!=c&&u.append(i("<div>").html(c).addClass("item_field item_attributes"));var d=l(n),p=s(n);if(""!=d||""!=p){var m=i("<div>").addClass("item_cdmana");""!=d&&m.append(i("<span>").html(d).addClass("item_field item_cooldown")),""!=p&&m.append(i("<span>").html(p).addClass("item_field item_manacost")),u.append(m)}return null!=n.lore&&u.append(i("<div>").html(n.lore).addClass("item_field item_lore")),a[t]=u.html(),u.html()}return a[t]}};t.exports=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],41:[function(e,t,i){(function(t){"use strict";function i(e,t){var i=new RegExp(a.ui.autocomplete.escapeRegex(t),"i");return a.grep(e,function(e){return i.test(a("<div>").html(e.label||e.value||e).text())})}var a="undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null;e("jquery-ui"),e("../../../node_modules/jquery-ui/ui/version"),e("../../../node_modules/jquery-ui/ui/widget"),e("../../../node_modules/jquery-ui/ui/unique-id"),e("../../../node_modules/jquery-ui/ui/safe-active-element"),e("../../../node_modules/jquery-ui/ui/keycode"),e("../../../node_modules/jquery-ui/ui/position"),e("../../../node_modules/jquery-ui/ui/focusable"),e("../../../node_modules/jquery-ui/ui/tabbable"),e("../../../node_modules/jquery-ui/ui/plugin"),e("../../../node_modules/jquery-ui/ui/ie"),e("../../../node_modules/jquery-ui/ui/data"),e("../../../node_modules/jquery-ui/ui/scroll-parent"),e("../../../node_modules/jquery-ui/ui/disable-selection"),e("../../../node_modules/jquery-ui/ui/safe-blur"),e("../../../node_modules/jquery-ui/ui/widgets/button"),e("../../../node_modules/jquery-ui/ui/widgets/spinner"),e("../../../node_modules/jquery-ui/ui/widgets/menu"),e("../../../node_modules/jquery-ui/ui/widgets/autocomplete"),e("../../../node_modules/jquery-ui/ui/widgets/mouse"),e("../../../node_modules/jquery-ui/ui/widgets/draggable"),e("../../../node_modules/jquery-ui/ui/widgets/resizable"),e("../../../node_modules/jquery-ui/ui/widgets/dialog");var n=a.ui.autocomplete.prototype,o=n._initSource;a.extend(n,{_initSource:function(){this.options.html&&a.isArray(this.options.source)?this.source=function(e,t){t(i(this.options.source,e.term))}:o.call(this)},_renderItem:function(e,t){return a("<li></li>").data("item.autocomplete",t).append(a("<a></a>")[this.options.html?"html":"text"](t.label)).appendTo(e)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../node_modules/jquery-ui/ui/data":16,"../../../node_modules/jquery-ui/ui/disable-selection":17,"../../../node_modules/jquery-ui/ui/focusable":18,"../../../node_modules/jquery-ui/ui/ie":19,"../../../node_modules/jquery-ui/ui/keycode":20,"../../../node_modules/jquery-ui/ui/plugin":21,"../../../node_modules/jquery-ui/ui/position":22,"../../../node_modules/jquery-ui/ui/safe-active-element":23,"../../../node_modules/jquery-ui/ui/safe-blur":24,"../../../node_modules/jquery-ui/ui/scroll-parent":25,"../../../node_modules/jquery-ui/ui/tabbable":26,"../../../node_modules/jquery-ui/ui/unique-id":27,"../../../node_modules/jquery-ui/ui/version":28,"../../../node_modules/jquery-ui/ui/widget":29,"../../../node_modules/jquery-ui/ui/widgets/autocomplete":30,"../../../node_modules/jquery-ui/ui/widgets/button":31,"../../../node_modules/jquery-ui/ui/widgets/dialog":32,"../../../node_modules/jquery-ui/ui/widgets/draggable":33,"../../../node_modules/jquery-ui/ui/widgets/menu":34,"../../../node_modules/jquery-ui/ui/widgets/mouse":35,"../../../node_modules/jquery-ui/ui/widgets/resizable":36,"../../../node_modules/jquery-ui/ui/widgets/spinner":37,"jquery-ui":29}],42:[function(e,t,i){function a(e){var t=this;t.windowWidth=e.windowWidth,t.windowHeight=e.windowHeight,t.displayShop=e.displayShop,t.displayShopItemTooltip=e.displayShopItemTooltip,t.shopDock=e.shopDock,t.shopDockTrigger=e.shopDockTrigger,t.shopPopout=e.shopPopout,t.selectedItem=e.selectedItem,t.addItem=e.addItem,t.changeSelectedItem=e.changeSelectedItem,t.getItemTooltipData=e.getItemTooltipData,t.getItemInputLabel=e.getItemInputLabel,t.itemInputValue=e.itemInputValue,t.itemOptions=e.itemOptions}t.exports={viewModel:a,template:'        <div id="shop-container" class="col-md-12 col-lg-4" data-bind="shopDockStyle: shopDockTrigger, visible: displayShop() || shopPopout(), css: {\'col-lg-4\': !shopPopout()}, style: { \'padding-top\': shopPopout() ? \'5px\' : \'0px\'}">\n              <button id="shop-minimize" class="btn btn-default btn-xs shop-button glyphicon glyphicon-minus pull-right" data-bind="toggle: displayShop, visible: displayShop()" title="Minimize shop"></button>\n              <button id="shop-maximize" class="btn btn-default btn-xs shop-button glyphicon glyphicon-plus pull-right" data-bind="toggle: displayShop, visible: !displayShop()" title="Maximize shop"></button>\n              <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-new-window pull-right hidden-xs" data-bind="click: shopPopout, visible: !shopPopout()" title="Popout shop"></button>\n              <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-align-right pull-right hidden-xs" data-bind="toggle: shopDock, attr: { title: shopDock() ? \'Undock shop to right side of screen\' : \'Dock shop to right side of screen\' }" ></button>\n            <ul id="shoptabs" class="nav nav-tabs" data-bind="visible: displayShop()">\n              <li><a href="#shop_basic" data-toggle="tab">Basic</a></li>\n              <li><a href="#shop_upgrade" data-toggle="tab">Upgrade</a></li>\n              <li><a href="#shop_secret" data-toggle="tab">Secret</a></li>\n            </ul>\n            <div class="tab-content text-center bottom-buffer2" data-bind="visible: displayShop()">\n                <div class="tab-pane active" id="shop_basic">\n<div class="shop-column">\n  <div class="hc-shop hc-shop-consumables" id="consumables"></div>\n  <div class="img-rounded hc-item hc-item-clarity" id="clarity" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-faerie_fire" id="faerie_fire" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-enchanted_mango" id="enchanted_mango" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-tango" id="tango" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-flask" id="flask" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-smoke_of_deceit" id="smoke_of_deceit" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-tpscroll" id="tpscroll" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-dust" id="dust" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-courier" id="courier" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-flying_courier" id="flying_courier" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ward_observer" id="ward_observer" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ward_sentry" id="ward_sentry" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-tome_of_knowledge" id="tome_of_knowledge" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-bottle" id="bottle" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-attributes" id="attributes"></div>\n  <div class="img-rounded hc-item hc-item-branches" id="branches" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-gauntlets" id="gauntlets" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-slippers" id="slippers" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-mantle" id="mantle" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-circlet" id="circlet" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-belt_of_strength" id="belt_of_strength" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-boots_of_elves" id="boots_of_elves" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-robe" id="robe" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ogre_axe" id="ogre_axe" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-blade_of_alacrity" id="blade_of_alacrity" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-staff_of_wizardry" id="staff_of_wizardry" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-emptyitembg" id="emptyitembg"></div>\n  <div class="img-rounded hc-item hc-item-emptyitembg" id="emptyitembg"></div>\n  <div class="img-rounded hc-item hc-item-emptyitembg" id="emptyitembg"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-armaments" id="armaments"></div>\n  <div class="img-rounded hc-item hc-item-ring_of_protection" id="ring_of_protection" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-stout_shield" id="stout_shield" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-quelling_blade" id="quelling_blade" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-infused_raindrop" id="infused_raindrop" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-blight_stone" id="blight_stone" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-orb_of_venom" id="orb_of_venom" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-blades_of_attack" id="blades_of_attack" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-chainmail" id="chainmail" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-quarterstaff" id="quarterstaff" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-helm_of_iron_will" id="helm_of_iron_will" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-broadsword" id="broadsword" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-claymore" id="claymore" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-javelin" id="javelin" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-mithril_hammer" id="mithril_hammer" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-arcane" id="arcane"></div>\n  <div class="img-rounded hc-item hc-item-wind_lace" id="wind_lace" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-magic_stick" id="magic_stick" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-sobi_mask" id="sobi_mask" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ring_of_regen" id="ring_of_regen" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-boots" id="boots" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-gloves" id="gloves" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-cloak" id="cloak" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ring_of_health" id="ring_of_health" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-void_stone" id="void_stone" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-gem" id="gem" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-lifesteal" id="lifesteal" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-shadow_amulet" id="shadow_amulet" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ghost" id="ghost" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-blink" id="blink" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n\n\n                </div>\n                <div class="tab-pane" id="shop_upgrade">\n<div class="shop-column">\n  <div class="hc-shop hc-shop-common" id="common"></div>\n  <div class="img-rounded hc-item hc-item-magic_wand" id="magic_wand" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-null_talisman" id="null_talisman" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-wraith_band" id="wraith_band" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-poor_mans_shield" id="poor_mans_shield" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-bracer" id="bracer" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-soul_ring" id="soul_ring" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-phase_boots" id="phase_boots" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-power_treads" id="power_treads" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-oblivion_staff" id="oblivion_staff" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-pers" id="pers" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-hand_of_midas" id="hand_of_midas" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-travel_boots" id="travel_boots" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-moon_shard" id="moon_shard" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-emptyitembg" id="emptyitembg"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-support" id="support"></div>\n  <div class="img-rounded hc-item hc-item-ring_of_basilius" id="ring_of_basilius" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-iron_talon" id="iron_talon" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-headdress" id="headdress" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-buckler" id="buckler" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-urn_of_shadows" id="urn_of_shadows" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-tranquil_boots" id="tranquil_boots" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ring_of_aquila" id="ring_of_aquila" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-medallion_of_courage" id="medallion_of_courage" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-arcane_boots" id="arcane_boots" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ancient_janggo" id="ancient_janggo" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-mekansm" id="mekansm" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-vladmir" id="vladmir" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-pipe" id="pipe" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-guardian_greaves" id="guardian_greaves" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-caster" id="caster"></div>\n  <div class="img-rounded hc-item hc-item-glimmer_cape" id="glimmer_cape" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-force_staff" id="force_staff" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-veil_of_discord" id="veil_of_discord" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-aether_lens" id="aether_lens" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-necronomicon" id="necronomicon" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-dagon" id="dagon" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-cyclone" id="cyclone" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-solar_crest" id="solar_crest" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-rod_of_atos" id="rod_of_atos" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-orchid" id="orchid" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ultimate_scepter" id="ultimate_scepter" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-refresher" id="refresher" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-sheepstick" id="sheepstick" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-octarine_core" id="octarine_core" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-weapons" id="weapons"></div>\n  <div class="img-rounded hc-item hc-item-lesser_crit" id="lesser_crit" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-armlet" id="armlet" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-invis_sword" id="invis_sword" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-basher" id="basher" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-bfury" id="bfury" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ethereal_blade" id="ethereal_blade" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-silver_edge" id="silver_edge" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-radiance" id="radiance" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-monkey_king_bar" id="monkey_king_bar" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-greater_crit" id="greater_crit" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-butterfly" id="butterfly" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-rapier" id="rapier" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-abyssal_blade" id="abyssal_blade" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-bloodthorn" id="bloodthorn" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-armor" id="armor"></div>\n  <div class="img-rounded hc-item hc-item-hood_of_defiance" id="hood_of_defiance" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-vanguard" id="vanguard" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-blade_mail" id="blade_mail" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-soul_booster" id="soul_booster" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-crimson_guard" id="crimson_guard" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-black_king_bar" id="black_king_bar" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-lotus_orb" id="lotus_orb" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-shivas_guard" id="shivas_guard" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-bloodstone" id="bloodstone" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-manta" id="manta" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-sphere" id="sphere" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-hurricane_pike" id="hurricane_pike" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-assault" id="assault" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-heart" id="heart" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-artifacts" id="artifacts"></div>\n  <div class="img-rounded hc-item hc-item-mask_of_madness" id="mask_of_madness" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-helm_of_the_dominator" id="helm_of_the_dominator" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-dragon_lance" id="dragon_lance" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-sange" id="sange" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-yasha" id="yasha" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-echo_sabre" id="echo_sabre" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-maelstrom" id="maelstrom" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-diffusal_blade" id="diffusal_blade" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-desolator" id="desolator" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-heavens_halberd" id="heavens_halberd" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-sange_and_yasha" id="sange_and_yasha" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-skadi" id="skadi" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-mjollnir" id="mjollnir" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-satanic" id="satanic" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n                </div>\n                <div class="tab-pane" id="shop_secret">\n<div class="shop-column">\n  <div class="hc-shop hc-shop-secret" id="secret"></div>\n  <div class="img-rounded hc-item hc-item-energy_booster" id="energy_booster" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-vitality_booster" id="vitality_booster" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-point_booster" id="point_booster" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-platemail" id="platemail" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-talisman_of_evasion" id="talisman_of_evasion" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-hyperstone" id="hyperstone" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ultimate_orb" id="ultimate_orb" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-demon_edge" id="demon_edge" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-mystic_staff" id="mystic_staff" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-eagle" id="eagle" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-reaver" id="reaver" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded hc-item hc-item-relic" id="relic" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n                </div>\n            </div>\n\n            <div class="form-group" data-bind="visible: displayShop()">\n                <div class="input-group">\n                    <input class="form-control" id="auto" data-bind="jqAuto: { autoFocus: true, html: true }, jqAutoSource: itemOptions, jqAutoValue: selectedItem, jqAutoSourceLabel: \'displayname\', jqAutoSourceInputValue: \'name\', jqAutoSourceValue: \'value\'" />\n                    <span class="input-group-btn">\n                        <button class="btn btn-default" data-bind="jqAutoCombo: \'auto\'"><span class="glyphicon glyphicon-search"></span></button>\n                    </span>\n                </div>\n            </div>\n\n            <div data-bind="visible: selectedItem() && displayShop()">\n                <button class="btn btn-default btn-xs glyphicon glyphicon-minus pull-right" data-bind="toggle: displayShopItemTooltip, visible: displayShopItemTooltip()" title="Hide item description"></button>\n                <button class="btn btn-default btn-xs glyphicon glyphicon-plus pull-right" data-bind="toggle: displayShopItemTooltip, visible: !displayShopItemTooltip()" title="Show item description"></button>\n                <div data-bind="html: getItemTooltipData, css: { \'hide-shop-item-details\': !displayShopItemTooltip() }"></div>\n                <div style="margin-top:10px;margin-bottom:10px;" class="form-inline" data-bind="visible: getItemInputLabel() != \'\'">\n                    <div class="form-group">\n                        <label for="iteminput" data-bind="text: getItemInputLabel"></label>\n                        <input class="form-control" id="iteminput" data-bind="value: itemInputValue" />\n                    </div>\n                </div>\n                <div class="form-group text-right">\n                    <button class="btn btn-default" data-bind="click: addItem">Add Item</button>\n                </div>\n            </div>\n        </div>'
}},{}],43:[function(e,t,i){e("./app/jquery-ui.custom");var a=e("./app/herocalc_knockout");e("./app/herocalc_tooltips");var n=e("dota-hero-calculator-library"),o=e("./app/herocalc_tooltips_item");a.components.register("shop",e("./components/shop")),a.bindingHandlers.toggle={init:function(e,t){var i=t();a.applyBindingsToNode(e,{click:function(){i(!i())}})}},a.bindingHandlers.class={update:function(e,t){e.__ko__previousClassValue__&&$(e).removeClass(e.__ko__previousClassValue__);var i=a.utils.unwrapObservable(t());$(e).addClass(i),e.__ko__previousClassValue__=i}},hc=new n,hc.init("/media/js/herodata.json","/media/js/itemdata.json","/media/js/unitdata.json",function(){function t(){var t=this;t.loaded=a.observable(!1),t.filterVisible=a.observable(!1),t.toggleFilterVisibility=function(){t.filterVisible(!t.filterVisible())},t.columnsVisible=a.observable(!1),t.toggleColumnVisibility=function(){t.columnsVisible(!t.columnsVisible())},t.filterTemplateToUse=function(e){return e.filterType+"-filter"},t.sortLabelClick=function(e,i,a){t.sortColumns.remove(i)},t.labelHTML=function(e,i){return t.sortDirections()[t.sortColumns()[e()]]()==-1?'<a href="#">'+i.header+"</a>":1==t.sortDirections()[t.sortColumns()[e()]]()?'<a href="#">'+i.header+"</a>":""},t.clearLabels=function(){t.sortColumns.removeAll()},t.clearFilters=function(){for(var e=0;e<t.headers().length;e++)void 0!=t.headers()[e].filterValue&&t.headers()[e].filterValue(null)},t.getCellClass=function(e,t){var i="text-"+e.align+" td-"+e.id;return"displayname"==e.id&&t.heroData().displayname.length>=12&&(i+=" long-header"),i},t.getData=function(e,i){var a,n=t.headers()[i],o=t.headers()[i].id;switch(o){case"icon":a='<div class="heroes-sprite-'+e.heroId()+' heroes-sprite-32x18"></div>';break;case"displayname":a=e.heroData()[o];break;case"attributeprimary":a=e.heroData()[o].replace("DOTA_ATTRIBUTE_","").slice(0,3);break;case"attacktype":a=e.heroData()[o].replace("DOTA_UNIT_CAP_","").replace("_ATTACK","");break;case"attributeagilitygain":case"attributeintelligencegain":case"attributestrengthgain":case"attackpoint":case"projectilespeed":a=e.heroData()[o];break;case"attackdamage":a=e.damageTotalInfo().totalRow[0]().toFixed(2);break;case"dps":a=e.damageTotalInfo().totalRow[2]().toFixed(2);break;default:a=e[o]()}return"numeric"==n.filterType?parseFloat(a):a},t.headers=a.observableArray(e("./table.headers"));for(var i=0;i<t.headers().length;i++)t.headers()[i].defaultDisplay=a.observable(t.headers()[i].display()),function(e){t.headers()[e].display.subscribe(function(t){var i=e+1,a=$("td:nth-child("+i+")");t?a.show():a.hide()})}(i);t.headerHTML=function(e,t){return t.header},this.selectedHeroLevel=a.observable(1),this.selectedHeroLevel.subscribe(function(e){t.heroes().forEach(function(t){t.selectedHeroLevel(parseInt(e))}),t.sortTable()}),this.heroes=a.observableArray([]);for(var r in n.prototype.heroData){var l=new n.prototype.HeroModel(r.replace("npc_dota_hero_",""));l.rowVisible=a.observable(!0),this.heroes.push(l)}t.shiftKey=a.observable(!1),t.multiSortValue=a.observable(!1),t.multiSort=a.pureComputed({read:function(){return this.multiSortValue()||this.shiftKey()},write:function(e){this.multiSortValue(e)},owner:this}),t.sortDirections=a.observableArray([]),t.initSortDirections=function(){for(var e=0;e<t.headers().length;e++)t.sortDirections.push(new a.observable(1))},t.initSortDirections(),t.sortColumn=a.observable(1),t.columnClick=function(e,i,a){t.sortDirections()[e()](-1*t.sortDirections()[e()]()),t.sortColumns.indexOf(e())<0&&(a.shiftKey||t.multiSort()?t.sortColumns.push(e()):(t.sortColumns.removeAll(),t.sortColumns.push(e()))),t.sortColumn(e()),t.sortTable()},t.sortColumns=a.observableArray([]),t.sortColumns.push(1),t.hideAllColumns=function(){for(var e=0;e<t.headers().length;e++)t.headers()[e].display(!1)},t.resetColumns=function(){for(var e=0;e<t.headers().length;e++)t.headers()[e].display(t.headers()[e].defaultDisplay())},t.toggleColumn=function(e,i,a){t.headers()[e()].display(!t.headers()[e()].display())},t.sortTable=function(){t.heroes.sort(function(e,i){for(var a=0;a<t.sortColumns().length;){var n=t.sortColumns()[a],o=(t.headers()[n].id,t.getData(e,n)),r=t.getData(i,n);if(t.sortColumns()[a]>2){if(o>r)return 1*t.sortDirections()[t.sortColumns()[a]]();if(o<r)return-1*t.sortDirections()[t.sortColumns()[a]]()}else{if(o>r)return 1*t.sortDirections()[t.sortColumns()[a]]();if(o<r)return-1*t.sortDirections()[t.sortColumns()[a]]()}a+=1}return 0})},t.doFilter=a.computed(function(){t.heroes().forEach(function(e){var i=t.headers().map(function(i,a){return t.getData(e,a)});e.rowVisible(i.every(function(e,i){if(!t.headers()[i].filter)return!0;if(!t.headers()[i].filterValue())return!0;switch(t.headers()[i].filterType){case"numeric":switch(t.headers()[i].filterComparison()){case"gt":return e>parseFloat(t.headers()[i].filterValue());case"lt":return e<parseFloat(t.headers()[i].filterValue());case"ge":return e>=parseFloat(t.headers()[i].filterValue());case"le":return e<=parseFloat(t.headers()[i].filterValue());case"eq":return e==parseFloat(t.headers()[i].filterValue())}break;case"string":return e.toLowerCase().indexOf(t.headers()[i].filterValue().toLowerCase())!=-1;case"select":return e==t.headers()[i].filterValue()}return t.headers()[i].filter}))})}).extend({deferred:!0}),t.rowCount=a.computed(function(){return t.heroes().filter(function(e){return e.rowVisible()}).length}),t.bonusAttributeLevel=a.computed(function(){var e=t.heroes()[0],i=e.ability().getAbility("attribute_bonus");return i.level()+"/"+Math.min(Math.floor((t.selectedHeroLevel()-1)/2+1),10)}),t.levelUpAttributeBonus=function(){t.heroes().forEach(function(e){var t=e.ability().getAbility("attribute_bonus");if(t){var i=e.ability().abilities.indexOf(t);e.ability().levelUpAbility(a.observable(i),t,null,e)}})},t.levelDownAttributeBonus=function(){t.heroes().forEach(function(e){var t=e.ability().getAbility("attribute_bonus");if(t){var i=e.ability().abilities.indexOf(t);e.ability().levelDownAbility(a.observable(i),t,null,e)}})},this.inventory=new n.prototype.BasicInventoryViewModel,this.inventory.removeItem=function(e){return function(i){e(i),t.heroes().forEach(function(e){e.inventory.removeItem(i)})}}(this.inventory.removeItem),this.inventory.toggleItem=function(e){return function(i,a,o){e(i,a,o),t.heroes().forEach(function(e){n.prototype.itemsWithActive.indexOf(a.item)>=0&&(e.inventory.activeItems.indexOf(a)<0?e.inventory.activeItems.push(a):e.inventory.activeItems.remove(a))})}}(this.inventory.removeItem),t.exportCSV=function(){var e=[];e.push(t.headers().filter(function(e){return e.display()}).map(function(e){return e.title})),t.heroes().forEach(function(i){e.push(t.headers().filter(function(e){return e.display()}).map(function(e,a){return t.getData(i,a)}))}),console.log(e);var i="data:text/csv;charset=utf-8,";e.forEach(function(t,a){dataString=t.join(","),i+=a<e.length?dataString+"\n":dataString});var a=encodeURI(i),n=document.createElement("a");n.setAttribute("href",a),n.setAttribute("download","hero_stats.csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},t.addItem=function(e,i){t.inventory.addItem(e,i);var a=t.inventory.items()[t.inventory.items().length-1];t.heroes().forEach(function(e){e.inventory.items.push(a)})},t.itemOptions=a.computed(function(){return t.heroes()[0].inventory.itemOptions()}),t.displayShop=a.observable(!1),t.displayShopItemTooltip=a.observable(!0);var s=$(window);t.windowWidth=a.observable(s.width()),t.windowHeight=a.observable(s.height()),s.resize(function(){t.windowWidth(s.width()),t.windowHeight(s.height())}),t.shopDock=a.observable(!1),t.shopDock.subscribe(function(e){e&&t.shopPopout(!1)}),t.shopDockTrigger=a.computed(function(){t.windowWidth(),t.shopDock()}),t.shopPopout=a.observable(!1),t.shopPopout.subscribe(function(e){e?(t.displayShop(!0),$("#shop-dialog").dialog({minWidth:380,minHeight:0,closeText:"",open:function(e,i){$(e.target.offsetParent).find(".ui-dialog-titlebar").find("button").addClass("close glyphicon glyphicon-remove shop-button btn btn-default btn-xs pull-right").removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close close").css("margin-right","0px").parent().append($("#shop-minimize")).append($("#shop-maximize")),$(e.target.offsetParent).find(".ui-dialog-titlebar").dblclick(function(){t.displayShop(!t.displayShop())})},close:function(e,i){t.shopPopout(!1)}})):($("#shop-container").prepend($("#shop-minimize")).prepend($("#shop-maximize")),$("#shop-dialog").dialog("destroy"))}),t.selectedItem=a.observable(),t.changeSelectedItem=function(e,i){t.itemInputValue(1),t.selectedItem(i.target.id)},t.getItemTooltipData=a.computed(function(){return o(n.prototype.itemData,t.selectedItem())},this),t.getItemInputLabel=a.computed(function(){return n.prototype.stackableItems.indexOf(t.selectedItem())!=-1?"Stack Size":n.prototype.levelitems.indexOf(t.selectedItem())!=-1?"Upgrade Level":"bloodstone"==t.selectedItem()?"Charges":""},this),t.itemInputValue=a.observable(1)}console.log("HeroCalc",n.prototype);var i=new t;document.body.addEventListener("keydown",function(e){i.shiftKey(!!e.shiftKey)},!0),document.body.addEventListener("keyup",function(e){i.shiftKey(!!e.shiftKey)},!0),console.log("vm",i),a.applyBindings(i),$("#multiSort-tooltip").tooltip({container:"body"}),$(".header-tooltip").tooltip({container:"body"}),$(".header-row > th").tooltip({container:"body"}),console.log("done"),i.loaded(!0),$("#spinner").hide()})},{"./app/herocalc_knockout":38,"./app/herocalc_tooltips":39,"./app/herocalc_tooltips_item":40,"./app/jquery-ui.custom":41,"./components/shop":42,"./table.headers":44,"dota-hero-calculator-library":12}],44:[function(e,t,i){t.exports=[{id:"icon",header:"ICON",title:"Hero Icon",align:"center",display:ko.observable(!0),filter:!1},{id:"displayname",header:"NAME",title:"Hero Name",align:"center",display:ko.observable(!0),filter:!0,filterType:"string",filterValue:ko.observable()},{id:"attributeprimary",header:"PSTAT",title:"Primary Stat",align:"center",display:ko.observable(!0),filter:!0,filterType:"select",filterValue:ko.observable(),filterOptions:[{text:"Agility",value:"AGI"},{text:"Strength",value:"STR"},{text:"Intelligence",value:"INT"}]},{id:"totalAgi",header:"AGI",title:"Agility",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"attributeagilitygain",header:"AGIG",title:"Agility Gain",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"totalInt",header:"INT",title:"Intelligence",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"attributeintelligencegain",header:"INTG",title:"Intelligence Gain",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"totalStr",header:"STR",title:"Strength",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"attributestrengthgain",header:"STRG",title:"Strength Gain",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"health",header:"HP",title:"Health",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"healthregen",header:"HPR",title:"Health Regen",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"mana",header:"MP",title:"Mana",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"manaregen",header:"MPR",title:"Mana Regen",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"totalArmorPhysical",header:"ARMR",title:"Armor",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"totalArmorPhysicalReduction",header:"%PR",title:"%Physical Damage Reduction",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"totalMovementSpeed",header:"MS",title:"Movement Speed",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"totalTurnRate",header:"TR",title:"Turn Rate",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"baseDamageAvg",header:"BAVG",title:"Base Damage Average",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"baseDamageMin",header:"BMIN",title:"Base Damage Min",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"baseDamageMax",header:"BMAX",title:"Base Damage Max",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"bonusDamage",header:"BD",title:"Bonus Damage",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"bonusDamageReduction",header:"BDR",title:"Bonus Damage Reduction",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"damageAvg",header:"DAVG",title:"Damage Average",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"damageMin",header:"DMIN",title:"Damage Min",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"damageMax",header:"DMAX",title:"Damage Max",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"totalMagicResistance",header:"%MR",title:"Magic Resistance",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"bat",header:"BAT",title:"Base Attack Time",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"ias",header:"IAS",title:"Increased Attack Speed",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"attacktype",header:"ATKT",title:"Attack Type",align:"right",display:ko.observable(!0),filter:!0,filterType:"select",filterValue:ko.observable(),filterOptions:[{text:"Ranged",value:"RANGED"},{text:"Melee",value:"MELEE"}]},{id:"attackTime",header:"AT",title:"Attack Time",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"attacksPerSecond",header:"APS",title:"Attacks Per Second",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"attackpoint",header:"ATKP",title:"Attack Point",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"projectilespeed",header:"PSPD",title:"Projectile Speed",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"evasion",header:"EVA",title:"Evasion",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"ehpPhysical",header:"PEHP",title:"Physical Effective Health",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"ehpMagical",header:"MEHP",title:"Magical Effective Health",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"bash",header:"BASH",title:"Bash Chance",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"critChance",header:"%CRT",title:"Crit Chance",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"missChance",header:"MISS",title:"Miss Chance",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"totalattackrange",header:"RNGE",title:"Attack Range",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"visionrangeday",header:"VISD",title:"Vision Range Day",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"visionrangenight",header:"VISN",title:"Vision Range Night",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"lifesteal",header:"LS",title:"Lifesteal",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"attackdamage",header:"ATKD",title:"Attack Damage",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()},{id:"dps",header:"DPS",title:"Damage Per Second",align:"right",display:ko.observable(!0),filter:!0,filterType:"numeric",filterValue:ko.observable(),filterComparison:ko.observable()}]},{}]},{},[43]);
//# sourceMappingURL=bundle.519c619.js.map
